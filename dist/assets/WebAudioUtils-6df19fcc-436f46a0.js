function f0(r1,_1,i,S){Object.defineProperty(r1,_1,{get:i,set:S,enumerable:!0,configurable:!0})}var b0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{},ze={},Ye={},v1=b0.parcelRequire3f09;v1==null&&(v1=function(r1){if(r1 in ze)return ze[r1].exports;if(r1 in Ye){var _1=Ye[r1];delete Ye[r1];var i={id:r1,exports:{}};return ze[r1]=i,_1.call(i.exports,i,i.exports),i.exports}var S=new Error("Cannot find module '"+r1+"'");throw S.code="MODULE_NOT_FOUND",S},v1.register=function(_1,i){Ye[_1]=i},b0.parcelRequire3f09=v1);v1.register("kk1yk",function(r1,_1){var i=v1("3YDN3"),S=i.System,U=i.VbrMode;i.Float;var Z=i.ShortBlock;i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double;var i1=i.new_float;i.new_float_n,i.new_int;var k=i.new_int_n,j=i.new_short_n,g=i.assert,d=v1("d2VP0"),G=v1("5HJeD"),O=v1("4SDnr"),B=v1("cU3Yf"),q=v1("2qGTD"),s1=v1("e32wu"),h1=v1("ctaQC"),r=v1("dQDcS"),n=v1("cPNKB");function A(){var p=v1("jL6I1"),M=this,c=131072;A.V9=410,A.V8=420,A.V7=430,A.V6=440,A.V5=450,A.V4=460,A.V3=470,A.V2=480,A.V1=490,A.V0=500,A.R3MIX=1e3,A.STANDARD=1001,A.EXTREME=1002,A.INSANE=1003,A.STANDARD_FAST=1004,A.EXTREME_FAST=1005,A.MEDIUM=1006,A.MEDIUM_FAST=1007;var e=16384+c;A.LAME_MAXMP3BUFFER=e;var l,I,y,$,Q,h=new d,m,Y,v;this.enc=new n,this.setModules=function(t,o,M1,B1,k1,L1,y1,T1,C1){l=t,I=o,y=M1,$=B1,Q=k1,m=L1,Y=T1,v=C1,this.enc.setModules(I,h,$,m)};function X(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i1(n.SBMAX_l),this.bo_s_weight=i1(n.SBMAX_s)}function L(){this.lowerlimit=0}function V(t,o){this.lowpass=o}var K=4294479419;function l1(t){var o;return t.class_id=K,o=t.internal_flags=new O,t.mode=p.NOT_SET,t.original=1,t.in_samplerate=44100,t.num_channels=2,t.num_samples=-1,t.bWriteVbrTag=!0,t.quality=-1,t.short_blocks=null,o.subblock_gain=-1,t.lowpassfreq=0,t.highpassfreq=0,t.lowpasswidth=-1,t.highpasswidth=-1,t.VBR=U.vbr_off,t.VBR_q=4,t.ATHcurve=-1,t.VBR_mean_bitrate_kbps=128,t.VBR_min_bitrate_kbps=0,t.VBR_max_bitrate_kbps=0,t.VBR_hard_min=0,o.VBR_min_bitrate=1,o.VBR_max_bitrate=13,t.quant_comp=-1,t.quant_comp_short=-1,t.msfix=-1,o.resample_ratio=1,o.OldValue[0]=180,o.OldValue[1]=180,o.CurrentStep[0]=4,o.CurrentStep[1]=4,o.masking_lower=1,o.nsPsy.attackthre=-1,o.nsPsy.attackthre_s=-1,t.scale=-1,t.athaa_type=-1,t.ATHtype=-1,t.athaa_loudapprox=-1,t.athaa_sensitivity=0,t.useTemporal=null,t.interChRatio=-1,o.mf_samples_to_encode=n.ENCDELAY+n.POSTDELAY,t.encoder_padding=0,o.mf_size=n.ENCDELAY-n.MDCTDELAY,t.findReplayGain=!1,t.decode_on_the_fly=!1,o.decode_on_the_fly=!1,o.findReplayGain=!1,o.findPeakSample=!1,o.RadioGain=0,o.AudiophileGain=0,o.noclipGainChange=0,o.noclipScale=-1,t.preset=0,t.write_id3tag_automatic=!0,0}this.lame_init=function(){var t=new G;return l1(t),t.lame_allocated_gfp=1,t};function E(t){return t>1?0:t<=0?1:Math.cos(Math.PI/2*t)}this.nearestBitrateFullIndex=function(t){var o=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],M1=0,B1=0,k1=0,L1=0;L1=o[16],k1=16,B1=o[16],M1=16;for(var y1=0;y1<16;y1++)if(Math.max(t,o[y1+1])!=t){L1=o[y1+1],k1=y1+1,B1=o[y1],M1=y1;break}return L1-t>t-B1?M1:k1};function w(t,o){var M1=44100;return o>=48e3?M1=48e3:o>=44100?M1=44100:o>=32e3?M1=32e3:o>=24e3?M1=24e3:o>=22050?M1=22050:o>=16e3?M1=16e3:o>=12e3?M1=12e3:o>=11025?M1=11025:o>=8e3&&(M1=8e3),t==-1?M1:(t<=15960&&(M1=44100),t<=15250&&(M1=32e3),t<=11220&&(M1=24e3),t<=9970&&(M1=22050),t<=7230&&(M1=16e3),t<=5420&&(M1=12e3),t<=4510&&(M1=11025),t<=3970&&(M1=8e3),o<M1?o>44100?48e3:o>32e3?44100:o>24e3?32e3:o>22050?24e3:o>16e3?22050:o>12e3?16e3:o>11025?12e3:o>8e3?11025:8e3:M1)}function s(t,o){switch(t){case 44100:return o.version=1,0;case 48e3:return o.version=1,1;case 32e3:return o.version=1,2;case 22050:return o.version=0,0;case 24e3:return o.version=0,1;case 16e3:return o.version=0,2;case 11025:return o.version=0,0;case 12e3:return o.version=0,1;case 8e3:return o.version=0,2;default:return o.version=0,-1}}function _(t,o,M1){M1<16e3&&(o=2);for(var B1=r.bitrate_table[o][1],k1=2;k1<=14;k1++)r.bitrate_table[o][k1]>0&&Math.abs(r.bitrate_table[o][k1]-t)<Math.abs(B1-t)&&(B1=r.bitrate_table[o][k1]);return B1}function a(t,o,M1){M1<16e3&&(o=2);for(var B1=0;B1<=14;B1++)if(r.bitrate_table[o][B1]>0&&r.bitrate_table[o][B1]==t)return B1;return-1}function u(t,o){var M1=[new V(8,2e3),new V(16,3700),new V(24,3900),new V(32,5500),new V(40,7e3),new V(48,7500),new V(56,1e4),new V(64,11e3),new V(80,13500),new V(96,15100),new V(112,15600),new V(128,17e3),new V(160,17500),new V(192,18600),new V(224,19400),new V(256,19700),new V(320,20500)],B1=M.nearestBitrateFullIndex(o);t.lowerlimit=M1[B1].lowpass}function F(t){var o=t.internal_flags,M1=32,B1=-1;if(o.lowpass1>0){for(var k1=999,L1=0;L1<=31;L1++){var y1=L1/31;y1>=o.lowpass2&&(M1=Math.min(M1,L1)),o.lowpass1<y1&&y1<o.lowpass2&&(k1=Math.min(k1,L1))}k1==999?o.lowpass1=(M1-.75)/31:o.lowpass1=(k1-.75)/31,o.lowpass2=M1/31}if(o.highpass2>0&&o.highpass2<.9*(.75/31)&&(o.highpass1=0,o.highpass2=0,S.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),o.highpass2>0){for(var T1=-1,L1=0;L1<=31;L1++){var y1=L1/31;y1<=o.highpass1&&(B1=Math.max(B1,L1)),o.highpass1<y1&&y1<o.highpass2&&(T1=Math.max(T1,L1))}o.highpass1=B1/31,T1==-1?o.highpass2=(B1+.75)/31:o.highpass2=(T1+.75)/31}for(var L1=0;L1<32;L1++){var C1,O1,y1=L1/31;o.highpass2>o.highpass1?C1=E((o.highpass2-y1)/(o.highpass2-o.highpass1+1e-20)):C1=1,o.lowpass2>o.lowpass1?O1=E((y1-o.lowpass1)/(o.lowpass2-o.lowpass1+1e-20)):O1=1,o.amp_filter[L1]=C1*O1}}function J(t){var o=t.internal_flags;switch(t.quality){default:case 9:o.psymodel=0,o.noise_shaping=0,o.noise_shaping_amp=0,o.noise_shaping_stop=0,o.use_best_huffman=0,o.full_outer_loop=0;break;case 8:t.quality=7;case 7:o.psymodel=1,o.noise_shaping=0,o.noise_shaping_amp=0,o.noise_shaping_stop=0,o.use_best_huffman=0,o.full_outer_loop=0;break;case 6:o.psymodel=1,o.noise_shaping==0&&(o.noise_shaping=1),o.noise_shaping_amp=0,o.noise_shaping_stop=0,o.subblock_gain==-1&&(o.subblock_gain=1),o.use_best_huffman=0,o.full_outer_loop=0;break;case 5:o.psymodel=1,o.noise_shaping==0&&(o.noise_shaping=1),o.noise_shaping_amp=0,o.noise_shaping_stop=0,o.subblock_gain==-1&&(o.subblock_gain=1),o.use_best_huffman=0,o.full_outer_loop=0;break;case 4:o.psymodel=1,o.noise_shaping==0&&(o.noise_shaping=1),o.noise_shaping_amp=0,o.noise_shaping_stop=0,o.subblock_gain==-1&&(o.subblock_gain=1),o.use_best_huffman=1,o.full_outer_loop=0;break;case 3:o.psymodel=1,o.noise_shaping==0&&(o.noise_shaping=1),o.noise_shaping_amp=1,o.noise_shaping_stop=1,o.subblock_gain==-1&&(o.subblock_gain=1),o.use_best_huffman=1,o.full_outer_loop=0;break;case 2:o.psymodel=1,o.noise_shaping==0&&(o.noise_shaping=1),o.substep_shaping==0&&(o.substep_shaping=2),o.noise_shaping_amp=1,o.noise_shaping_stop=1,o.subblock_gain==-1&&(o.subblock_gain=1),o.use_best_huffman=1,o.full_outer_loop=0;break;case 1:o.psymodel=1,o.noise_shaping==0&&(o.noise_shaping=1),o.substep_shaping==0&&(o.substep_shaping=2),o.noise_shaping_amp=2,o.noise_shaping_stop=1,o.subblock_gain==-1&&(o.subblock_gain=1),o.use_best_huffman=1,o.full_outer_loop=0;break;case 0:o.psymodel=1,o.noise_shaping==0&&(o.noise_shaping=1),o.substep_shaping==0&&(o.substep_shaping=2),o.noise_shaping_amp=2,o.noise_shaping_stop=1,o.subblock_gain==-1&&(o.subblock_gain=1),o.use_best_huffman=1,o.full_outer_loop=0;break}}function C(t){var o=t.internal_flags;t.frameNum=0,t.write_id3tag_automatic&&Y.id3tag_write_v2(t),o.bitrate_stereoMode_Hist=k([16,5]),o.bitrate_blockType_Hist=k([16,6]),o.PeakSample=0,t.bWriteVbrTag&&m.InitVbrTag(t)}this.lame_init_params=function(t){var o=t.internal_flags;if(o.Class_ID=0,o.ATH==null&&(o.ATH=new B),o.PSY==null&&(o.PSY=new X),o.rgdata==null&&(o.rgdata=new q),o.channels_in=t.num_channels,o.channels_in==1&&(t.mode=p.MONO),o.channels_out=t.mode==p.MONO?1:2,o.mode_ext=n.MPG_MD_MS_LR,t.mode==p.MONO&&(t.force_ms=!1),t.VBR==U.vbr_off&&t.VBR_mean_bitrate_kbps!=128&&t.brate==0&&(t.brate=t.VBR_mean_bitrate_kbps),t.VBR==U.vbr_off||t.VBR==U.vbr_mtrh||t.VBR==U.vbr_mt||(t.free_format=!1),t.VBR==U.vbr_off&&t.brate==0&&h1.EQ(t.compression_ratio,0)&&(t.compression_ratio=11.025),t.VBR==U.vbr_off&&t.compression_ratio>0&&(t.out_samplerate==0&&(t.out_samplerate=map2MP3Frequency(int(.97*t.in_samplerate))),t.brate=0|t.out_samplerate*16*o.channels_out/(1e3*t.compression_ratio),o.samplerate_index=s(t.out_samplerate,t),t.free_format||(t.brate=_(t.brate,t.version,t.out_samplerate))),t.out_samplerate!=0&&(t.out_samplerate<16e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,64)):t.out_samplerate<32e3?(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,160)):(t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,32),t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320))),t.lowpassfreq==0){var M1=16e3;switch(t.VBR){case U.vbr_off:var B1=new L;u(B1,t.brate),M1=B1.lowerlimit;break;case U.vbr_abr:var B1=new L;u(B1,t.VBR_mean_bitrate_kbps),M1=B1.lowerlimit;break;case U.vbr_rh:var T1=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=t.VBR_q&&t.VBR_q<=9){var k1=T1[t.VBR_q],L1=T1[t.VBR_q+1],y1=t.VBR_q_frac;M1=linear_int(k1,L1,y1)}else M1=19500;break;default:var T1=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=t.VBR_q&&t.VBR_q<=9){var k1=T1[t.VBR_q],L1=T1[t.VBR_q+1],y1=t.VBR_q_frac;M1=linear_int(k1,L1,y1)}else M1=19500}t.mode==p.MONO&&(t.VBR==U.vbr_off||t.VBR==U.vbr_abr)&&(M1*=1.5),t.lowpassfreq=M1|0}if(t.out_samplerate==0&&(2*t.lowpassfreq>t.in_samplerate&&(t.lowpassfreq=t.in_samplerate/2),t.out_samplerate=w(t.lowpassfreq|0,t.in_samplerate)),t.lowpassfreq=Math.min(20500,t.lowpassfreq),t.lowpassfreq=Math.min(t.out_samplerate/2,t.lowpassfreq),t.VBR==U.vbr_off&&(t.compression_ratio=t.out_samplerate*16*o.channels_out/(1e3*t.brate)),t.VBR==U.vbr_abr&&(t.compression_ratio=t.out_samplerate*16*o.channels_out/(1e3*t.VBR_mean_bitrate_kbps)),t.bWriteVbrTag||(t.findReplayGain=!1,t.decode_on_the_fly=!1,o.findPeakSample=!1),o.findReplayGain=t.findReplayGain,o.decode_on_the_fly=t.decode_on_the_fly,o.decode_on_the_fly&&(o.findPeakSample=!0),o.findReplayGain&&l.InitGainAnalysis(o.rgdata,t.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return t.internal_flags=null,-6;switch(o.decode_on_the_fly&&!t.decode_only&&(o.hip!=null&&v.hip_decode_exit(o.hip),o.hip=v.hip_decode_init()),o.mode_gr=t.out_samplerate<=24e3?1:2,t.framesize=576*o.mode_gr,t.encoder_delay=n.ENCDELAY,o.resample_ratio=t.in_samplerate/t.out_samplerate,t.VBR){case U.vbr_mt:case U.vbr_rh:case U.vbr_mtrh:var C1=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];t.compression_ratio=C1[t.VBR_q];break;case U.vbr_abr:t.compression_ratio=t.out_samplerate*16*o.channels_out/(1e3*t.VBR_mean_bitrate_kbps);break;default:t.compression_ratio=t.out_samplerate*16*o.channels_out/(1e3*t.brate);break}if(t.mode==p.NOT_SET&&(t.mode=p.JOINT_STEREO),t.highpassfreq>0?(o.highpass1=2*t.highpassfreq,t.highpasswidth>=0?o.highpass2=2*(t.highpassfreq+t.highpasswidth):o.highpass2=2*t.highpassfreq,o.highpass1/=t.out_samplerate,o.highpass2/=t.out_samplerate):(o.highpass1=0,o.highpass2=0),t.lowpassfreq>0?(o.lowpass2=2*t.lowpassfreq,t.lowpasswidth>=0?(o.lowpass1=2*(t.lowpassfreq-t.lowpasswidth),o.lowpass1<0&&(o.lowpass1=0)):o.lowpass1=2*t.lowpassfreq,o.lowpass1/=t.out_samplerate,o.lowpass2/=t.out_samplerate):(o.lowpass1=0,o.lowpass2=0),F(t),o.samplerate_index=s(t.out_samplerate,t),o.samplerate_index<0)return t.internal_flags=null,-1;if(t.VBR==U.vbr_off){if(t.free_format)o.bitrate_index=0;else if(t.brate=_(t.brate,t.version,t.out_samplerate),o.bitrate_index=a(t.brate,t.version,t.out_samplerate),o.bitrate_index<=0)return t.internal_flags=null,-1}else o.bitrate_index=1;t.analysis&&(t.bWriteVbrTag=!1),o.pinfo!=null&&(t.bWriteVbrTag=!1),I.init_bit_stream_w(o);for(var O1=o.samplerate_index+3*t.version+6*(t.out_samplerate<16e3?1:0),S1=0;S1<n.SBMAX_l+1;S1++)o.scalefac_band.l[S1]=$.sfBandIndex[O1].l[S1];for(var S1=0;S1<n.PSFB21+1;S1++){var q1=(o.scalefac_band.l[22]-o.scalefac_band.l[21])/n.PSFB21,g1=o.scalefac_band.l[21]+S1*q1;o.scalefac_band.psfb21[S1]=g1}o.scalefac_band.psfb21[n.PSFB21]=576;for(var S1=0;S1<n.SBMAX_s+1;S1++)o.scalefac_band.s[S1]=$.sfBandIndex[O1].s[S1];for(var S1=0;S1<n.PSFB12+1;S1++){var q1=(o.scalefac_band.s[13]-o.scalefac_band.s[12])/n.PSFB12,g1=o.scalefac_band.s[12]+S1*q1;o.scalefac_band.psfb12[S1]=g1}o.scalefac_band.psfb12[n.PSFB12]=192,t.version==1?o.sideinfo_len=o.channels_out==1?21:36:o.sideinfo_len=o.channels_out==1?13:21,t.error_protection&&(o.sideinfo_len+=2),C(t),o.Class_ID=K;var G1;for(G1=0;G1<19;G1++)o.nsPsy.pefirbuf[G1]=700*o.mode_gr*o.channels_out;switch(t.ATHtype==-1&&(t.ATHtype=4),g(t.VBR_q<=9),g(t.VBR_q>=0),t.VBR){case U.vbr_mt:t.VBR=U.vbr_mtrh;case U.vbr_mtrh:t.useTemporal==null&&(t.useTemporal=!1),y.apply_preset(t,500-t.VBR_q*10,0),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),t.quality<5&&(t.quality=0),t.quality>5&&(t.quality=5),o.PSY.mask_adjust=t.maskingadjust,o.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?o.sfb21_extra=!1:o.sfb21_extra=t.out_samplerate>44e3,o.iteration_loop=new VBRNewIterationLoop(Q);break;case U.vbr_rh:y.apply_preset(t,500-t.VBR_q*10,0),o.PSY.mask_adjust=t.maskingadjust,o.PSY.mask_adjust_short=t.maskingadjust_short,t.experimentalY?o.sfb21_extra=!1:o.sfb21_extra=t.out_samplerate>44e3,t.quality>6&&(t.quality=6),t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),o.iteration_loop=new VBROldIterationLoop(Q);break;default:var W1;o.sfb21_extra=!1,t.quality<0&&(t.quality=LAME_DEFAULT_QUALITY),W1=t.VBR,W1==U.vbr_off&&(t.VBR_mean_bitrate_kbps=t.brate),y.apply_preset(t,t.VBR_mean_bitrate_kbps,0),t.VBR=W1,o.PSY.mask_adjust=t.maskingadjust,o.PSY.mask_adjust_short=t.maskingadjust_short,W1==U.vbr_off?o.iteration_loop=new s1(Q):o.iteration_loop=new ABRIterationLoop(Q);break}if(g(t.scale>=0),t.VBR!=U.vbr_off){if(o.VBR_min_bitrate=1,o.VBR_max_bitrate=14,t.out_samplerate<16e3&&(o.VBR_max_bitrate=8),t.VBR_min_bitrate_kbps!=0&&(t.VBR_min_bitrate_kbps=_(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),o.VBR_min_bitrate=a(t.VBR_min_bitrate_kbps,t.version,t.out_samplerate),o.VBR_min_bitrate<0)||t.VBR_max_bitrate_kbps!=0&&(t.VBR_max_bitrate_kbps=_(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),o.VBR_max_bitrate=a(t.VBR_max_bitrate_kbps,t.version,t.out_samplerate),o.VBR_max_bitrate<0))return-1;t.VBR_min_bitrate_kbps=r.bitrate_table[t.version][o.VBR_min_bitrate],t.VBR_max_bitrate_kbps=r.bitrate_table[t.version][o.VBR_max_bitrate],t.VBR_mean_bitrate_kbps=Math.min(r.bitrate_table[t.version][o.VBR_max_bitrate],t.VBR_mean_bitrate_kbps),t.VBR_mean_bitrate_kbps=Math.max(r.bitrate_table[t.version][o.VBR_min_bitrate],t.VBR_mean_bitrate_kbps)}return t.tune&&(o.PSY.mask_adjust+=t.tune_value_a,o.PSY.mask_adjust_short+=t.tune_value_a),J(t),g(t.scale>=0),t.athaa_type<0?o.ATH.useAdjust=3:o.ATH.useAdjust=t.athaa_type,o.ATH.aaSensitivityP=Math.pow(10,t.athaa_sensitivity/-10),t.short_blocks==null&&(t.short_blocks=Z.short_block_allowed),t.short_blocks==Z.short_block_allowed&&(t.mode==p.JOINT_STEREO||t.mode==p.STEREO)&&(t.short_blocks=Z.short_block_coupled),t.quant_comp<0&&(t.quant_comp=1),t.quant_comp_short<0&&(t.quant_comp_short=0),t.msfix<0&&(t.msfix=0),t.exp_nspsytune=t.exp_nspsytune|1,t.internal_flags.nsPsy.attackthre<0&&(t.internal_flags.nsPsy.attackthre=d.NSATTACKTHRE),t.internal_flags.nsPsy.attackthre_s<0&&(t.internal_flags.nsPsy.attackthre_s=d.NSATTACKTHRE_S),g(t.scale>=0),t.scale<0&&(t.scale=1),t.ATHtype<0&&(t.ATHtype=4),t.ATHcurve<0&&(t.ATHcurve=4),t.athaa_loudapprox<0&&(t.athaa_loudapprox=2),t.interChRatio<0&&(t.interChRatio=0),t.useTemporal==null&&(t.useTemporal=!0),o.slot_lag=o.frac_SpF=0,t.VBR==U.vbr_off&&(o.slot_lag=o.frac_SpF=(t.version+1)*72e3*t.brate%t.out_samplerate|0),$.iteration_init(t),h.psymodel_init(t),g(t.scale>=0),0};function N(t,o){(t.in_buffer_0==null||t.in_buffer_nsamples<o)&&(t.in_buffer_0=i1(o),t.in_buffer_1=i1(o),t.in_buffer_nsamples=o)}this.lame_encode_flush=function(t,o,M1,B1){var k1=t.internal_flags,L1=j([2,1152]),y1=0,T1,C1,O1,S1,q1=k1.mf_samples_to_encode-n.POSTDELAY,g1=e1(t);if(k1.mf_samples_to_encode<1)return 0;for(T1=0,t.in_samplerate!=t.out_samplerate&&(q1+=16*t.out_samplerate/t.in_samplerate),O1=t.framesize-q1%t.framesize,O1<576&&(O1+=t.framesize),t.encoder_padding=O1,S1=(q1+O1)/t.framesize;S1>0&&y1>=0;){var G1=g1-k1.mf_size,W1=t.frameNum;G1*=t.in_samplerate,G1/=t.out_samplerate,G1>1152&&(G1=1152),G1<1&&(G1=1),C1=B1-T1,B1==0&&(C1=0),y1=this.lame_encode_buffer(t,L1[0],L1[1],G1,o,M1,C1),M1+=y1,T1+=y1,S1-=W1!=t.frameNum?1:0}if(k1.mf_samples_to_encode=0,y1<0||(C1=B1-T1,B1==0&&(C1=0),I.flush_bitstream(t),y1=I.copy_buffer(k1,o,M1,C1,1),y1<0))return y1;if(M1+=y1,T1+=y1,C1=B1-T1,B1==0&&(C1=0),t.write_id3tag_automatic){if(Y.id3tag_write_v1(t),y1=I.copy_buffer(k1,o,M1,C1,0),y1<0)return y1;T1+=y1}return T1},this.lame_encode_buffer=function(t,o,M1,B1,k1,L1,y1){var T1=t.internal_flags,C1=[null,null];if(T1.Class_ID!=K)return-3;if(B1==0)return 0;N(T1,B1),C1[0]=T1.in_buffer_0,C1[1]=T1.in_buffer_1;for(var O1=0;O1<B1;O1++)C1[0][O1]=o[O1],T1.channels_in>1&&(C1[1][O1]=M1[O1]);return o1(t,C1[0],C1[1],B1,k1,L1,y1)};function e1(t){var o=n.BLKSIZE+t.framesize-n.FFTOFFSET;return o=Math.max(o,512+t.framesize-32),g(O.MFSIZE>=o),o}function o1(t,o,M1,B1,k1,L1,y1){var T1=t.internal_flags,C1=0,O1,S1,q1,g1,G1,W1=[null,null],ee=[null,null];if(T1.Class_ID!=K)return-3;if(B1==0)return 0;if(G1=I.copy_buffer(T1,k1,L1,y1,0),G1<0)return G1;if(L1+=G1,C1+=G1,ee[0]=o,ee[1]=M1,h1.NEQ(t.scale,0)&&h1.NEQ(t.scale,1))for(S1=0;S1<B1;++S1)ee[0][S1]*=t.scale,T1.channels_out==2&&(ee[1][S1]*=t.scale);if(h1.NEQ(t.scale_left,0)&&h1.NEQ(t.scale_left,1))for(S1=0;S1<B1;++S1)ee[0][S1]*=t.scale_left;if(h1.NEQ(t.scale_right,0)&&h1.NEQ(t.scale_right,1))for(S1=0;S1<B1;++S1)ee[1][S1]*=t.scale_right;if(t.num_channels==2&&T1.channels_out==1)for(S1=0;S1<B1;++S1)ee[0][S1]=.5*(ee[0][S1]+ee[1][S1]),ee[1][S1]=0;g1=e1(t),W1[0]=T1.mfbuf[0],W1[1]=T1.mfbuf[1];for(var j1=0;B1>0;){var ae=[null,null],de=0,re=0;ae[0]=ee[0],ae[1]=ee[1];var oe=new N1;if(J1(t,W1,ae,j1,B1,oe),de=oe.n_in,re=oe.n_out,T1.findReplayGain&&!T1.decode_on_the_fly&&l.AnalyzeSamples(T1.rgdata,W1[0],T1.mf_size,W1[1],T1.mf_size,re,T1.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(B1-=de,j1+=de,T1.channels_out,T1.mf_size+=re,g(T1.mf_size<=O.MFSIZE),T1.mf_samples_to_encode<1&&(T1.mf_samples_to_encode=n.ENCDELAY+n.POSTDELAY),T1.mf_samples_to_encode+=re,T1.mf_size>=g1){var Se=y1-C1;if(y1==0&&(Se=0),O1=c1(t,W1[0],W1[1],k1,L1,Se),O1<0)return O1;for(L1+=O1,C1+=O1,T1.mf_size-=t.framesize,T1.mf_samples_to_encode-=t.framesize,q1=0;q1<T1.channels_out;q1++)for(S1=0;S1<T1.mf_size;S1++)W1[q1][S1]=W1[q1][S1+t.framesize]}}return g(B1==0),C1}function c1(t,o,M1,B1,k1,L1){var y1=M.enc.lame_encode_mp3_frame(t,o,M1,B1,k1,L1);return t.frameNum++,y1}function N1(){this.n_in=0,this.n_out=0}function A1(){this.num_used=0}function R1(t,o){return o!=0?R1(o,t%o):t}function p1(t,o,M1){var B1=Math.PI*o;t/=M1,t<0&&(t=0),t>1&&(t=1);var k1=t-.5,L1=.42-.5*Math.cos(2*t*Math.PI)+.08*Math.cos(4*t*Math.PI);return Math.abs(k1)<1e-9?B1/Math.PI:L1*Math.sin(M1*B1*k1)/(Math.PI*M1*k1)}function x1(t,o,M1,B1,k1,L1,y1,T1,C1){var O1=t.internal_flags,S1,q1=0,g1,G1=t.out_samplerate/R1(t.out_samplerate,t.in_samplerate);G1>O.BPC&&(G1=O.BPC);var W1=Math.abs(O1.resample_ratio-Math.floor(.5+O1.resample_ratio))<1e-4?1:0,ee=1/O1.resample_ratio;ee>1&&(ee=1);var j1=31;j1%2==0&&--j1,j1+=W1;var ae=j1+1;if(O1.fill_buffer_resample_init==0){for(O1.inbuf_old[0]=i1(ae),O1.inbuf_old[1]=i1(ae),S1=0;S1<=2*G1;++S1)O1.blackfilt[S1]=i1(ae);for(O1.itime[0]=0,O1.itime[1]=0,q1=0;q1<=2*G1;q1++){var de=0,re=(q1-G1)/(2*G1);for(S1=0;S1<=j1;S1++)de+=O1.blackfilt[q1][S1]=p1(S1-re,ee,j1);for(S1=0;S1<=j1;S1++)O1.blackfilt[q1][S1]/=de}O1.fill_buffer_resample_init=1}var oe=O1.inbuf_old[C1];for(g1=0;g1<B1;g1++){var Se,he;if(Se=g1*O1.resample_ratio,q1=0|Math.floor(Se-O1.itime[C1]),j1+q1-j1/2>=y1)break;var re=Se-O1.itime[C1]-(q1+.5*(j1%2));g(Math.abs(re)<=.501),he=0|Math.floor(re*2*G1+G1+.5);var ye=0;for(S1=0;S1<=j1;++S1){var Ae=0|S1+q1-j1/2,$e;g(Ae<y1),g(Ae+ae>=0),$e=Ae<0?oe[ae+Ae]:k1[L1+Ae],ye+=$e*O1.blackfilt[he][S1]}o[M1+g1]=ye}if(T1.num_used=Math.min(y1,j1+q1-j1/2),O1.itime[C1]+=T1.num_used-g1*O1.resample_ratio,T1.num_used>=ae)for(S1=0;S1<ae;S1++)oe[S1]=k1[L1+T1.num_used+S1-ae];else{var Me=ae-T1.num_used;for(S1=0;S1<Me;++S1)oe[S1]=oe[S1+T1.num_used];for(q1=0;S1<ae;++S1,++q1)oe[S1]=k1[L1+q1];g(q1==T1.num_used)}return g1}function J1(t,o,M1,B1,k1,L1){var y1=t.internal_flags;if(y1.resample_ratio<.9999||y1.resample_ratio>1.0001)for(var T1=0;T1<y1.channels_out;T1++){var C1=new A1;L1.n_out=x1(t,o[T1],y1.mf_size,t.framesize,M1[T1],B1,k1,C1,T1),L1.n_in=C1.num_used}else{L1.n_out=Math.min(t.framesize,k1),L1.n_in=L1.n_out;for(var O1=0;O1<L1.n_out;++O1)o[0][y1.mf_size+O1]=M1[0][B1+O1],y1.channels_out==2&&(o[1][y1.mf_size+O1]=M1[1][B1+O1])}}}r1.exports=A});v1.register("3YDN3",function(r1,_1){function i(n){return new Int8Array(n)}function S(n){return new Int16Array(n)}function U(n){return new Int32Array(n)}function Z(n){return new Float32Array(n)}function i1(n){return new Float64Array(n)}function k(n){if(n.length==1)return Z(n[0]);var A=n[0];n=n.slice(1);for(var p=[],M=0;M<A;M++)p.push(k(n));return p}function j(n){if(n.length==1)return U(n[0]);var A=n[0];n=n.slice(1);for(var p=[],M=0;M<A;M++)p.push(j(n));return p}function g(n){if(n.length==1)return S(n[0]);var A=n[0];n=n.slice(1);for(var p=[],M=0;M<A;M++)p.push(g(n));return p}function d(n){if(n.length==1)return new Array(n[0]);var A=n[0];n=n.slice(1);for(var p=[],M=0;M<A;M++)p.push(d(n));return p}var G={};G.fill=function(n,A,p,M){if(arguments.length==2)for(var c=0;c<n.length;c++)n[c]=arguments[1];else for(var c=A;c<p;c++)n[c]=M};var O={};O.arraycopy=function(n,A,p,M,c){for(var e=A+c;A<e;)p[M++]=n[A++]},O.out={},O.out.println=function(n){console.log(n)},O.out.printf=function(){console.log.apply(console,arguments)};var B={};B.SQRT2=1.4142135623730951,B.FAST_LOG10=function(n){return Math.log10(n)},B.FAST_LOG10_X=function(n,A){return Math.log10(n)*A};function q(n){this.ordinal=n}q.short_block_allowed=new q(0),q.short_block_coupled=new q(1),q.short_block_dispensed=new q(2),q.short_block_forced=new q(3);var s1={};s1.MAX_VALUE=34028235e31;function h1(n){this.ordinal=n}h1.vbr_off=new h1(0),h1.vbr_mt=new h1(1),h1.vbr_rh=new h1(2),h1.vbr_abr=new h1(3),h1.vbr_mtrh=new h1(4),h1.vbr_default=h1.vbr_mtrh;var r=function(n){};r1.exports={System:O,VbrMode:h1,Float:s1,ShortBlock:q,Util:B,Arrays:G,new_array_n:d,new_byte:i,new_double:i1,new_float:Z,new_float_n:k,new_int:U,new_int_n:j,new_short:S,new_short_n:g,assert:r}});v1.register("d2VP0",function(r1,_1){var i=v1("3YDN3");i.System;var S=i.VbrMode,U=i.Float,Z=i.ShortBlock,i1=i.Util,k=i.Arrays;i.new_array_n,i.new_byte,i.new_double;var j=i.new_float,g=i.new_float_n,d=i.new_int;i.new_int_n;var G=i.assert,O=v1("2g11P"),B=v1("cPNKB");function q(){var s1=v1("jL6I1"),h1=new O,r=2.302585092994046,n=2,A=16,p=2,M=16,c=.34,e=1/217621504/(B.BLKSIZE/2),l=.01,I=.8,y=.6,$=.3,Q=3.5,h=21,m=.2302585093;function Y(f){return f}function v(f,b){for(var T=0,H=0;H<B.BLKSIZE/2;++H)T+=f[H]*b.ATH.eql_w[H];return T*=e,T}function X(f,b,T,H,P,R,D,W,x,t1,z){var n1=f.internal_flags;if(x<2)h1.fft_long(n1,H[P],x,t1,z),h1.fft_short(n1,R[D],x,t1,z);else if(x==2){for(var m1=B.BLKSIZE-1;m1>=0;--m1){var H1=H[P+0][m1],f1=H[P+1][m1];H[P+0][m1]=(H1+f1)*i1.SQRT2*.5,H[P+1][m1]=(H1-f1)*i1.SQRT2*.5}for(var I1=2;I1>=0;--I1)for(var m1=B.BLKSIZE_s-1;m1>=0;--m1){var H1=R[D+0][I1][m1],f1=R[D+1][I1][m1];R[D+0][I1][m1]=(H1+f1)*i1.SQRT2*.5,R[D+1][I1][m1]=(H1-f1)*i1.SQRT2*.5}}b[0]=H[P+0][0],b[0]*=b[0];for(var m1=B.BLKSIZE/2-1;m1>=0;--m1){var a1=H[P+0][B.BLKSIZE/2-m1],w1=H[P+0][B.BLKSIZE/2+m1];b[B.BLKSIZE/2-m1]=(a1*a1+w1*w1)*.5}for(var I1=2;I1>=0;--I1){T[I1][0]=R[D+0][I1][0],T[I1][0]*=T[I1][0];for(var m1=B.BLKSIZE_s/2-1;m1>=0;--m1){var a1=R[D+0][I1][B.BLKSIZE_s/2-m1],w1=R[D+0][I1][B.BLKSIZE_s/2+m1];T[I1][B.BLKSIZE_s/2-m1]=(a1*a1+w1*w1)*.5}}for(var X1=0,m1=11;m1<B.HBLKSIZE;m1++)X1+=b[m1];if(n1.tot_ener[x]=X1,f.analysis){for(var m1=0;m1<B.HBLKSIZE;m1++)n1.pinfo.energy[W][x][m1]=n1.pinfo.energy_save[x][m1],n1.pinfo.energy_save[x][m1]=b[m1];n1.pinfo.pe[W][x]=n1.pe[x]}f.athaa_loudapprox==2&&x<2&&(n1.loudness_sq[W][x]=n1.loudness_sq_save[x],n1.loudness_sq_save[x]=v(b,n1))}var L=8,V=23,K=15,l1,E,w,s=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function _(){l1=Math.pow(10,(L+1)/16),E=Math.pow(10,(V+1)/16),w=Math.pow(10,K/10)}var a=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],u=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],F=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function J(f,b,T,H,P,R){var D;if(b>f)if(b<f*E)D=b/f;else return f+b;else{if(f>=b*E)return f+b;D=f/b}if(G(f>=0),G(b>=0),f+=b,H+3<=6){if(D>=l1)return f;var W=0|i1.FAST_LOG10_X(D,16);return f*u[W]}var W=0|i1.FAST_LOG10_X(D,16);if(R!=0?b=P.ATH.cb_s[T]*P.ATH.adjust:b=P.ATH.cb_l[T]*P.ATH.adjust,G(b>=0),f<w*b){if(f>b){var x,t1;return x=1,W<=13&&(x=F[W]),t1=i1.FAST_LOG10_X(f/b,10/15),f*((a[W]-x)*t1+x)}return W>13?f:f*F[W]}return f*a[W]}var C=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function N(f,b,T){var H;if(f<0&&(f=0),b<0&&(b=0),f<=0)return b;if(b<=0)return f;if(b>f?H=b/f:H=f/b,-2<=T&&T<=2){if(H>=l1)return f+b;var P=0|i1.FAST_LOG10_X(H,16);return(f+b)*C[P]}return H<E?f+b:(f<b&&(f=b),f)}function e1(f,b){var T=f.internal_flags;if(T.channels_out>1){for(var H=0;H<B.SBMAX_l;H++){var P=T.thm[0].l[H],R=T.thm[1].l[H];T.thm[0].l[H]+=R*b,T.thm[1].l[H]+=P*b}for(var H=0;H<B.SBMAX_s;H++)for(var D=0;D<3;D++){var P=T.thm[0].s[H][D],R=T.thm[1].s[H][D];T.thm[0].s[H][D]+=R*b,T.thm[1].s[H][D]+=P*b}}}function o1(f){for(var b=0;b<B.SBMAX_l;b++)if(!(f.thm[0].l[b]>1.58*f.thm[1].l[b]||f.thm[1].l[b]>1.58*f.thm[0].l[b])){var T=f.mld_l[b]*f.en[3].l[b],H=Math.max(f.thm[2].l[b],Math.min(f.thm[3].l[b],T));T=f.mld_l[b]*f.en[2].l[b];var P=Math.max(f.thm[3].l[b],Math.min(f.thm[2].l[b],T));f.thm[2].l[b]=H,f.thm[3].l[b]=P}for(var b=0;b<B.SBMAX_s;b++)for(var R=0;R<3;R++)if(!(f.thm[0].s[b][R]>1.58*f.thm[1].s[b][R]||f.thm[1].s[b][R]>1.58*f.thm[0].s[b][R])){var T=f.mld_s[b]*f.en[3].s[b][R],H=Math.max(f.thm[2].s[b][R],Math.min(f.thm[3].s[b][R],T));T=f.mld_s[b]*f.en[2].s[b][R];var P=Math.max(f.thm[3].s[b][R],Math.min(f.thm[2].s[b][R],T));f.thm[2].s[b][R]=H,f.thm[3].s[b][R]=P}}function c1(f,b,T){var H=b,P=Math.pow(10,T);b*=2,H*=2;for(var R=0;R<B.SBMAX_l;R++){var D,W,x,t1;if(t1=f.ATH.cb_l[f.bm_l[R]]*P,D=Math.min(Math.max(f.thm[0].l[R],t1),Math.max(f.thm[1].l[R],t1)),W=Math.max(f.thm[2].l[R],t1),x=Math.max(f.thm[3].l[R],t1),D*b<W+x){var z=D*H/(W+x);W*=z,x*=z,G(W+x>0)}f.thm[2].l[R]=Math.min(W,f.thm[2].l[R]),f.thm[3].l[R]=Math.min(x,f.thm[3].l[R])}P*=B.BLKSIZE_s/B.BLKSIZE;for(var R=0;R<B.SBMAX_s;R++)for(var n1=0;n1<3;n1++){var D,W,x,t1;if(t1=f.ATH.cb_s[f.bm_s[R]]*P,D=Math.min(Math.max(f.thm[0].s[R][n1],t1),Math.max(f.thm[1].s[R][n1],t1)),W=Math.max(f.thm[2].s[R][n1],t1),x=Math.max(f.thm[3].s[R][n1],t1),D*b<W+x){var z=D*b/(W+x);W*=z,x*=z,G(W+x>0)}f.thm[2].s[R][n1]=Math.min(f.thm[2].s[R][n1],W),f.thm[3].s[R][n1]=Math.min(f.thm[3].s[R][n1],x)}}function N1(f,b,T,H,P){var R,D,W=0,x=0;for(R=D=0;R<B.SBMAX_s;++D,++R){for(var t1=f.bo_s[R],z=f.npart_s,n1=t1<z?t1:z;D<n1;)G(b[D]>=0),G(T[D]>=0),W+=b[D],x+=T[D],D++;if(f.en[H].s[R][P]=W,f.thm[H].s[R][P]=x,D>=z){++R;break}G(b[D]>=0),G(T[D]>=0);var m1=f.PSY.bo_s_weight[R],H1=1-m1;W=m1*b[D],x=m1*T[D],f.en[H].s[R][P]+=W,f.thm[H].s[R][P]+=x,W=H1*b[D],x=H1*T[D]}for(;R<B.SBMAX_s;++R)f.en[H].s[R][P]=0,f.thm[H].s[R][P]=0}function A1(f,b,T,H){var P,R,D=0,W=0;for(P=R=0;P<B.SBMAX_l;++R,++P){for(var x=f.bo_l[P],t1=f.npart_l,z=x<t1?x:t1;R<z;)G(b[R]>=0),G(T[R]>=0),D+=b[R],W+=T[R],R++;if(f.en[H].l[P]=D,f.thm[H].l[P]=W,R>=t1){++P;break}G(b[R]>=0),G(T[R]>=0);var n1=f.PSY.bo_l_weight[P],m1=1-n1;D=n1*b[R],W=n1*T[R],f.en[H].l[P]+=D,f.thm[H].l[P]+=W,D=m1*b[R],W=m1*T[R]}for(;P<B.SBMAX_l;++P)f.en[H].l[P]=0,f.thm[H].l[P]=0}function R1(f,b,T,H,P,R){var D=f.internal_flags,W,x;for(x=W=0;x<D.npart_s;++x){for(var t1=0,z=D.numlines_s[x],n1=0;n1<z;++n1,++W){var m1=b[R][W];t1+=m1}T[x]=t1}for(G(x==D.npart_s),G(W==129),W=x=0;x<D.npart_s;x++){var H1=D.s3ind_s[x][0],f1=D.s3_ss[W++]*T[H1];for(++H1;H1<=D.s3ind_s[x][1];)f1+=D.s3_ss[W]*T[H1],++W,++H1;var I1=p*D.nb_s1[P][x];if(H[x]=Math.min(f1,I1),D.blocktype_old[P&1]==B.SHORT_TYPE){var I1=M*D.nb_s2[P][x],a1=H[x];H[x]=Math.min(I1,a1)}D.nb_s2[P][x]=D.nb_s1[P][x],D.nb_s1[P][x]=f1,G(H[x]>=0)}for(;x<=B.CBANDS;++x)T[x]=0,H[x]=0}function p1(f,b,T,H){var P=f.internal_flags;f.short_blocks==Z.short_block_coupled&&!(b[0]!=0&&b[1]!=0)&&(b[0]=b[1]=0);for(var R=0;R<P.channels_out;R++)H[R]=B.NORM_TYPE,f.short_blocks==Z.short_block_dispensed&&(b[R]=1),f.short_blocks==Z.short_block_forced&&(b[R]=0),b[R]!=0?(G(P.blocktype_old[R]!=B.START_TYPE),P.blocktype_old[R]==B.SHORT_TYPE&&(H[R]=B.STOP_TYPE)):(H[R]=B.SHORT_TYPE,P.blocktype_old[R]==B.NORM_TYPE&&(P.blocktype_old[R]=B.START_TYPE),P.blocktype_old[R]==B.STOP_TYPE&&(P.blocktype_old[R]=B.SHORT_TYPE)),T[R]=P.blocktype_old[R],P.blocktype_old[R]=H[R]}function x1(f,b,T){return T>=1?f:T<=0?b:b>0?Math.pow(f/b,T)*b:0}var J1=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function t(f,b){for(var T=309.07,H=0;H<B.SBMAX_s-1;H++)for(var P=0;P<3;P++){var R=f.thm.s[H][P];if(G(H<J1.length),R>0){var D=R*b,W=f.en.s[H][P];W>D&&(W>D*1e10?T+=J1[H]*(10*r):(G(D>0),T+=J1[H]*i1.FAST_LOG10(W/D)))}}return T}var o=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function M1(f,b){for(var T=281.0575,H=0;H<B.SBMAX_l-1;H++){var P=f.thm.l[H];if(G(H<o.length),P>0){var R=P*b,D=f.en.l[H];D>R&&(D>R*1e10?T+=o[H]*(10*r):(G(R>0),T+=o[H]*i1.FAST_LOG10(D/R)))}}return T}function B1(f,b,T,H,P){var R,D;for(R=D=0;R<f.npart_l;++R){var W=0,x=0,t1;for(t1=0;t1<f.numlines_l[R];++t1,++D){var z=b[D];G(z>=0),W+=z,x<z&&(x=z)}T[R]=W,H[R]=x,P[R]=W*f.rnumlines_l[R],G(f.rnumlines_l[R]>=0),G(W>=0),G(T[R]>=0),G(H[R]>=0),G(P[R]>=0)}}function k1(f,b,T,H){var P=s.length-1,R=0,D=T[R]+T[R+1];if(G(D>=0),D>0){var W=b[R];W<b[R+1]&&(W=b[R+1]),G(f.numlines_l[R]+f.numlines_l[R+1]-1>0),D=20*(W*2-D)/(D*(f.numlines_l[R]+f.numlines_l[R+1]-1));var x=0|D;x>P&&(x=P),H[R]=x}else H[R]=0;for(R=1;R<f.npart_l-1;R++)if(D=T[R-1]+T[R]+T[R+1],G(D>=0),D>0){var W=b[R-1];W<b[R]&&(W=b[R]),W<b[R+1]&&(W=b[R+1]),G(f.numlines_l[R-1]+f.numlines_l[R]+f.numlines_l[R+1]-1>0),D=20*(W*3-D)/(D*(f.numlines_l[R-1]+f.numlines_l[R]+f.numlines_l[R+1]-1));var x=0|D;x>P&&(x=P),H[R]=x}else H[R]=0;if(G(R>0),G(R==f.npart_l-1),D=T[R-1]+T[R],G(D>=0),D>0){var W=b[R-1];W<b[R]&&(W=b[R]),G(f.numlines_l[R-1]+f.numlines_l[R]-1>0),D=20*(W*2-D)/(D*(f.numlines_l[R-1]+f.numlines_l[R]-1));var x=0|D;x>P&&(x=P),H[R]=x}else H[R]=0;G(R==f.npart_l-1)}var L1=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];this.L3psycho_anal_ns=function(f,b,T,H,P,R,D,W,x,t1){var z=f.internal_flags,n1=g([2,B.BLKSIZE]),m1=g([2,3,B.BLKSIZE_s]),H1=j(B.CBANDS+1),f1=j(B.CBANDS+1),I1=j(B.CBANDS+2),a1=d(2),w1=d(2),X1,b1,E1,u1,V1,P1,d1,Y1,F1=g([2,576]),U1,ie=d(B.CBANDS+2),Q1=d(B.CBANDS+2);for(k.fill(Q1,0),X1=z.channels_out,f.mode==s1.JOINT_STEREO&&(X1=4),f.VBR==S.vbr_off?U1=z.ResvMax==0?0:z.ResvSize/z.ResvMax*.5:f.VBR==S.vbr_rh||f.VBR==S.vbr_mtrh||f.VBR==S.vbr_mt?U1=.6:U1=1,b1=0;b1<z.channels_out;b1++){var K1=b[b1],ne=T+576-350-h+192;for(G(L1.length==(h-1)/2),u1=0;u1<576;u1++){var _e,le;for(_e=K1[ne+u1+10],le=0,V1=0;V1<(h-1)/2-1;V1+=2)_e+=L1[V1]*(K1[ne+u1+V1]+K1[ne+u1+h-V1]),le+=L1[V1+1]*(K1[ne+u1+V1+1]+K1[ne+u1+h-V1-1]);F1[b1][u1]=_e+le}P[H][b1].en.assign(z.en[b1]),P[H][b1].thm.assign(z.thm[b1]),X1>2&&(R[H][b1].en.assign(z.en[b1+2]),R[H][b1].thm.assign(z.thm[b1+2]))}for(b1=0;b1<X1;b1++){var ue,fe,te=j(12),ce=[0,0,0,0],Ee=j(12),Ge=1,e0,a0=j(B.CBANDS),r0=j(B.CBANDS),Z1=[0,0,0,0],t0=j(B.HBLKSIZE),n0=g([3,B.HBLKSIZE_s]);for(G(z.npart_s<=B.CBANDS),G(z.npart_l<=B.CBANDS),u1=0;u1<3;u1++)te[u1]=z.nsPsy.last_en_subshort[b1][u1+6],G(z.nsPsy.last_en_subshort[b1][u1+4]>0),Ee[u1]=te[u1]/z.nsPsy.last_en_subshort[b1][u1+4],ce[0]+=te[u1];if(b1==2)for(u1=0;u1<576;u1++){var Pe,Ke;Pe=F1[0][u1],Ke=F1[1][u1],F1[0][u1]=Pe+Ke,F1[1][u1]=Pe-Ke}var s0=F1[b1&1],Ne=0;for(u1=0;u1<9;u1++){for(var w0=Ne+64,z1=1;Ne<w0;Ne++)z1<Math.abs(s0[Ne])&&(z1=Math.abs(s0[Ne]));z.nsPsy.last_en_subshort[b1][u1]=te[u1+3]=z1,ce[1+u1/3]+=z1,z1>te[u1+3-2]?(G(te[u1+3-2]>0),z1=z1/te[u1+3-2]):te[u1+3-2]>z1*10?(G(z1>0),z1=te[u1+3-2]/(z1*10)):z1=0,Ee[u1+3]=z1}if(f.analysis){var Ue=Ee[0];for(u1=1;u1<12;u1++)Ue<Ee[u1]&&(Ue=Ee[u1]);z.pinfo.ers[H][b1]=z.pinfo.ers_save[b1],z.pinfo.ers_save[b1]=Ue}for(e0=b1==3?z.nsPsy.attackthre_s:z.nsPsy.attackthre,u1=0;u1<12;u1++)Z1[u1/3]==0&&Ee[u1]>e0&&(Z1[u1/3]=u1%3+1);for(u1=1;u1<4;u1++){var Ze;ce[u1-1]>ce[u1]?(G(ce[u1]>0),Ze=ce[u1-1]/ce[u1]):(G(ce[u1-1]>0),Ze=ce[u1]/ce[u1-1]),Ze<1.7&&(Z1[u1]=0,u1==1&&(Z1[0]=0))}for(Z1[0]!=0&&z.nsPsy.lastAttacks[b1]!=0&&(Z1[0]=0),(z.nsPsy.lastAttacks[b1]==3||Z1[0]+Z1[1]+Z1[2]+Z1[3]!=0)&&(Ge=0,Z1[1]!=0&&Z1[0]!=0&&(Z1[1]=0),Z1[2]!=0&&Z1[1]!=0&&(Z1[2]=0),Z1[3]!=0&&Z1[2]!=0&&(Z1[3]=0)),b1<2?w1[b1]=Ge:Ge==0&&(w1[0]=w1[1]=0),x[b1]=z.tot_ener[b1],fe=m1,ue=n1,X(f,t0,n0,ue,b1&1,fe,b1&1,H,b1,b,T),B1(z,t0,H1,a0,r0),k1(z,a0,r0,ie),Y1=0;Y1<3;Y1++){var Qe,se;for(R1(f,n0,f1,I1,b1,Y1),N1(z,f1,I1,b1,Y1),d1=0;d1<B.SBMAX_s;d1++){if(se=z.thm[b1].s[d1][Y1],se*=I,Z1[Y1]>=2||Z1[Y1+1]==1){var pe=Y1!=0?Y1-1:2,z1=x1(z.thm[b1].s[d1][pe],se,y*U1);se=Math.min(se,z1)}if(Z1[Y1]==1){var pe=Y1!=0?Y1-1:2,z1=x1(z.thm[b1].s[d1][pe],se,$*U1);se=Math.min(se,z1)}else if(Y1!=0&&Z1[Y1-1]==3||Y1==0&&z.nsPsy.lastAttacks[b1]==3){var pe=Y1!=2?Y1+1:0,z1=x1(z.thm[b1].s[d1][pe],se,$*U1);se=Math.min(se,z1)}Qe=te[Y1*3+3]+te[Y1*3+4]+te[Y1*3+5],te[Y1*3+5]*6<Qe&&(se*=.5,te[Y1*3+4]*6<Qe&&(se*=.5)),z.thm[b1].s[d1][Y1]=se}}for(z.nsPsy.lastAttacks[b1]=Z1[2],P1=0,E1=0;E1<z.npart_l;E1++){for(var Be=z.s3ind[E1][0],We=H1[Be]*s[ie[Be]],we=z.s3_ll[P1++]*We;++Be<=z.s3ind[E1][1];)We=H1[Be]*s[ie[Be]],we=J(we,z.s3_ll[P1++]*We,Be,Be-E1,z,0);we*=.158489319246111,z.blocktype_old[b1&1]==B.SHORT_TYPE?I1[E1]=we:I1[E1]=x1(Math.min(we,Math.min(n*z.nb_1[b1][E1],A*z.nb_2[b1][E1])),we,U1),z.nb_2[b1][E1]=z.nb_1[b1][E1],z.nb_1[b1][E1]=we}for(;E1<=B.CBANDS;++E1)H1[E1]=0,I1[E1]=0;A1(z,H1,I1,b1)}if((f.mode==s1.STEREO||f.mode==s1.JOINT_STEREO)&&f.interChRatio>0&&e1(f,f.interChRatio),f.mode==s1.JOINT_STEREO){var je;o1(z),je=f.msfix,Math.abs(je)>0&&c1(z,je,f.ATHlower*z.ATH.adjust)}for(p1(f,w1,t1,a1),b1=0;b1<X1;b1++){var Ie,Le=0,Oe,ke;b1>1?(Ie=W,Le=-2,Oe=B.NORM_TYPE,(t1[0]==B.SHORT_TYPE||t1[1]==B.SHORT_TYPE)&&(Oe=B.SHORT_TYPE),ke=R[H][b1-2]):(Ie=D,Le=0,Oe=t1[b1],ke=P[H][b1]),Oe==B.SHORT_TYPE?Ie[Le+b1]=t(ke,z.masking_lower):Ie[Le+b1]=M1(ke,z.masking_lower),f.analysis&&(z.pinfo.pe[H][b1]=Ie[Le+b1])}return 0};function y1(f,b,T,H,P,R,D,W){var x=f.internal_flags;if(H<2)h1.fft_long(x,D[W],H,b,T);else if(H==2)for(var t1=B.BLKSIZE-1;t1>=0;--t1){var z=D[W+0][t1],n1=D[W+1][t1];D[W+0][t1]=(z+n1)*i1.SQRT2*.5,D[W+1][t1]=(z-n1)*i1.SQRT2*.5}R[0]=D[W+0][0],R[0]*=R[0];for(var t1=B.BLKSIZE/2-1;t1>=0;--t1){var m1=D[W+0][B.BLKSIZE/2-t1],H1=D[W+0][B.BLKSIZE/2+t1];R[B.BLKSIZE/2-t1]=(m1*m1+H1*H1)*.5}for(var f1=0,t1=11;t1<B.HBLKSIZE;t1++)f1+=R[t1];if(x.tot_ener[H]=f1,f.analysis){for(var t1=0;t1<B.HBLKSIZE;t1++)x.pinfo.energy[P][H][t1]=x.pinfo.energy_save[H][t1],x.pinfo.energy_save[H][t1]=R[t1];x.pinfo.pe[P][H]=x.pe[H]}}function T1(f,b,T,H,P,R,D,W){var x=f.internal_flags;if(P==0&&H<2&&h1.fft_short(x,D[W],H,b,T),H==2)for(var t1=B.BLKSIZE_s-1;t1>=0;--t1){var z=D[W+0][P][t1],n1=D[W+1][P][t1];D[W+0][P][t1]=(z+n1)*i1.SQRT2*.5,D[W+1][P][t1]=(z-n1)*i1.SQRT2*.5}R[P][0]=D[W+0][P][0],R[P][0]*=R[P][0];for(var t1=B.BLKSIZE_s/2-1;t1>=0;--t1){var m1=D[W+0][P][B.BLKSIZE_s/2-t1],H1=D[W+0][P][B.BLKSIZE_s/2+t1];R[P][B.BLKSIZE_s/2-t1]=(m1*m1+H1*H1)*.5}}function C1(f,b,T,H){var P=f.internal_flags;f.athaa_loudapprox==2&&T<2&&(P.loudness_sq[b][T]=P.loudness_sq_save[T],P.loudness_sq_save[T]=v(H,P))}var O1=[-865163e-23*2,-.01703172,-674764e-23*2,.0418072,-336639e-22*2,-.0876324,-154175e-22*2,.1863476,-552212e-22*2,-.627638];function S1(f,b,T,H,P,R,D,W,x,t1){for(var z=g([2,576]),n1=f.internal_flags,m1=n1.channels_out,H1=f.mode==s1.JOINT_STEREO?4:m1,f1=0;f1<m1;f1++){firbuf=b[f1];var I1=T+576-350-h+192;G(O1.length==(h-1)/2);for(var a1=0;a1<576;a1++){var w1,X1;w1=firbuf[I1+a1+10],X1=0;for(var b1=0;b1<(h-1)/2-1;b1+=2)w1+=O1[b1]*(firbuf[I1+a1+b1]+firbuf[I1+a1+h-b1]),X1+=O1[b1+1]*(firbuf[I1+a1+b1+1]+firbuf[I1+a1+h-b1-1]);z[f1][a1]=w1+X1}P[H][f1].en.assign(n1.en[f1]),P[H][f1].thm.assign(n1.thm[f1]),H1>2&&(R[H][f1].en.assign(n1.en[f1+2]),R[H][f1].thm.assign(n1.thm[f1+2]))}for(var f1=0;f1<H1;f1++){var E1=j(12),u1=j(12),V1=[0,0,0,0],P1=z[f1&1],d1=0,Y1=f1==3?n1.nsPsy.attackthre_s:n1.nsPsy.attackthre,F1=1;if(f1==2)for(var a1=0,b1=576;b1>0;++a1,--b1){var U1=z[0][a1],ie=z[1][a1];z[0][a1]=U1+ie,z[1][a1]=U1-ie}for(var a1=0;a1<3;a1++)u1[a1]=n1.nsPsy.last_en_subshort[f1][a1+6],G(n1.nsPsy.last_en_subshort[f1][a1+4]>0),E1[a1]=u1[a1]/n1.nsPsy.last_en_subshort[f1][a1+4],V1[0]+=u1[a1];for(var a1=0;a1<9;a1++){for(var Q1=d1+64,K1=1;d1<Q1;d1++)K1<Math.abs(P1[d1])&&(K1=Math.abs(P1[d1]));n1.nsPsy.last_en_subshort[f1][a1]=u1[a1+3]=K1,V1[1+a1/3]+=K1,K1>u1[a1+3-2]?(G(u1[a1+3-2]>0),K1=K1/u1[a1+3-2]):u1[a1+3-2]>K1*10?(G(K1>0),K1=u1[a1+3-2]/(K1*10)):K1=0,E1[a1+3]=K1}for(var a1=0;a1<3;++a1){var ne=u1[a1*3+3]+u1[a1*3+4]+u1[a1*3+5],_e=1;u1[a1*3+5]*6<ne&&(_e*=.5,u1[a1*3+4]*6<ne&&(_e*=.5)),W[f1][a1]=_e}if(f.analysis){for(var le=E1[0],a1=1;a1<12;a1++)le<E1[a1]&&(le=E1[a1]);n1.pinfo.ers[H][f1]=n1.pinfo.ers_save[f1],n1.pinfo.ers_save[f1]=le}for(var a1=0;a1<12;a1++)x[f1][a1/3]==0&&E1[a1]>Y1&&(x[f1][a1/3]=a1%3+1);for(var a1=1;a1<4;a1++){var ue=V1[a1-1],fe=V1[a1],te=Math.max(ue,fe);te<4e4&&ue<1.7*fe&&fe<1.7*ue&&(a1==1&&x[f1][0]<=x[f1][a1]&&(x[f1][0]=0),x[f1][a1]=0)}x[f1][0]<=n1.nsPsy.lastAttacks[f1]&&(x[f1][0]=0),(n1.nsPsy.lastAttacks[f1]==3||x[f1][0]+x[f1][1]+x[f1][2]+x[f1][3]!=0)&&(F1=0,x[f1][1]!=0&&x[f1][0]!=0&&(x[f1][1]=0),x[f1][2]!=0&&x[f1][1]!=0&&(x[f1][2]=0),x[f1][3]!=0&&x[f1][2]!=0&&(x[f1][3]=0)),f1<2?t1[f1]=F1:F1==0&&(t1[0]=t1[1]=0),D[f1]=n1.tot_ener[f1]}}function q1(f,b,T){if(T==0)for(var H=0;H<f.npart_s;H++)f.nb_s2[b][H]=f.nb_s1[b][H],f.nb_s1[b][H]=0}function g1(f,b){for(var T=0;T<f.npart_l;T++)f.nb_2[b][T]=f.nb_1[b][T],f.nb_1[b][T]=0}function G1(f,b,T,H){var P=s.length-1,R=0,D=T[R]+T[R+1];if(G(D>=0),D>0){var W=b[R];W<b[R+1]&&(W=b[R+1]),G(f.numlines_s[R]+f.numlines_s[R+1]-1>0),D=20*(W*2-D)/(D*(f.numlines_s[R]+f.numlines_s[R+1]-1));var x=0|D;x>P&&(x=P),H[R]=x}else H[R]=0;for(R=1;R<f.npart_s-1;R++)if(D=T[R-1]+T[R]+T[R+1],G(R+1<f.npart_s),G(D>=0),D>0){var W=b[R-1];W<b[R]&&(W=b[R]),W<b[R+1]&&(W=b[R+1]),G(f.numlines_s[R-1]+f.numlines_s[R]+f.numlines_s[R+1]-1>0),D=20*(W*3-D)/(D*(f.numlines_s[R-1]+f.numlines_s[R]+f.numlines_s[R+1]-1));var x=0|D;x>P&&(x=P),H[R]=x}else H[R]=0;if(G(R>0),G(R==f.npart_s-1),D=T[R-1]+T[R],G(D>=0),D>0){var W=b[R-1];W<b[R]&&(W=b[R]),G(f.numlines_s[R-1]+f.numlines_s[R]-1>0),D=20*(W*2-D)/(D*(f.numlines_s[R-1]+f.numlines_s[R]-1));var x=0|D;x>P&&(x=P),H[R]=x}else H[R]=0;G(R==f.npart_s-1)}function W1(f,b,T,H,P,R){var D=f.internal_flags,W=new float[B.CBANDS],x=j(B.CBANDS),t1,z,n1,m1=new int[B.CBANDS];for(n1=z=0;n1<D.npart_s;++n1){var H1=0,f1=0,I1=D.numlines_s[n1];for(t1=0;t1<I1;++t1,++z){var a1=b[R][z];H1+=a1,f1<a1&&(f1=a1)}T[n1]=H1,G(H1>=0),W[n1]=f1,G(I1>0),x[n1]=H1/I1,G(x[n1]>=0)}for(G(n1==D.npart_s),G(z==129);n1<B.CBANDS;++n1)W[n1]=0,x[n1]=0;for(G1(D,W,x,m1),z=n1=0;n1<D.npart_s;n1++){var w1=D.s3ind_s[n1][0],X1=D.s3ind_s[n1][1],b1,E1,u1,V1,P1;for(b1=m1[w1],E1=1,V1=D.s3_ss[z]*T[w1]*s[m1[w1]],++z,++w1;w1<=X1;)b1+=m1[w1],E1+=1,u1=D.s3_ss[z]*T[w1]*s[m1[w1]],V1=N(V1,u1,w1-n1),++z,++w1;b1=(1+2*b1)/(2*E1),P1=s[b1]*.5,V1*=P1,H[n1]=V1,D.nb_s2[P][n1]=D.nb_s1[P][n1],D.nb_s1[P][n1]=V1,u1=W[n1],u1*=D.minval_s[n1],u1*=P1,H[n1]>u1&&(H[n1]=u1),D.masking_lower>1&&(H[n1]*=D.masking_lower),H[n1]>T[n1]&&(H[n1]=T[n1]),D.masking_lower<1&&(H[n1]*=D.masking_lower),G(H[n1]>=0)}for(;n1<B.CBANDS;++n1)T[n1]=0,H[n1]=0}function ee(f,b,T,H,P){var R=j(B.CBANDS),D=j(B.CBANDS),W=d(B.CBANDS+2),x;B1(f,b,T,R,D),k1(f,R,D,W);var t1=0;for(x=0;x<f.npart_l;x++){var z,n1,m1,H1,f1=f.s3ind[x][0],I1=f.s3ind[x][1],a1=0,w1=0;for(a1=W[f1],w1+=1,n1=f.s3_ll[t1]*T[f1]*s[W[f1]],++t1,++f1;f1<=I1;)a1+=W[f1],w1+=1,z=f.s3_ll[t1]*T[f1]*s[W[f1]],H1=N(n1,z,f1-x),n1=H1,++t1,++f1;if(a1=(1+2*a1)/(2*w1),m1=s[a1]*.5,n1*=m1,f.blocktype_old[P&1]==B.SHORT_TYPE){var X1=n*f.nb_1[P][x];X1>0?H[x]=Math.min(n1,X1):H[x]=Math.min(n1,T[x]*$)}else{var b1=A*f.nb_2[P][x],E1=n*f.nb_1[P][x],X1;b1<=0&&(b1=n1),E1<=0&&(E1=n1),f.blocktype_old[P&1]==B.NORM_TYPE?X1=Math.min(E1,b1):X1=E1,H[x]=Math.min(n1,X1)}f.nb_2[P][x]=f.nb_1[P][x],f.nb_1[P][x]=n1,z=R[x],z*=f.minval_l[x],z*=m1,H[x]>z&&(H[x]=z),f.masking_lower>1&&(H[x]*=f.masking_lower),H[x]>T[x]&&(H[x]=T[x]),f.masking_lower<1&&(H[x]*=f.masking_lower),G(H[x]>=0)}for(;x<B.CBANDS;++x)T[x]=0,H[x]=0}function j1(f,b){var T=f.internal_flags;f.short_blocks==Z.short_block_coupled&&!(b[0]!=0&&b[1]!=0)&&(b[0]=b[1]=0);for(var H=0;H<T.channels_out;H++)f.short_blocks==Z.short_block_dispensed&&(b[H]=1),f.short_blocks==Z.short_block_forced&&(b[H]=0)}function ae(f,b,T){for(var H=f.internal_flags,P=0;P<H.channels_out;P++){var R=B.NORM_TYPE;b[P]!=0?(G(H.blocktype_old[P]!=B.START_TYPE),H.blocktype_old[P]==B.SHORT_TYPE&&(R=B.STOP_TYPE)):(R=B.SHORT_TYPE,H.blocktype_old[P]==B.NORM_TYPE&&(H.blocktype_old[P]=B.START_TYPE),H.blocktype_old[P]==B.STOP_TYPE&&(H.blocktype_old[P]=B.SHORT_TYPE)),T[P]=H.blocktype_old[P],H.blocktype_old[P]=R}}function de(f,b,T,H,P,R,D){for(var W=R*2,x=R>0?Math.pow(10,P):1,t1,z,n1=0;n1<D;++n1){var m1=f[2][n1],H1=f[3][n1],f1=b[0][n1],I1=b[1][n1],a1=b[2][n1],w1=b[3][n1];if(f1<=1.58*I1&&I1<=1.58*f1){var X1=T[n1]*H1,b1=T[n1]*m1;z=Math.max(a1,Math.min(w1,X1)),t1=Math.max(w1,Math.min(a1,b1))}else z=a1,t1=w1;if(R>0){var E1,u1,V1=H[n1]*x;if(E1=Math.min(Math.max(f1,V1),Math.max(I1,V1)),a1=Math.max(z,V1),w1=Math.max(t1,V1),u1=a1+w1,u1>0&&E1*W<u1){var P1=E1*W/u1;a1*=P1,w1*=P1,G(u1>0)}z=Math.min(a1,z),t1=Math.min(w1,t1)}z>m1&&(z=m1),t1>H1&&(t1=H1),b[2][n1]=z,b[3][n1]=t1}}this.L3psycho_anal_vbr=function(f,b,T,H,P,R,D,W,x,t1){var z=f.internal_flags,n1,m1,H1=j(B.HBLKSIZE),f1=g([3,B.HBLKSIZE_s]),I1=g([2,B.BLKSIZE]),a1=g([2,3,B.BLKSIZE_s]),w1=g([4,B.CBANDS]),X1=g([4,B.CBANDS]),b1=g([4,3]),E1=.6,u1=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],V1=d(2),P1=f.mode==s1.JOINT_STEREO?4:z.channels_out;S1(f,b,T,H,P,R,x,b1,u1,V1),j1(f,V1);for(var d1=0;d1<P1;d1++){var Y1=d1&1;n1=I1,y1(f,b,T,d1,H,H1,n1,Y1),C1(f,H,d1,H1),V1[Y1]!=0?ee(z,H1,w1[d1],X1[d1],d1):g1(z,d1)}V1[0]+V1[1]==2&&f.mode==s1.JOINT_STEREO&&de(w1,X1,z.mld_cb_l,z.ATH.cb_l,f.ATHlower*z.ATH.adjust,f.msfix,z.npart_l);for(var d1=0;d1<P1;d1++){var Y1=d1&1;V1[Y1]!=0&&A1(z,w1[d1],X1[d1],d1)}for(var F1=0;F1<3;F1++){for(var d1=0;d1<P1;++d1){var Y1=d1&1;V1[Y1]!=0?q1(z,d1,F1):(m1=a1,T1(f,b,T,d1,F1,f1,m1,Y1),W1(f,f1,w1[d1],X1[d1],d1,F1))}V1[0]+V1[1]==0&&f.mode==s1.JOINT_STEREO&&de(w1,X1,z.mld_cb_s,z.ATH.cb_s,f.ATHlower*z.ATH.adjust,f.msfix,z.npart_s);for(var d1=0;d1<P1;++d1){var Y1=d1&1;V1[Y1]==0&&N1(z,w1[d1],X1[d1],d1,F1)}}for(var d1=0;d1<P1;d1++){var Y1=d1&1;if(V1[Y1]==0)for(var U1=0;U1<B.SBMAX_s;U1++){for(var ie=j(3),F1=0;F1<3;F1++){var Q1=z.thm[d1].s[U1][F1];if(Q1*=I,u1[d1][F1]>=2||u1[d1][F1+1]==1){var K1=F1!=0?F1-1:2,ne=x1(z.thm[d1].s[U1][K1],Q1,y*E1);Q1=Math.min(Q1,ne)}else if(u1[d1][F1]==1){var K1=F1!=0?F1-1:2,ne=x1(z.thm[d1].s[U1][K1],Q1,$*E1);Q1=Math.min(Q1,ne)}else if(F1!=0&&u1[d1][F1-1]==3||F1==0&&z.nsPsy.lastAttacks[d1]==3){var K1=F1!=2?F1+1:0,ne=x1(z.thm[d1].s[U1][K1],Q1,$*E1);Q1=Math.min(Q1,ne)}Q1*=b1[d1][F1],ie[F1]=Q1}for(var F1=0;F1<3;F1++)z.thm[d1].s[U1][F1]=ie[F1]}}for(var d1=0;d1<P1;d1++)z.nsPsy.lastAttacks[d1]=u1[d1][2];ae(f,V1,t1);for(var d1=0;d1<P1;d1++){var _e,le,ue,fe;d1>1?(_e=W,le=-2,ue=B.NORM_TYPE,(t1[0]==B.SHORT_TYPE||t1[1]==B.SHORT_TYPE)&&(ue=B.SHORT_TYPE),fe=R[H][d1-2]):(_e=D,le=0,ue=t1[d1],fe=P[H][d1]),ue==B.SHORT_TYPE?_e[le+d1]=t(fe,z.masking_lower):_e[le+d1]=M1(fe,z.masking_lower),f.analysis&&(z.pinfo.pe[H][d1]=_e[le+d1])}return 0};function re(f,b){var T=f,H;return T>=0?H=-T*27:H=T*b,H<=-72?0:Math.exp(H*m)}function oe(f){var b=0,T=0,H=0,P,R;for(H=0;re(H,f)>1e-20;H-=1);for(P=H,R=0;Math.abs(R-P)>1e-12;)H=(R+P)/2,re(H,f)>0?R=H:P=H;b=P;var H=0,P,R;for(H=0;re(H,f)>1e-20;H+=1);for(P=0,R=H;Math.abs(R-P)>1e-12;)H=(R+P)/2,re(H,f)>0?P=H:R=H;T=R;var D=0,W=1e3,x;for(x=0;x<=W;++x){var H=b+x*(T-b)/W,t1=re(H,f);D+=t1}var z=(W+1)/(D*(T-b));return z}function Se(f){var b,T,H,P;return b=f,b>=0?b*=3:b*=1.5,b>=.5&&b<=2.5?(P=b-.5,T=8*(P*P-2*P)):T=0,b+=.474,H=15.811389+7.5*b-17.5*Math.sqrt(1+b*b),H<=-60?0:(b=Math.exp((T+H)*m),b/=.6609193,b)}function he(f){return f<0&&(f=0),f=f*.001,13*Math.atan(.76*f)+3.5*Math.atan(f*f/56.25)}function ye(f,b,T,H,P,R,D,W,x,t1,z,n1){var m1=j(B.CBANDS+1),H1=W/(n1>15?1152:384),f1=d(B.HBLKSIZE),I1;W/=x;var a1=0,w1=0;for(I1=0;I1<B.CBANDS;I1++){var X1,b1;for(X1=he(W*a1),m1[I1]=W*a1,b1=a1;he(W*b1)-X1<c&&b1<=x/2;b1++);for(f[I1]=b1-a1,w1=I1+1;a1<b1;)G(a1<B.HBLKSIZE),f1[a1++]=I1;if(a1>x/2){a1=x/2,++I1;break}}G(I1<B.CBANDS),m1[I1]=W*a1;for(var E1=0;E1<n1;E1++){var u1,V1,P1,d1,Y1;P1=t1[E1],d1=t1[E1+1],u1=0|Math.floor(.5+z*(P1-.5)),u1<0&&(u1=0),V1=0|Math.floor(.5+z*(d1-.5)),V1>x/2&&(V1=x/2),T[E1]=(f1[u1]+f1[V1])/2,b[E1]=f1[V1];var F1=H1*d1;D[E1]=(F1-m1[b[E1]])/(m1[b[E1]+1]-m1[b[E1]]),D[E1]<0?D[E1]=0:D[E1]>1&&(D[E1]=1),Y1=he(W*t1[E1]*z),Y1=Math.min(Y1,15.5)/15.5,R[E1]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Y1))-2.5)}a1=0;for(var U1=0;U1<w1;U1++){var ie=f[U1],X1,Q1;X1=he(W*a1),Q1=he(W*(a1+ie-1)),H[U1]=.5*(X1+Q1),X1=he(W*(a1-.5)),Q1=he(W*(a1+ie-.5)),P[U1]=Q1-X1,a1+=ie}return w1}function Ae(f,b,T,H,P,R){var D=g([B.CBANDS,B.CBANDS]),W,x=0;if(R)for(var t1=0;t1<b;t1++)for(W=0;W<b;W++){var z=Se(T[t1]-T[W])*H[W];D[t1][W]=z*P[t1]}else for(W=0;W<b;W++)for(var n1=15+Math.min(21/T[W],12),m1=oe(n1),t1=0;t1<b;t1++){var z=m1*re(T[t1]-T[W],n1)*H[W];D[t1][W]=z*P[t1]}for(var t1=0;t1<b;t1++){for(W=0;W<b&&!(D[t1][W]>0);W++);for(f[t1][0]=W,W=b-1;W>0&&!(D[t1][W]>0);W--);f[t1][1]=W,x+=f[t1][1]-f[t1][0]+1}for(var H1=j(x),f1=0,t1=0;t1<b;t1++)for(W=f[t1][0];W<=f[t1][1];W++)H1[f1++]=D[t1][W];return H1}function $e(f){var b=he(f);return b=Math.min(b,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*b))-2.5)}this.psymodel_init=function(f){var b=f.internal_flags,T,H=!0,P=13,R=24,D=0,W=0,x=-8.25,t1=-4.5,z=j(B.CBANDS),n1=j(B.CBANDS),m1=j(B.CBANDS),H1=f.out_samplerate;switch(f.experimentalZ){default:case 0:H=!0;break;case 1:H=!(f.VBR==S.vbr_mtrh||f.VBR==S.vbr_mt);break;case 2:H=!1;break;case 3:P=8,D=-1.75,W=-.0125,x=-8.25,t1=-2.25;break}for(b.ms_ener_ratio_old=.25,b.blocktype_old[0]=b.blocktype_old[1]=B.NORM_TYPE,T=0;T<4;++T){for(var a1=0;a1<B.CBANDS;++a1)b.nb_1[T][a1]=1e20,b.nb_2[T][a1]=1e20,b.nb_s1[T][a1]=b.nb_s2[T][a1]=1;for(var f1=0;f1<B.SBMAX_l;f1++)b.en[T].l[f1]=1e20,b.thm[T].l[f1]=1e20;for(var a1=0;a1<3;++a1){for(var f1=0;f1<B.SBMAX_s;f1++)b.en[T].s[f1][a1]=1e20,b.thm[T].s[f1][a1]=1e20;b.nsPsy.lastAttacks[T]=0}for(var a1=0;a1<9;a1++)b.nsPsy.last_en_subshort[T][a1]=10}for(b.loudness_sq_save[0]=b.loudness_sq_save[1]=0,b.npart_l=ye(b.numlines_l,b.bo_l,b.bm_l,z,n1,b.mld_l,b.PSY.bo_l_weight,H1,B.BLKSIZE,b.scalefac_band.l,B.BLKSIZE/1152,B.SBMAX_l),G(b.npart_l<B.CBANDS),T=0;T<b.npart_l;T++){var I1=D;z[T]>=P&&(I1=W*(z[T]-P)/(R-P)+D*(R-z[T])/(R-P)),m1[T]=Math.pow(10,I1/10),b.numlines_l[T]>0?b.rnumlines_l[T]=1/b.numlines_l[T]:b.rnumlines_l[T]=0}b.s3_ll=Ae(b.s3ind,b.npart_l,z,n1,m1,H);var a1=0;for(T=0;T<b.npart_l;T++){var w1;w1=U.MAX_VALUE;for(var X1=0;X1<b.numlines_l[T];X1++,a1++){var b1=H1*a1/(1e3*B.BLKSIZE),E1;E1=this.ATHformula(b1*1e3,f)-20,E1=Math.pow(10,.1*E1),E1*=b.numlines_l[T],w1>E1&&(w1=E1)}b.ATH.cb_l[T]=w1,w1=-20+z[T]*20/10,w1>6&&(w1=100),w1<-15&&(w1=-15),w1-=8,b.minval_l[T]=Math.pow(10,w1/10)*b.numlines_l[T]}for(b.npart_s=ye(b.numlines_s,b.bo_s,b.bm_s,z,n1,b.mld_s,b.PSY.bo_s_weight,H1,B.BLKSIZE_s,b.scalefac_band.s,B.BLKSIZE_s/384,B.SBMAX_s),G(b.npart_s<B.CBANDS),a1=0,T=0;T<b.npart_s;T++){var w1,I1=x;z[T]>=P&&(I1=t1*(z[T]-P)/(R-P)+x*(R-z[T])/(R-P)),m1[T]=Math.pow(10,I1/10),w1=U.MAX_VALUE;for(var X1=0;X1<b.numlines_s[T];X1++,a1++){var b1=H1*a1/(1e3*B.BLKSIZE_s),E1;E1=this.ATHformula(b1*1e3,f)-20,E1=Math.pow(10,.1*E1),E1*=b.numlines_s[T],w1>E1&&(w1=E1)}b.ATH.cb_s[T]=w1,w1=-7+z[T]*7/12,z[T]>12&&(w1*=1+Math.log(1+w1)*3.1),z[T]<12&&(w1*=1+Math.log(1-w1)*2.3),w1<-15&&(w1=-15),w1-=8,b.minval_s[T]=Math.pow(10,w1/10)*b.numlines_s[T]}b.s3_ss=Ae(b.s3ind_s,b.npart_s,z,n1,m1,H),_(),h1.init_fft(b),b.decay=Math.exp(-1*r/(l*H1/192));var u1;u1=Q,f.exp_nspsytune&2&&(u1=1),Math.abs(f.msfix)>0&&(u1=f.msfix),f.msfix=u1;for(var V1=0;V1<b.npart_l;V1++)b.s3ind[V1][1]>b.npart_l-1&&(b.s3ind[V1][1]=b.npart_l-1);var P1=576*b.mode_gr/H1;if(b.ATH.decay=Math.pow(10,-1.2*P1),b.ATH.adjust=.01,b.ATH.adjustLimit=1,G(b.bo_l[B.SBMAX_l-1]<=b.npart_l),G(b.bo_s[B.SBMAX_s-1]<=b.npart_s),f.ATHtype!=-1){var b1,d1=f.out_samplerate/B.BLKSIZE,Y1=0;for(b1=0,T=0;T<B.BLKSIZE/2;++T)b1+=d1,b.ATH.eql_w[T]=1/Math.pow(10,this.ATHformula(b1,f)/10),Y1+=b.ATH.eql_w[T];for(Y1=1/Y1,T=B.BLKSIZE/2;--T>=0;)b.ATH.eql_w[T]*=Y1}for(var V1=a1=0;V1<b.npart_s;++V1)for(T=0;T<b.numlines_s[V1];++T)++a1;G(a1==129);for(var V1=a1=0;V1<b.npart_l;++V1)for(T=0;T<b.numlines_l[V1];++T)++a1;for(G(a1==513),a1=0,T=0;T<b.npart_l;T++){var b1=H1*(a1+b.numlines_l[T]/2)/(1*B.BLKSIZE);b.mld_cb_l[T]=$e(b1),a1+=b.numlines_l[T]}for(;T<B.CBANDS;++T)b.mld_cb_l[T]=1;for(a1=0,T=0;T<b.npart_s;T++){var b1=H1*(a1+b.numlines_s[T]/2)/(1*B.BLKSIZE_s);b.mld_cb_s[T]=$e(b1),a1+=b.numlines_s[T]}for(;T<B.CBANDS;++T)b.mld_cb_s[T]=1;return 0};function Me(f,b){f<-.3&&(f=3410),f/=1e3,f=Math.max(.1,f);var T=3.64*Math.pow(f,-.8)-6.8*Math.exp(-.6*Math.pow(f-3.4,2))+6*Math.exp(-.15*Math.pow(f-8.7,2))+(.6+.04*b)*.001*Math.pow(f,4);return T}this.ATHformula=function(f,b){var T;switch(b.ATHtype){case 0:T=Me(f,9);break;case 1:T=Me(f,-1);break;case 2:T=Me(f,0);break;case 3:T=Me(f,1)+6;break;case 4:T=Me(f,b.ATHcurve);break;default:T=Me(f,0);break}return T}}r1.exports=q});v1.register("2g11P",function(r1,_1){var i=v1("3YDN3");i.System,i.VbrMode,i.Float,i.ShortBlock;var S=i.Util;i.Arrays,i.new_array_n,i.new_byte,i.new_double;var U=i.new_float;i.new_float_n,i.new_int,i.new_int_n,i.assert;var Z=v1("cPNKB");function i1(){var k=U(Z.BLKSIZE),j=U(Z.BLKSIZE_s/2),g=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function d(O,B,q){var s1=0,h1,r,n;q<<=1;var A=B+q;h1=4;do{var p,M,c,e,l,I,y;y=h1>>1,e=h1,l=h1<<1,I=l+e,h1=l<<1,r=B,n=r+y;do{var $,Q,h,m;Q=O[r+0]-O[r+e],$=O[r+0]+O[r+e],m=O[r+l]-O[r+I],h=O[r+l]+O[r+I],O[r+l]=$-h,O[r+0]=$+h,O[r+I]=Q-m,O[r+e]=Q+m,Q=O[n+0]-O[n+e],$=O[n+0]+O[n+e],m=S.SQRT2*O[n+I],h=S.SQRT2*O[n+l],O[n+l]=$-h,O[n+0]=$+h,O[n+I]=Q-m,O[n+e]=Q+m,n+=h1,r+=h1}while(r<A);for(M=g[s1+0],p=g[s1+1],c=1;c<y;c++){var Y,v;Y=1-2*p*p,v=2*p*M,r=B+c,n=B+e-c;do{var X,L,V,$,Q,K,h,l1,m,E;L=v*O[r+e]-Y*O[n+e],X=Y*O[r+e]+v*O[n+e],Q=O[r+0]-X,$=O[r+0]+X,K=O[n+0]-L,V=O[n+0]+L,L=v*O[r+I]-Y*O[n+I],X=Y*O[r+I]+v*O[n+I],m=O[r+l]-X,h=O[r+l]+X,E=O[n+l]-L,l1=O[n+l]+L,L=p*h-M*E,X=M*h+p*E,O[r+l]=$-X,O[r+0]=$+X,O[n+I]=K-L,O[n+e]=K+L,L=M*l1-p*m,X=p*l1+M*m,O[n+l]=V-X,O[n+0]=V+X,O[r+I]=Q-L,O[r+e]=Q+L,n+=h1,r+=h1}while(r<A);Y=M,M=Y*g[s1+0]-p*g[s1+1],p=Y*g[s1+1]+p*g[s1+0]}s1+=2}while(h1<q)}var G=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(O,B,q,s1,h1){for(var r=0;r<3;r++){var n=Z.BLKSIZE_s/2,A=65535&192*(r+1),p=Z.BLKSIZE_s/8-1;do{var M,c,e,l,I,y=G[p<<2]&255;M=j[y]*s1[q][h1+y+A],I=j[127-y]*s1[q][h1+y+A+128],c=M-I,M=M+I,e=j[y+64]*s1[q][h1+y+A+64],I=j[63-y]*s1[q][h1+y+A+192],l=e-I,e=e+I,n-=4,B[r][n+0]=M+e,B[r][n+2]=M-e,B[r][n+1]=c+l,B[r][n+3]=c-l,M=j[y+1]*s1[q][h1+y+A+1],I=j[126-y]*s1[q][h1+y+A+129],c=M-I,M=M+I,e=j[y+65]*s1[q][h1+y+A+65],I=j[62-y]*s1[q][h1+y+A+193],l=e-I,e=e+I,B[r][n+Z.BLKSIZE_s/2+0]=M+e,B[r][n+Z.BLKSIZE_s/2+2]=M-e,B[r][n+Z.BLKSIZE_s/2+1]=c+l,B[r][n+Z.BLKSIZE_s/2+3]=c-l}while(--p>=0);d(B[r],n,Z.BLKSIZE_s/2)}},this.fft_long=function(O,B,q,s1,h1){var r=Z.BLKSIZE/8-1,n=Z.BLKSIZE/2;do{var A,p,M,c,e,l=G[r]&255;A=k[l]*s1[q][h1+l],e=k[l+512]*s1[q][h1+l+512],p=A-e,A=A+e,M=k[l+256]*s1[q][h1+l+256],e=k[l+768]*s1[q][h1+l+768],c=M-e,M=M+e,n-=4,B[n+0]=A+M,B[n+2]=A-M,B[n+1]=p+c,B[n+3]=p-c,A=k[l+1]*s1[q][h1+l+1],e=k[l+513]*s1[q][h1+l+513],p=A-e,A=A+e,M=k[l+257]*s1[q][h1+l+257],e=k[l+769]*s1[q][h1+l+769],c=M-e,M=M+e,B[n+Z.BLKSIZE/2+0]=A+M,B[n+Z.BLKSIZE/2+2]=A-M,B[n+Z.BLKSIZE/2+1]=p+c,B[n+Z.BLKSIZE/2+3]=p-c}while(--r>=0);d(B,n,Z.BLKSIZE/2)},this.init_fft=function(O){for(var B=0;B<Z.BLKSIZE;B++)k[B]=.42-.5*Math.cos(2*Math.PI*(B+.5)/Z.BLKSIZE)+.08*Math.cos(4*Math.PI*(B+.5)/Z.BLKSIZE);for(var B=0;B<Z.BLKSIZE_s/2;B++)j[B]=.5*(1-Math.cos(2*Math.PI*(B+.5)/Z.BLKSIZE_s))}}r1.exports=i1});v1.register("cPNKB",function(r1,_1){var i=v1("3YDN3"),S=i.System,U=i.VbrMode;i.Float,i.ShortBlock,i.Util,i.Arrays;var Z=i.new_array_n;i.new_byte,i.new_double;var i1=i.new_float,k=i.new_float_n,j=i.new_int;i.new_int_n;var g=i.assert;d.ENCDELAY=576,d.POSTDELAY=1152,d.MDCTDELAY=48,d.FFTOFFSET=224+d.MDCTDELAY,d.DECDELAY=528,d.SBLIMIT=32,d.CBANDS=64,d.SBPSY_l=21,d.SBPSY_s=12,d.SBMAX_l=22,d.SBMAX_s=13,d.PSFB21=6,d.PSFB12=6,d.BLKSIZE=1024,d.HBLKSIZE=d.BLKSIZE/2+1,d.BLKSIZE_s=256,d.HBLKSIZE_s=d.BLKSIZE_s/2+1,d.NORM_TYPE=0,d.START_TYPE=1,d.SHORT_TYPE=2,d.STOP_TYPE=3,d.MPG_MD_LR_LR=0,d.MPG_MD_LR_I=1,d.MPG_MD_MS_LR=2,d.MPG_MD_MS_I=3,d.fircoef=[-.1039435,-.1892065,-.0432472*5,-.155915,779609e-23*5,.0467745*5,.50455,.756825,.187098*5];function d(){var G=v1("drj3v"),O=v1("hvy40"),B=v1("jL6I1"),q=d.FFTOFFSET,s1=d.MPG_MD_MS_LR,h1=null;this.psy=null;var r=null,n=null,A=null;this.setModules=function(l,I,y,$){h1=l,this.psy=I,r=I,n=$,A=y};var p=new G;function M(l){var I,y;if(l.ATH.useAdjust==0){l.ATH.adjust=1;return}if(y=l.loudness_sq[0][0],I=l.loudness_sq[1][0],l.channels_out==2?(y+=l.loudness_sq[0][1],I+=l.loudness_sq[1][1]):(y+=y,I+=I),l.mode_gr==2&&(y=Math.max(y,I)),y*=.5,y*=l.ATH.aaSensitivityP,y>.03125)l.ATH.adjust>=1?l.ATH.adjust=1:l.ATH.adjust<l.ATH.adjustLimit&&(l.ATH.adjust=l.ATH.adjustLimit),l.ATH.adjustLimit=1;else{var $=31.98*y+625e-6;l.ATH.adjust>=$?(l.ATH.adjust*=$*.075+.925,l.ATH.adjust<$&&(l.ATH.adjust=$)):l.ATH.adjustLimit>=$?l.ATH.adjust=$:l.ATH.adjust<l.ATH.adjustLimit&&(l.ATH.adjust=l.ATH.adjustLimit),l.ATH.adjustLimit=$}}function c(l){var I,y;for(g(0<=l.bitrate_index&&l.bitrate_index<16),g(0<=l.mode_ext&&l.mode_ext<4),l.bitrate_stereoMode_Hist[l.bitrate_index][4]++,l.bitrate_stereoMode_Hist[15][4]++,l.channels_out==2&&(l.bitrate_stereoMode_Hist[l.bitrate_index][l.mode_ext]++,l.bitrate_stereoMode_Hist[15][l.mode_ext]++),I=0;I<l.mode_gr;++I)for(y=0;y<l.channels_out;++y){var $=l.l3_side.tt[I][y].block_type|0;l.l3_side.tt[I][y].mixed_block_flag!=0&&($=4),l.bitrate_blockType_Hist[l.bitrate_index][$]++,l.bitrate_blockType_Hist[l.bitrate_index][5]++,l.bitrate_blockType_Hist[15][$]++,l.bitrate_blockType_Hist[15][5]++}}function e(l,I){var y=l.internal_flags,$,Q;if(y.lame_encode_frame_init==0){var h,m,Y=i1(2014),v=i1(2014);for(y.lame_encode_frame_init=1,h=0,m=0;h<286+576*(1+y.mode_gr);++h)h<576*y.mode_gr?(Y[h]=0,y.channels_out==2&&(v[h]=0)):(Y[h]=I[0][m],y.channels_out==2&&(v[h]=I[1][m]),++m);for(Q=0;Q<y.mode_gr;Q++)for($=0;$<y.channels_out;$++)y.l3_side.tt[Q][$].block_type=d.SHORT_TYPE;p.mdct_sub48(y,Y,v),g(576>=d.FFTOFFSET),g(y.mf_size>=d.BLKSIZE+l.framesize-d.FFTOFFSET),g(y.mf_size>=512+l.framesize-32)}}this.lame_encode_mp3_frame=function(l,I,y,$,Q,h){var m,Y=Z([2,2]);Y[0][0]=new O,Y[0][1]=new O,Y[1][0]=new O,Y[1][1]=new O;var v=Z([2,2]);v[0][0]=new O,v[0][1]=new O,v[1][0]=new O,v[1][1]=new O;var X,L=[null,null],V=l.internal_flags,K=k([2,4]),l1=[.5,.5],E=[[0,0],[0,0]],w=[[0,0],[0,0]],s,_,a;if(L[0]=I,L[1]=y,V.lame_encode_frame_init==0&&e(l,L),V.padding=0,(V.slot_lag-=V.frac_SpF)<0&&(V.slot_lag+=l.out_samplerate,V.padding=1),V.psymodel!=0){var u,F=[null,null],J=0,C=j(2);for(a=0;a<V.mode_gr;a++){for(_=0;_<V.channels_out;_++)F[_]=L[_],J=576+a*576-d.FFTOFFSET;if(l.VBR==U.vbr_mtrh||l.VBR==U.vbr_mt?u=r.L3psycho_anal_vbr(l,F,J,a,Y,v,E[a],w[a],K[a],C):u=r.L3psycho_anal_ns(l,F,J,a,Y,v,E[a],w[a],K[a],C),u!=0)return-4;for(l.mode==B.JOINT_STEREO&&(l1[a]=K[a][2]+K[a][3],l1[a]>0&&(l1[a]=K[a][3]/l1[a])),_=0;_<V.channels_out;_++){var N=V.l3_side.tt[a][_];N.block_type=C[_],N.mixed_block_flag=0}}}else for(a=0;a<V.mode_gr;a++)for(_=0;_<V.channels_out;_++)V.l3_side.tt[a][_].block_type=d.NORM_TYPE,V.l3_side.tt[a][_].mixed_block_flag=0,w[a][_]=E[a][_]=700;if(M(V),p.mdct_sub48(V,L[0],L[1]),V.mode_ext=d.MPG_MD_LR_LR,l.force_ms)V.mode_ext=d.MPG_MD_MS_LR;else if(l.mode==B.JOINT_STEREO){var e1=0,o1=0;for(a=0;a<V.mode_gr;a++)for(_=0;_<V.channels_out;_++)e1+=w[a][_],o1+=E[a][_];if(e1<=1*o1){var c1=V.l3_side.tt[0],N1=V.l3_side.tt[V.mode_gr-1];c1[0].block_type==c1[1].block_type&&N1[0].block_type==N1[1].block_type&&(V.mode_ext=d.MPG_MD_MS_LR)}}if(V.mode_ext==s1?(X=v,s=w):(X=Y,s=E),l.analysis&&V.pinfo!=null)for(a=0;a<V.mode_gr;a++)for(_=0;_<V.channels_out;_++)V.pinfo.ms_ratio[a]=V.ms_ratio[a],V.pinfo.ms_ener_ratio[a]=l1[a],V.pinfo.blocktype[a][_]=V.l3_side.tt[a][_].block_type,V.pinfo.pe[a][_]=s[a][_],S.arraycopy(V.l3_side.tt[a][_].xr,0,V.pinfo.xr[a][_],0,576),V.mode_ext==s1&&(V.pinfo.ers[a][_]=V.pinfo.ers[a][_+2],S.arraycopy(V.pinfo.energy[a][_+2],0,V.pinfo.energy[a][_],0,V.pinfo.energy[a][_].length));if(l.VBR==U.vbr_off||l.VBR==U.vbr_abr){var A1,R1;for(A1=0;A1<18;A1++)V.nsPsy.pefirbuf[A1]=V.nsPsy.pefirbuf[A1+1];for(R1=0,a=0;a<V.mode_gr;a++)for(_=0;_<V.channels_out;_++)R1+=s[a][_];for(V.nsPsy.pefirbuf[18]=R1,R1=V.nsPsy.pefirbuf[9],A1=0;A1<9;A1++)R1+=(V.nsPsy.pefirbuf[A1]+V.nsPsy.pefirbuf[18-A1])*d.fircoef[A1];for(R1=3350*V.mode_gr*V.channels_out/R1,a=0;a<V.mode_gr;a++)for(_=0;_<V.channels_out;_++)s[a][_]*=R1}if(V.iteration_loop.iteration_loop(l,s,l1,X),h1.format_bitstream(l),m=h1.copy_buffer(V,$,Q,h,1),l.bWriteVbrTag&&n.addVbrFrame(l),l.analysis&&V.pinfo!=null){for(_=0;_<V.channels_out;_++){var p1;for(p1=0;p1<q;p1++)V.pinfo.pcmdata[_][p1]=V.pinfo.pcmdata[_][p1+l.framesize];for(p1=q;p1<1600;p1++)V.pinfo.pcmdata[_][p1]=L[_][p1-q]}A.set_frame_pinfo(l,X)}return c(V),m}}r1.exports=d});v1.register("drj3v",function(r1,_1){var i=v1("3YDN3"),S=i.System;i.VbrMode,i.Float,i.ShortBlock;var U=i.Util,Z=i.Arrays;i.new_array_n,i.new_byte,i.new_double;var i1=i.new_float;i.new_float_n,i.new_int,i.new_int_n,i.assert;var k=v1("cPNKB");function j(){var g=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*U.SQRT2*.5/2384e-9,.017876148*U.SQRT2*.5/2384e-9,.003134727*U.SQRT2*.5/2384e-9,.002457142*U.SQRT2*.5/2384e-9,971317e-9*U.SQRT2*.5/2384e-9,218868e-9*U.SQRT2*.5/2384e-9,101566e-9*U.SQRT2*.5/2384e-9,13828e-9*U.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],d=12,G=36,O=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],B=O[k.SHORT_TYPE],q=O[k.SHORT_TYPE],s1=O[k.SHORT_TYPE],h1=O[k.SHORT_TYPE],r=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function n(M,c,e){for(var l=10,I=c+238-14-286,y=-15;y<0;y++){var $,Q,h;$=g[l+-10],Q=M[I+-224]*$,h=M[c+224]*$,$=g[l+-9],Q+=M[I+-160]*$,h+=M[c+160]*$,$=g[l+-8],Q+=M[I+-96]*$,h+=M[c+96]*$,$=g[l+-7],Q+=M[I+-32]*$,h+=M[c+32]*$,$=g[l+-6],Q+=M[I+32]*$,h+=M[c+-32]*$,$=g[l+-5],Q+=M[I+96]*$,h+=M[c+-96]*$,$=g[l+-4],Q+=M[I+160]*$,h+=M[c+-160]*$,$=g[l+-3],Q+=M[I+224]*$,h+=M[c+-224]*$,$=g[l+-2],Q+=M[c+-256]*$,h-=M[I+256]*$,$=g[l+-1],Q+=M[c+-192]*$,h-=M[I+192]*$,$=g[l+0],Q+=M[c+-128]*$,h-=M[I+128]*$,$=g[l+1],Q+=M[c+-64]*$,h-=M[I+64]*$,$=g[l+2],Q+=M[c+0]*$,h-=M[I+0]*$,$=g[l+3],Q+=M[c+64]*$,h-=M[I+-64]*$,$=g[l+4],Q+=M[c+128]*$,h-=M[I+-128]*$,$=g[l+5],Q+=M[c+192]*$,h-=M[I+-192]*$,Q*=g[l+6],$=h-Q,e[30+y*2]=h+Q,e[31+y*2]=g[l+7]*$,l+=18,c--,I++}var Q,h,m,Y;h=M[c+-16]*g[l+-10],Q=M[c+-32]*g[l+-2],h+=(M[c+-48]-M[c+16])*g[l+-9],Q+=M[c+-96]*g[l+-1],h+=(M[c+-80]+M[c+48])*g[l+-8],Q+=M[c+-160]*g[l+0],h+=(M[c+-112]-M[c+80])*g[l+-7],Q+=M[c+-224]*g[l+1],h+=(M[c+-144]+M[c+112])*g[l+-6],Q-=M[c+32]*g[l+2],h+=(M[c+-176]-M[c+144])*g[l+-5],Q-=M[c+96]*g[l+3],h+=(M[c+-208]+M[c+176])*g[l+-4],Q-=M[c+160]*g[l+4],h+=(M[c+-240]-M[c+208])*g[l+-3],Q-=M[c+224],m=Q-h,Y=Q+h,h=e[14],Q=e[15]-h,e[31]=Y+h,e[30]=m+Q,e[15]=m-Q,e[14]=Y-h;var v;v=e[28]-e[0],e[0]+=e[28],e[28]=v*g[l+-36+7],v=e[29]-e[1],e[1]+=e[29],e[29]=v*g[l+-36+7],v=e[26]-e[2],e[2]+=e[26],e[26]=v*g[l+-72+7],v=e[27]-e[3],e[3]+=e[27],e[27]=v*g[l+-72+7],v=e[24]-e[4],e[4]+=e[24],e[24]=v*g[l+-108+7],v=e[25]-e[5],e[5]+=e[25],e[25]=v*g[l+-108+7],v=e[22]-e[6],e[6]+=e[22],e[22]=v*U.SQRT2,v=e[23]-e[7],e[7]+=e[23],e[23]=v*U.SQRT2-e[7],e[7]-=e[6],e[22]-=e[7],e[23]-=e[22],v=e[6],e[6]=e[31]-v,e[31]=e[31]+v,v=e[7],e[7]=e[30]-v,e[30]=e[30]+v,v=e[22],e[22]=e[15]-v,e[15]=e[15]+v,v=e[23],e[23]=e[14]-v,e[14]=e[14]+v,v=e[20]-e[8],e[8]+=e[20],e[20]=v*g[l+-180+7],v=e[21]-e[9],e[9]+=e[21],e[21]=v*g[l+-180+7],v=e[18]-e[10],e[10]+=e[18],e[18]=v*g[l+-216+7],v=e[19]-e[11],e[11]+=e[19],e[19]=v*g[l+-216+7],v=e[16]-e[12],e[12]+=e[16],e[16]=v*g[l+-252+7],v=e[17]-e[13],e[13]+=e[17],e[17]=v*g[l+-252+7],v=-e[20]+e[24],e[20]+=e[24],e[24]=v*g[l+-216+7],v=-e[21]+e[25],e[21]+=e[25],e[25]=v*g[l+-216+7],v=e[4]-e[8],e[4]+=e[8],e[8]=v*g[l+-216+7],v=e[5]-e[9],e[5]+=e[9],e[9]=v*g[l+-216+7],v=e[0]-e[12],e[0]+=e[12],e[12]=v*g[l+-72+7],v=e[1]-e[13],e[1]+=e[13],e[13]=v*g[l+-72+7],v=e[16]-e[28],e[16]+=e[28],e[28]=v*g[l+-72+7],v=-e[17]+e[29],e[17]+=e[29],e[29]=v*g[l+-72+7],v=U.SQRT2*(e[2]-e[10]),e[2]+=e[10],e[10]=v,v=U.SQRT2*(e[3]-e[11]),e[3]+=e[11],e[11]=v,v=U.SQRT2*(-e[18]+e[26]),e[18]+=e[26],e[26]=v-e[18],v=U.SQRT2*(-e[19]+e[27]),e[19]+=e[27],e[27]=v-e[19],v=e[2],e[19]-=e[3],e[3]-=v,e[2]=e[31]-v,e[31]+=v,v=e[3],e[11]-=e[19],e[18]-=v,e[3]=e[30]-v,e[30]+=v,v=e[18],e[27]-=e[11],e[19]-=v,e[18]=e[15]-v,e[15]+=v,v=e[19],e[10]-=v,e[19]=e[14]-v,e[14]+=v,v=e[10],e[11]-=v,e[10]=e[23]-v,e[23]+=v,v=e[11],e[26]-=v,e[11]=e[22]-v,e[22]+=v,v=e[26],e[27]-=v,e[26]=e[7]-v,e[7]+=v,v=e[27],e[27]=e[6]-v,e[6]+=v,v=U.SQRT2*(e[0]-e[4]),e[0]+=e[4],e[4]=v,v=U.SQRT2*(e[1]-e[5]),e[1]+=e[5],e[5]=v,v=U.SQRT2*(e[16]-e[20]),e[16]+=e[20],e[20]=v,v=U.SQRT2*(e[17]-e[21]),e[17]+=e[21],e[21]=v,v=-U.SQRT2*(e[8]-e[12]),e[8]+=e[12],e[12]=v-e[8],v=-U.SQRT2*(e[9]-e[13]),e[9]+=e[13],e[13]=v-e[9],v=-U.SQRT2*(e[25]-e[29]),e[25]+=e[29],e[29]=v-e[25],v=-U.SQRT2*(e[24]+e[28]),e[24]-=e[28],e[28]=v-e[24],v=e[24]-e[16],e[24]=v,v=e[20]-v,e[20]=v,v=e[28]-v,e[28]=v,v=e[25]-e[17],e[25]=v,v=e[21]-v,e[21]=v,v=e[29]-v,e[29]=v,v=e[17]-e[1],e[17]=v,v=e[9]-v,e[9]=v,v=e[25]-v,e[25]=v,v=e[5]-v,e[5]=v,v=e[21]-v,e[21]=v,v=e[13]-v,e[13]=v,v=e[29]-v,e[29]=v,v=e[1]-e[0],e[1]=v,v=e[16]-v,e[16]=v,v=e[17]-v,e[17]=v,v=e[8]-v,e[8]=v,v=e[9]-v,e[9]=v,v=e[24]-v,e[24]=v,v=e[25]-v,e[25]=v,v=e[4]-v,e[4]=v,v=e[5]-v,e[5]=v,v=e[20]-v,e[20]=v,v=e[21]-v,e[21]=v,v=e[12]-v,e[12]=v,v=e[13]-v,e[13]=v,v=e[28]-v,e[28]=v,v=e[29]-v,e[29]=v,v=e[0],e[0]+=e[31],e[31]-=v,v=e[1],e[1]+=e[30],e[30]-=v,v=e[16],e[16]+=e[15],e[15]-=v,v=e[17],e[17]+=e[14],e[14]-=v,v=e[8],e[8]+=e[23],e[23]-=v,v=e[9],e[9]+=e[22],e[22]-=v,v=e[24],e[24]+=e[7],e[7]-=v,v=e[25],e[25]+=e[6],e[6]-=v,v=e[4],e[4]+=e[27],e[27]-=v,v=e[5],e[5]+=e[26],e[26]-=v,v=e[20],e[20]+=e[11],e[11]-=v,v=e[21],e[21]+=e[10],e[10]-=v,v=e[12],e[12]+=e[19],e[19]-=v,v=e[13],e[13]+=e[18],e[18]-=v,v=e[28],e[28]+=e[3],e[3]-=v,v=e[29],e[29]+=e[2],e[2]-=v}function A(M,c){for(var e=0;e<3;e++){var l,I,y,$,Q,h;$=M[c+6]*O[k.SHORT_TYPE][0]-M[c+15],l=M[c+0]*O[k.SHORT_TYPE][2]-M[c+9],I=$+l,y=$-l,$=M[c+15]*O[k.SHORT_TYPE][0]+M[c+6],l=M[c+9]*O[k.SHORT_TYPE][2]+M[c+0],Q=$+l,h=-$+l,l=(M[c+3]*O[k.SHORT_TYPE][1]-M[c+12])*2069978111953089e-26,$=(M[c+12]*O[k.SHORT_TYPE][1]+M[c+3])*2069978111953089e-26,M[c+0]=I*190752519173728e-25+l,M[c+15]=-Q*190752519173728e-25+$,y=y*16519652744032674e-27,Q=Q*.5*1907525191737281e-26+$,M[c+3]=y-Q,M[c+6]=y+Q,I=I*.5*1907525191737281e-26-l,h=h*16519652744032674e-27,M[c+9]=I+h,M[c+12]=I-h,c++}}function p(M,c,e){var l,I,y,$,Q,h,m,Y,v,X;y=e[17]-e[9],Q=e[15]-e[11],h=e[14]-e[12],m=e[0]+e[8],Y=e[1]+e[7],v=e[2]+e[6],X=e[3]+e[5],M[c+17]=m+v-X-(Y-e[4]),I=(m+v-X)*q[19]+(Y-e[4]),l=(y-Q-h)*q[18],M[c+5]=l+I,M[c+6]=l-I,$=(e[16]-e[10])*q[18],Y=Y*q[19]+e[4],l=y*q[12]+$+Q*q[13]+h*q[14],I=-m*q[16]+Y-v*q[17]+X*q[15],M[c+1]=l+I,M[c+2]=l-I,l=y*q[13]-$-Q*q[14]+h*q[12],I=-m*q[17]+Y-v*q[15]+X*q[16],M[c+9]=l+I,M[c+10]=l-I,l=y*q[14]-$+Q*q[12]-h*q[13],I=m*q[15]-Y+v*q[16]-X*q[17],M[c+13]=l+I,M[c+14]=l-I;var L,V,K,l1,E,w,s,_;L=e[8]-e[0],K=e[6]-e[2],l1=e[5]-e[3],E=e[17]+e[9],w=e[16]+e[10],s=e[15]+e[11],_=e[14]+e[12],M[c+0]=E+s+_+(w+e[13]),l=(E+s+_)*q[19]-(w+e[13]),I=(L-K+l1)*q[18],M[c+11]=l+I,M[c+12]=l-I,V=(e[7]-e[1])*q[18],w=e[13]-w*q[19],l=E*q[15]-w+s*q[16]+_*q[17],I=L*q[14]+V+K*q[12]+l1*q[13],M[c+3]=l+I,M[c+4]=l-I,l=-E*q[17]+w-s*q[15]-_*q[16],I=L*q[13]+V-K*q[14]-l1*q[12],M[c+7]=l+I,M[c+8]=l-I,l=-E*q[16]+w-s*q[17]-_*q[15],I=L*q[12]-V+K*q[13]-l1*q[14],M[c+15]=l+I,M[c+16]=l-I}this.mdct_sub48=function(M,c,e){for(var l=c,I=286,y=0;y<M.channels_out;y++){for(var $=0;$<M.mode_gr;$++){for(var Q,h=M.l3_side.tt[$][y],m=h.xr,Y=0,v=M.sb_sample[y][1-$],X=0,L=0;L<9;L++)for(n(l,I,v[X]),n(l,I+32,v[X+1]),X+=2,I+=64,Q=1;Q<32;Q+=2)v[X-1][Q]*=-1;for(Q=0;Q<32;Q++,Y+=18){var V=h.block_type,K=M.sb_sample[y][$],l1=M.sb_sample[y][1-$];if(h.mixed_block_flag!=0&&Q<2&&(V=0),M.amp_filter[Q]<1e-12)Z.fill(m,Y+0,Y+18,0);else{if(M.amp_filter[Q]<1)for(var L=0;L<18;L++)l1[L][r[Q]]*=M.amp_filter[Q];if(V==k.SHORT_TYPE){for(var L=-d/4;L<0;L++){var E=O[k.SHORT_TYPE][L+3];m[Y+L*3+9]=K[9+L][r[Q]]*E-K[8-L][r[Q]],m[Y+L*3+18]=K[14-L][r[Q]]*E+K[15+L][r[Q]],m[Y+L*3+10]=K[15+L][r[Q]]*E-K[14-L][r[Q]],m[Y+L*3+19]=l1[2-L][r[Q]]*E+l1[3+L][r[Q]],m[Y+L*3+11]=l1[3+L][r[Q]]*E-l1[2-L][r[Q]],m[Y+L*3+20]=l1[8-L][r[Q]]*E+l1[9+L][r[Q]]}A(m,Y)}else{for(var w=i1(18),L=-G/4;L<0;L++){var s,_;s=O[V][L+27]*l1[L+9][r[Q]]+O[V][L+36]*l1[8-L][r[Q]],_=O[V][L+9]*K[L+9][r[Q]]-O[V][L+18]*K[8-L][r[Q]],w[L+9]=s-_*B[3+L+9],w[L+18]=s*B[3+L+9]+_}p(m,Y,w)}}if(V!=k.SHORT_TYPE&&Q!=0)for(var L=7;L>=0;--L){var a,u;a=m[Y+L]*s1[20+L]+m[Y+-1-L]*h1[28+L],u=m[Y+L]*h1[28+L]-m[Y+-1-L]*s1[20+L],m[Y+-1-L]=a,m[Y+L]=u}}}if(l=e,I=286,M.mode_gr==1)for(var F=0;F<18;F++)S.arraycopy(M.sb_sample[y][1][F],0,M.sb_sample[y][0][F],0,32)}}}r1.exports=j});v1.register("hvy40",function(r1,_1){var i=v1("51XxS");function S(){this.thm=new i,this.en=new i}r1.exports=S});v1.register("51XxS",function(r1,_1){var i=v1("cPNKB"),S=v1("3YDN3"),U=S.System;S.VbrMode,S.Float,S.ShortBlock,S.Util,S.Arrays,S.new_array_n,S.new_byte,S.new_double;var Z=S.new_float,i1=S.new_float_n;S.new_int,S.new_int_n,S.assert;function k(){this.l=Z(i.SBMAX_l),this.s=i1([i.SBMAX_s,3]);var j=this;this.assign=function(g){U.arraycopy(g.l,0,j.l,0,i.SBMAX_l);for(var d=0;d<i.SBMAX_s;d++)for(var G=0;G<3;G++)j.s[d][G]=g.s[d][G]}}r1.exports=k});v1.register("jL6I1",function(r1,_1){function i(S){var U=S;this.ordinal=function(){return U}}i.STEREO=new i(0),i.JOINT_STEREO=new i(1),i.DUAL_CHANNEL=new i(2),i.MONO=new i(3),i.NOT_SET=new i(4),r1.exports=i});v1.register("5HJeD",function(r1,_1){var i=v1("jL6I1");function S(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=i.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}r1.exports=S});v1.register("4SDnr",function(r1,_1){var i=v1("3YDN3");i.System,i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n;var S=i.new_byte,U=i.new_double,Z=i.new_float,i1=i.new_float_n,k=i.new_int,j=i.new_int_n;i.assert;var g=v1("eWXBy"),d=v1("7imnH"),G=v1("7yzUB"),O=v1("jTmCQ"),B=v1("51XxS"),q=v1("cPNKB"),s1=v1("arIi9");h1.MFSIZE=3456+q.ENCDELAY-q.MDCTDELAY,h1.MAX_HEADER_BUF=256,h1.MAX_BITS_PER_CHANNEL=4095,h1.MAX_BITS_PER_GRANULE=7680,h1.BPC=320;function h1(){var r=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=i1([2,h1.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new g,this.ms_ratio=Z(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=k(2),this.CurrentStep=k(2),this.masking_lower=0,this.bv_scf=k(576),this.pseudohalf=k(s1.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*h1.BPC+1),this.itime=U(2),this.sideinfo_len=0,this.sb_sample=i1([2,2,18,q.SBLIMIT]),this.amp_filter=Z(32);function n(){this.write_timing=0,this.ptr=0,this.buf=S(r)}this.header=new Array(h1.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new d,this.minval_l=Z(q.CBANDS),this.minval_s=Z(q.CBANDS),this.nb_1=i1([4,q.CBANDS]),this.nb_2=i1([4,q.CBANDS]),this.nb_s1=i1([4,q.CBANDS]),this.nb_s2=i1([4,q.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Z(4),this.loudness_sq=i1([2,2]),this.loudness_sq_save=Z(2),this.mld_l=Z(q.SBMAX_l),this.mld_s=Z(q.SBMAX_s),this.bm_l=k(q.SBMAX_l),this.bo_l=k(q.SBMAX_l),this.bm_s=k(q.SBMAX_s),this.bo_s=k(q.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=j([q.CBANDS,2]),this.s3ind_s=j([q.CBANDS,2]),this.numlines_s=k(q.CBANDS),this.numlines_l=k(q.CBANDS),this.rnumlines_l=Z(q.CBANDS),this.mld_cb_l=Z(q.CBANDS),this.mld_cb_s=Z(q.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Z(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=k(2),this.nsPsy=new G,this.VBR_seek_table=new O,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=j([16,5]),this.bitrate_blockType_Hist=j([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var A=0;A<this.en.length;A++)this.en[A]=new B;for(var A=0;A<this.thm.length;A++)this.thm[A]=new B;for(var A=0;A<this.header.length;A++)this.header[A]=new n}r1.exports=h1});v1.register("eWXBy",function(r1,_1){var i=v1("3YDN3");i.System,i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double,i.new_float,i.new_float_n;var S=i.new_int;i.new_int_n,i.assert;var U=v1("7weBo");function Z(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[S(4),S(4)];for(var i1=0;i1<2;i1++)for(var k=0;k<2;k++)this.tt[i1][k]=new U}r1.exports=Z});v1.register("7weBo",function(r1,_1){var i=v1("3YDN3");i.System,i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double;var S=i.new_float;i.new_float_n;var U=i.new_int;i.new_int_n,i.assert;var Z=v1("arIi9");function i1(){this.xr=S(576),this.l3_enc=U(576),this.scalefac=U(Z.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=U(3),this.subblock_gain=U(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=U(Z.SFBMAX),this.window=U(Z.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=U(4),this.max_nonzero_coeff=0;var k=this;function j(d){return new Int32Array(d)}function g(d){return new Float32Array(d)}this.assign=function(d){k.xr=g(d.xr),k.l3_enc=j(d.l3_enc),k.scalefac=j(d.scalefac),k.xrpow_max=d.xrpow_max,k.part2_3_length=d.part2_3_length,k.big_values=d.big_values,k.count1=d.count1,k.global_gain=d.global_gain,k.scalefac_compress=d.scalefac_compress,k.block_type=d.block_type,k.mixed_block_flag=d.mixed_block_flag,k.table_select=j(d.table_select),k.subblock_gain=j(d.subblock_gain),k.region0_count=d.region0_count,k.region1_count=d.region1_count,k.preflag=d.preflag,k.scalefac_scale=d.scalefac_scale,k.count1table_select=d.count1table_select,k.part2_length=d.part2_length,k.sfb_lmax=d.sfb_lmax,k.sfb_smin=d.sfb_smin,k.psy_lmax=d.psy_lmax,k.sfbmax=d.sfbmax,k.psymax=d.psymax,k.sfbdivide=d.sfbdivide,k.width=j(d.width),k.window=j(d.window),k.count1bits=d.count1bits,k.sfb_partition_table=d.sfb_partition_table.slice(0),k.slen=j(d.slen),k.max_nonzero_coeff=d.max_nonzero_coeff}}r1.exports=i1});v1.register("arIi9",function(r1,_1){var i=v1("cPNKB"),S={};S.SFBMAX=i.SBMAX_s*3,r1.exports=S});v1.register("7imnH",function(r1,_1){var i=v1("3YDN3"),S=i.System;i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double,i.new_float,i.new_float_n;var U=i.new_int;i.new_int_n,i.assert;var Z=v1("cPNKB");function i1(k,j,g,d){this.l=U(1+Z.SBMAX_l),this.s=U(1+Z.SBMAX_s),this.psfb21=U(1+Z.PSFB21),this.psfb12=U(1+Z.PSFB12);var G=this.l,O=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],S.arraycopy(this.arrL,0,G,0,Math.min(this.arrL.length,this.l.length)),S.arraycopy(this.arrS,0,O,0,Math.min(this.arrS.length,this.s.length)),S.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),S.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}r1.exports=i1});v1.register("7yzUB",function(r1,_1){var i=v1("3YDN3");i.System,i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double;var S=i.new_float,U=i.new_float_n,Z=i.new_int;i.new_int_n,i.assert;var i1=v1("cPNKB");function k(){this.last_en_subshort=U([4,9]),this.lastAttacks=Z(4),this.pefirbuf=S(19),this.longfact=S(i1.SBMAX_l),this.shortfact=S(i1.SBMAX_s),this.attackthre=0,this.attackthre_s=0}r1.exports=k});v1.register("jTmCQ",function(r1,_1){function i(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}r1.exports=i});v1.register("cU3Yf",function(r1,_1){var i=v1("3YDN3");i.System,i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double;var S=i.new_float;i.new_float_n,i.new_int,i.new_int_n,i.assert;var U=v1("cPNKB");function Z(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=S(U.SBMAX_l),this.s=S(U.SBMAX_s),this.psfb21=S(U.PSFB21),this.psfb12=S(U.PSFB12),this.cb_l=S(U.CBANDS),this.cb_s=S(U.CBANDS),this.eql_w=S(U.BLKSIZE/2)}r1.exports=Z});v1.register("2qGTD",function(r1,_1){var i=v1("3YDN3");i.System,i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double;var S=i.new_float;i.new_float_n;var U=i.new_int;i.new_int_n,i.assert;var Z=v1("b8dhq");function i1(){this.linprebuf=S(Z.MAX_ORDER*2),this.linpre=0,this.lstepbuf=S(Z.MAX_SAMPLES_PER_WINDOW+Z.MAX_ORDER),this.lstep=0,this.loutbuf=S(Z.MAX_SAMPLES_PER_WINDOW+Z.MAX_ORDER),this.lout=0,this.rinprebuf=S(Z.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=S(Z.MAX_SAMPLES_PER_WINDOW+Z.MAX_ORDER),this.rstep=0,this.routbuf=S(Z.MAX_SAMPLES_PER_WINDOW+Z.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=U(0|Z.STEPS_per_dB*Z.MAX_dB),this.B=U(0|Z.STEPS_per_dB*Z.MAX_dB)}r1.exports=i1});v1.register("b8dhq",function(r1,_1){var i=v1("3YDN3"),S=i.System;i.VbrMode,i.Float,i.ShortBlock,i.Util;var U=i.Arrays;i.new_array_n,i.new_byte,i.new_double,i.new_float,i.new_float_n,i.new_int,i.new_int_n,i.assert,Z.STEPS_per_dB=100,Z.MAX_dB=120,Z.GAIN_NOT_ENOUGH_SAMPLES=-24601,Z.GAIN_ANALYSIS_ERROR=0,Z.GAIN_ANALYSIS_OK=1,Z.INIT_GAIN_ANALYSIS_ERROR=0,Z.INIT_GAIN_ANALYSIS_OK=1,Z.YULE_ORDER=10,Z.MAX_ORDER=Z.YULE_ORDER,Z.MAX_SAMP_FREQ=48e3,Z.RMS_WINDOW_TIME_NUMERATOR=1,Z.RMS_WINDOW_TIME_DENOMINATOR=20,Z.MAX_SAMPLES_PER_WINDOW=Z.MAX_SAMP_FREQ*Z.RMS_WINDOW_TIME_NUMERATOR/Z.RMS_WINDOW_TIME_DENOMINATOR+1;function Z(){var i1=64.82;Z.YULE_ORDER;var k=.95;Z.MAX_SAMP_FREQ;var j=Z.RMS_WINDOW_TIME_NUMERATOR,g=Z.RMS_WINDOW_TIME_DENOMINATOR;Z.MAX_SAMPLES_PER_WINDOW;var d=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],G=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function O(r,n,A,p,M,c){for(;M--!=0;)A[p]=1e-10+r[n+0]*c[0]-A[p-1]*c[1]+r[n-1]*c[2]-A[p-2]*c[3]+r[n-2]*c[4]-A[p-3]*c[5]+r[n-3]*c[6]-A[p-4]*c[7]+r[n-4]*c[8]-A[p-5]*c[9]+r[n-5]*c[10]-A[p-6]*c[11]+r[n-6]*c[12]-A[p-7]*c[13]+r[n-7]*c[14]-A[p-8]*c[15]+r[n-8]*c[16]-A[p-9]*c[17]+r[n-9]*c[18]-A[p-10]*c[19]+r[n-10]*c[20],++p,++n}function B(r,n,A,p,M,c){for(;M--!=0;)A[p]=r[n+0]*c[0]-A[p-1]*c[1]+r[n-1]*c[2]-A[p-2]*c[3]+r[n-2]*c[4],++p,++n}function q(r,n){for(var A=0;A<MAX_ORDER;A++)r.linprebuf[A]=r.lstepbuf[A]=r.loutbuf[A]=r.rinprebuf[A]=r.rstepbuf[A]=r.routbuf[A]=0;switch(0|n){case 48e3:r.reqindex=0;break;case 44100:r.reqindex=1;break;case 32e3:r.reqindex=2;break;case 24e3:r.reqindex=3;break;case 22050:r.reqindex=4;break;case 16e3:r.reqindex=5;break;case 12e3:r.reqindex=6;break;case 11025:r.reqindex=7;break;case 8e3:r.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return r.sampleWindow=0|(n*j+g-1)/g,r.lsum=0,r.rsum=0,r.totsamp=0,U.ill(r.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(r,n){return q(r,n)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(r.linpre=MAX_ORDER,r.rinpre=MAX_ORDER,r.lstep=MAX_ORDER,r.rstep=MAX_ORDER,r.lout=MAX_ORDER,r.rout=MAX_ORDER,U.fill(r.B,0),INIT_GAIN_ANALYSIS_OK)};function s1(r){return r*r}this.AnalyzeSamples=function(r,n,A,p,M,c,e){var l,I,y,$,Q,h,m;if(c==0)return GAIN_ANALYSIS_OK;switch(m=0,Q=c,e){case 1:p=n,M=A;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(c<MAX_ORDER?(S.arraycopy(n,A,r.linprebuf,MAX_ORDER,c),S.arraycopy(p,M,r.rinprebuf,MAX_ORDER,c)):(S.arraycopy(n,A,r.linprebuf,MAX_ORDER,MAX_ORDER),S.arraycopy(p,M,r.rinprebuf,MAX_ORDER,MAX_ORDER));Q>0;){h=Q>r.sampleWindow-r.totsamp?r.sampleWindow-r.totsamp:Q,m<MAX_ORDER?(l=r.linpre+m,I=r.linprebuf,y=r.rinpre+m,$=r.rinprebuf,h>MAX_ORDER-m&&(h=MAX_ORDER-m)):(l=A+m,I=n,y=M+m,$=p),O(I,l,r.lstepbuf,r.lstep+r.totsamp,h,d[r.reqindex]),O($,y,r.rstepbuf,r.rstep+r.totsamp,h,d[r.reqindex]),B(r.lstepbuf,r.lstep+r.totsamp,r.loutbuf,r.lout+r.totsamp,h,G[r.reqindex]),B(r.rstepbuf,r.rstep+r.totsamp,r.routbuf,r.rout+r.totsamp,h,G[r.reqindex]),l=r.lout+r.totsamp,I=r.loutbuf,y=r.rout+r.totsamp,$=r.routbuf;for(var Y=h%8;Y--!=0;)r.lsum+=s1(I[l++]),r.rsum+=s1($[y++]);for(Y=h/8;Y--!=0;)r.lsum+=s1(I[l+0])+s1(I[l+1])+s1(I[l+2])+s1(I[l+3])+s1(I[l+4])+s1(I[l+5])+s1(I[l+6])+s1(I[l+7]),l+=8,r.rsum+=s1($[y+0])+s1($[y+1])+s1($[y+2])+s1($[y+3])+s1($[y+4])+s1($[y+5])+s1($[y+6])+s1($[y+7]),y+=8;if(Q-=h,m+=h,r.totsamp+=h,r.totsamp==r.sampleWindow){var v=Z.STEPS_per_dB*10*Math.log10((r.lsum+r.rsum)/r.totsamp*.5+1e-37),X=v<=0?0:0|v;X>=r.A.length&&(X=r.A.length-1),r.A[X]++,r.lsum=r.rsum=0,S.arraycopy(r.loutbuf,r.totsamp,r.loutbuf,0,MAX_ORDER),S.arraycopy(r.routbuf,r.totsamp,r.routbuf,0,MAX_ORDER),S.arraycopy(r.lstepbuf,r.totsamp,r.lstepbuf,0,MAX_ORDER),S.arraycopy(r.rstepbuf,r.totsamp,r.rstepbuf,0,MAX_ORDER),r.totsamp=0}if(r.totsamp>r.sampleWindow)return GAIN_ANALYSIS_ERROR}return c<MAX_ORDER?(S.arraycopy(r.linprebuf,c,r.linprebuf,0,MAX_ORDER-c),S.arraycopy(r.rinprebuf,c,r.rinprebuf,0,MAX_ORDER-c),S.arraycopy(n,A,r.linprebuf,MAX_ORDER-c,c),S.arraycopy(p,M,r.rinprebuf,MAX_ORDER-c,c)):(S.arraycopy(n,A+c-MAX_ORDER,r.linprebuf,0,MAX_ORDER),S.arraycopy(p,M+c-MAX_ORDER,r.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function h1(r,n){var A,p=0;for(A=0;A<n;A++)p+=r[A];if(p==0)return GAIN_NOT_ENOUGH_SAMPLES;var M=0|Math.ceil(p*(1-k));for(A=n;A-- >0&&!((M-=r[A])<=0););return i1-A/Z.STEPS_per_dB}this.GetTitleGain=function(r){for(var n=h1(r.A,r.A.length),A=0;A<r.A.length;A++)r.B[A]+=r.A[A],r.A[A]=0;for(var A=0;A<MAX_ORDER;A++)r.linprebuf[A]=r.lstepbuf[A]=r.loutbuf[A]=r.rinprebuf[A]=r.rstepbuf[A]=r.routbuf[A]=0;return r.totsamp=0,r.lsum=r.rsum=0,n}}r1.exports=Z});v1.register("e32wu",function(r1,_1){var i=v1("3YDN3");i.System,i.VbrMode,i.Float,i.ShortBlock,i.Util,i.Arrays,i.new_array_n,i.new_byte,i.new_double;var S=i.new_float;i.new_float_n;var U=i.new_int;i.new_int_n;var Z=i.assert,i1=v1("lL4Le"),k=v1("cPNKB"),j=v1("arIi9"),g=v1("4SDnr");function d(G){var O=G;this.quantize=O,this.iteration_loop=function(B,q,s1,h1){var r=B.internal_flags,n=S(j.SFBMAX),A=S(576),p=U(2),M=0,c,e=r.l3_side,l=new i1(M);this.quantize.rv.ResvFrameBegin(B,l),M=l.bits;for(var I=0;I<r.mode_gr;I++){c=this.quantize.qupvt.on_pe(B,q,p,M,I,I),r.mode_ext==k.MPG_MD_MS_LR&&(this.quantize.ms_convert(r.l3_side,I),this.quantize.qupvt.reduce_side(p,s1[I],M,c));for(var y=0;y<r.channels_out;y++){var $,Q,h=e.tt[I][y];h.block_type!=k.SHORT_TYPE?($=0,Q=r.PSY.mask_adjust-$):($=0,Q=r.PSY.mask_adjust_short-$),r.masking_lower=Math.pow(10,Q*.1),this.quantize.init_outer_loop(r,h),this.quantize.init_xrpow(r,h,A)&&(this.quantize.qupvt.calc_xmin(B,h1[I][y],h,n),this.quantize.outer_loop(B,h,n,A,y,p[y])),this.quantize.iteration_finish_one(r,I,y),Z(h.part2_3_length<=g.MAX_BITS_PER_CHANNEL),Z(h.part2_3_length<=p[y])}}this.quantize.rv.ResvFrameEnd(r,M)}}r1.exports=d});v1.register("lL4Le",function(r1,_1){function i(S){this.bits=S}r1.exports=i});v1.register("ctaQC",function(r1,_1){var i=v1("3YDN3"),S=i.System;i.VbrMode,i.Float,i.ShortBlock,i.Util;var U=i.Arrays;i.new_array_n;var Z=i.new_byte;i.new_double,i.new_float;var i1=i.new_float_n,k=i.new_int;i.new_int_n;var j=i.assert,g=v1("65Sx2"),d=v1("dQDcS"),G=v1("cPNKB"),O=v1("4SDnr");B.EQ=function(q,s1){return Math.abs(q)>Math.abs(s1)?Math.abs(q-s1)<=Math.abs(q)*1e-6:Math.abs(q-s1)<=Math.abs(s1)*1e-6},B.NEQ=function(q,s1){return!B.EQ(q,s1)};function B(){var q=v1("kk1yk"),s1=this,h1=32773,r=32,n=null,A=null,p=null,M=null;this.setModules=function(s,_,a,u){n=s,A=_,p=a,M=u};var c=null,e=0,l=0,I=0;this.getframebits=function(s){var _=s.internal_flags,a;_.bitrate_index!=0?a=d.bitrate_table[s.version][_.bitrate_index]:a=s.brate,j(8<=a&&a<=640);var u=0|(s.version+1)*72e3*a/s.out_samplerate+_.padding;return 8*u};function y(s){S.arraycopy(s.header[s.w_ptr].buf,0,c,l,s.sideinfo_len),l+=s.sideinfo_len,e+=s.sideinfo_len*8,s.w_ptr=s.w_ptr+1&O.MAX_HEADER_BUF-1}function $(s,_,a){for(j(a<r-2);a>0;){var u;I==0&&(I=8,l++,j(l<q.LAME_MAXMP3BUFFER),j(s.header[s.w_ptr].write_timing>=e),s.header[s.w_ptr].write_timing==e&&y(s),c[l]=0),u=Math.min(a,I),a-=u,I-=u,j(a<r),j(I<r),c[l]|=_>>a<<I,e+=u}}function Q(s,_,a){for(j(a<r-2);a>0;){var u;I==0&&(I=8,l++,j(l<q.LAME_MAXMP3BUFFER),c[l]=0),u=Math.min(a,I),a-=u,I-=u,j(a<r),j(I<r),c[l]|=_>>a<<I,e+=u}}function h(s,_){var a=s.internal_flags,u;if(j(_>=0),_>=8&&($(a,76,8),_-=8),_>=8&&($(a,65,8),_-=8),_>=8&&($(a,77,8),_-=8),_>=8&&($(a,69,8),_-=8),_>=32){var F=p.getLameShortVersion();if(_>=32)for(u=0;u<F.length&&_>=8;++u)_-=8,$(a,F.charAt(u),8)}for(;_>=1;_-=1)$(a,a.ancillary_flag,1),a.ancillary_flag^=s.disable_reservoir?0:1;j(_==0)}function m(s,_,a){for(var u=s.header[s.h_ptr].ptr;a>0;){var F=Math.min(a,8-(u&7));a-=F,j(a<r),s.header[s.h_ptr].buf[u>>3]|=_>>a<<8-(u&7)-F,u+=F}s.header[s.h_ptr].ptr=u}function Y(s,_){s<<=8;for(var a=0;a<8;a++)s<<=1,_<<=1,(_^s)&65536&&(_^=h1);return _}this.CRC_writeheader=function(s,_){var a=65535;a=Y(_[2]&255,a),a=Y(_[3]&255,a);for(var u=6;u<s.sideinfo_len;u++)a=Y(_[u]&255,a);_[4]=byte(a>>8),_[5]=byte(a&255)};function v(s,_){var a=s.internal_flags,u,F,J;if(u=a.l3_side,a.header[a.h_ptr].ptr=0,U.fill(a.header[a.h_ptr].buf,0,a.sideinfo_len,0),s.out_samplerate<16e3?m(a,4094,12):m(a,4095,12),m(a,s.version,1),m(a,1,2),m(a,s.error_protection?0:1,1),m(a,a.bitrate_index,4),m(a,a.samplerate_index,2),m(a,a.padding,1),m(a,s.extension,1),m(a,s.mode.ordinal(),2),m(a,a.mode_ext,2),m(a,s.copyright,1),m(a,s.original,1),m(a,s.emphasis,2),s.error_protection&&m(a,0,16),s.version==1){for(j(u.main_data_begin>=0),m(a,u.main_data_begin,9),a.channels_out==2?m(a,u.private_bits,3):m(a,u.private_bits,5),J=0;J<a.channels_out;J++){var C;for(C=0;C<4;C++)m(a,u.scfsi[J][C],1)}for(F=0;F<2;F++)for(J=0;J<a.channels_out;J++){var N=u.tt[F][J];m(a,N.part2_3_length+N.part2_length,12),m(a,N.big_values/2,9),m(a,N.global_gain,8),m(a,N.scalefac_compress,4),N.block_type!=G.NORM_TYPE?(m(a,1,1),m(a,N.block_type,2),m(a,N.mixed_block_flag,1),N.table_select[0]==14&&(N.table_select[0]=16),m(a,N.table_select[0],5),N.table_select[1]==14&&(N.table_select[1]=16),m(a,N.table_select[1],5),m(a,N.subblock_gain[0],3),m(a,N.subblock_gain[1],3),m(a,N.subblock_gain[2],3)):(m(a,0,1),N.table_select[0]==14&&(N.table_select[0]=16),m(a,N.table_select[0],5),N.table_select[1]==14&&(N.table_select[1]=16),m(a,N.table_select[1],5),N.table_select[2]==14&&(N.table_select[2]=16),m(a,N.table_select[2],5),j(0<=N.region0_count&&N.region0_count<16),j(0<=N.region1_count&&N.region1_count<8),m(a,N.region0_count,4),m(a,N.region1_count,3)),m(a,N.preflag,1),m(a,N.scalefac_scale,1),m(a,N.count1table_select,1)}}else for(j(u.main_data_begin>=0),m(a,u.main_data_begin,8),m(a,u.private_bits,a.channels_out),F=0,J=0;J<a.channels_out;J++){var N=u.tt[F][J];m(a,N.part2_3_length+N.part2_length,12),m(a,N.big_values/2,9),m(a,N.global_gain,8),m(a,N.scalefac_compress,9),N.block_type!=G.NORM_TYPE?(m(a,1,1),m(a,N.block_type,2),m(a,N.mixed_block_flag,1),N.table_select[0]==14&&(N.table_select[0]=16),m(a,N.table_select[0],5),N.table_select[1]==14&&(N.table_select[1]=16),m(a,N.table_select[1],5),m(a,N.subblock_gain[0],3),m(a,N.subblock_gain[1],3),m(a,N.subblock_gain[2],3)):(m(a,0,1),N.table_select[0]==14&&(N.table_select[0]=16),m(a,N.table_select[0],5),N.table_select[1]==14&&(N.table_select[1]=16),m(a,N.table_select[1],5),N.table_select[2]==14&&(N.table_select[2]=16),m(a,N.table_select[2],5),j(0<=N.region0_count&&N.region0_count<16),j(0<=N.region1_count&&N.region1_count<8),m(a,N.region0_count,4),m(a,N.region1_count,3)),m(a,N.scalefac_scale,1),m(a,N.count1table_select,1)}s.error_protection&&CRC_writeheader(a,a.header[a.h_ptr].buf);var e1=a.h_ptr;j(a.header[e1].ptr==a.sideinfo_len*8),a.h_ptr=e1+1&O.MAX_HEADER_BUF-1,a.header[a.h_ptr].write_timing=a.header[e1].write_timing+_,a.h_ptr==a.w_ptr&&S.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}function X(s,_){var a=d.ht[_.count1table_select+32],u,F=0,J=_.big_values,C=_.big_values;for(j(_.count1table_select<2),u=(_.count1-_.big_values)/4;u>0;--u){var N=0,e1=0,o1;o1=_.l3_enc[J+0],o1!=0&&(e1+=8,_.xr[C+0]<0&&N++,j(o1<=1)),o1=_.l3_enc[J+1],o1!=0&&(e1+=4,N*=2,_.xr[C+1]<0&&N++,j(o1<=1)),o1=_.l3_enc[J+2],o1!=0&&(e1+=2,N*=2,_.xr[C+2]<0&&N++,j(o1<=1)),o1=_.l3_enc[J+3],o1!=0&&(e1++,N*=2,_.xr[C+3]<0&&N++,j(o1<=1)),J+=4,C+=4,$(s,N+a.table[e1],a.hlen[e1]),F+=a.hlen[e1]}return F}function L(s,_,a,u,F){var J=d.ht[_],C=0;if(j(_<32),_==0)return C;for(var N=a;N<u;N+=2){var e1=0,o1=0,c1=J.xlen,N1=J.xlen,A1=0,R1=F.l3_enc[N],p1=F.l3_enc[N+1];if(R1!=0&&(F.xr[N]<0&&A1++,e1--),_>15){if(R1>14){var x1=R1-15;j(x1<=J.linmax),A1|=x1<<1,o1=c1,R1=15}if(p1>14){var J1=p1-15;j(J1<=J.linmax),A1<<=c1,A1|=J1,o1+=c1,p1=15}N1=16}p1!=0&&(A1<<=1,F.xr[N+1]<0&&A1++,e1--),j((R1|p1)<16),R1=R1*N1+p1,o1-=e1,e1+=J.hlen[R1],j(e1<=r),j(o1<=r),$(s,J.table[R1],e1),$(s,A1,o1),C+=e1+o1}return C}function V(s,_){var a=3*s.scalefac_band.s[3];a>_.big_values&&(a=_.big_values);var u=L(s,_.table_select[0],0,a,_);return u+=L(s,_.table_select[1],a,_.big_values,_),u}function K(s,_){var a,u,F,J;a=_.big_values,j(0<=a&&a<=576);var C=_.region0_count+1;return j(0<=C),j(C<s.scalefac_band.l.length),F=s.scalefac_band.l[C],C+=_.region1_count+1,j(0<=C),j(C<s.scalefac_band.l.length),J=s.scalefac_band.l[C],F>a&&(F=a),J>a&&(J=a),u=L(s,_.table_select[0],0,F,_),u+=L(s,_.table_select[1],F,J,_),u+=L(s,_.table_select[2],J,a,_),u}function l1(s){var _,a,u,F,J=0,C=s.internal_flags,N=C.l3_side;if(s.version==1)for(_=0;_<2;_++)for(a=0;a<C.channels_out;a++){var e1=N.tt[_][a],o1=g.slen1_tab[e1.scalefac_compress],c1=g.slen2_tab[e1.scalefac_compress];for(F=0,u=0;u<e1.sfbdivide;u++)e1.scalefac[u]!=-1&&($(C,e1.scalefac[u],o1),F+=o1);for(;u<e1.sfbmax;u++)e1.scalefac[u]!=-1&&($(C,e1.scalefac[u],c1),F+=c1);j(F==e1.part2_length),e1.block_type==G.SHORT_TYPE?F+=V(C,e1):F+=K(C,e1),F+=X(C,e1),j(F==e1.part2_3_length+e1.part2_length),J+=F}else for(_=0,a=0;a<C.channels_out;a++){var e1=N.tt[_][a],N1,A1,R1=0;if(j(e1.sfb_partition_table!=null),F=0,u=0,A1=0,e1.block_type==G.SHORT_TYPE){for(;A1<4;A1++){var p1=e1.sfb_partition_table[A1]/3,x1=e1.slen[A1];for(N1=0;N1<p1;N1++,u++)$(C,Math.max(e1.scalefac[u*3+0],0),x1),$(C,Math.max(e1.scalefac[u*3+1],0),x1),$(C,Math.max(e1.scalefac[u*3+2],0),x1),R1+=3*x1}F+=V(C,e1)}else{for(;A1<4;A1++){var p1=e1.sfb_partition_table[A1],x1=e1.slen[A1];for(N1=0;N1<p1;N1++,u++)$(C,Math.max(e1.scalefac[u],0),x1),R1+=x1}F+=K(C,e1)}F+=X(C,e1),j(F==e1.part2_3_length),j(R1==e1.part2_length),J+=R1+F}return J}function E(){this.total=0}function w(s,_){var a=s.internal_flags,u,F,J,C,N;return N=a.w_ptr,C=a.h_ptr-1,C==-1&&(C=O.MAX_HEADER_BUF-1),u=a.header[C].write_timing-e,_.total=u,u>=0&&(F=1+C-N,C<N&&(F=1+C-N+O.MAX_HEADER_BUF),u-=F*8*a.sideinfo_len),J=s1.getframebits(s),u+=J,_.total+=J,_.total%8!=0?_.total=1+_.total/8:_.total=_.total/8,_.total+=l+1,u<0&&S.err.println(`strange error flushing buffer ... 
`),u}this.flush_bitstream=function(s){var _=s.internal_flags,a,u,F=_.h_ptr-1;if(F==-1&&(F=O.MAX_HEADER_BUF-1),a=_.l3_side,!((u=w(s,new E))<0)){if(h(s,u),j(_.header[F].write_timing+this.getframebits(s)==e),_.ResvSize=0,a.main_data_begin=0,_.findReplayGain){var J=n.GetTitleGain(_.rgdata);j(NEQ(J,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),_.RadioGain=Math.floor(J*10+.5)|0}_.findPeakSample&&(_.noclipGainChange=Math.ceil(Math.log10(_.PeakSample/32767)*200)|0,_.noclipGainChange>0&&(EQ(s.scale,1)||EQ(s.scale,0))?_.noclipScale=Math.floor(32767/_.PeakSample*100)/100:_.noclipScale=-1)}},this.add_dummy_byte=function(s,_,a){for(var u=s.internal_flags,F;a-- >0;)for(Q(u,_,8),F=0;F<O.MAX_HEADER_BUF;++F)u.header[F].write_timing+=8},this.format_bitstream=function(s){var _=s.internal_flags,a;a=_.l3_side;var u=this.getframebits(s);h(s,a.resvDrain_pre),v(s,u);var F=8*_.sideinfo_len;if(F+=l1(s),h(s,a.resvDrain_post),F+=a.resvDrain_post,a.main_data_begin+=(u-F)/8,w(s,new E)!=_.ResvSize&&S.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),a.main_data_begin*8!=_.ResvSize&&(S.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*a.main_data_begin,_.ResvSize,a.resvDrain_post,a.resvDrain_pre,8*_.sideinfo_len,F-a.resvDrain_post-8*_.sideinfo_len,F,F%8,u),S.err.println("This is a fatal error.  It has several possible causes:"),S.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),S.err.println(" 9%%  Your system is overclocked"),S.err.println(" 1%%  bug in LAME encoding library"),_.ResvSize=a.main_data_begin*8),j(e%8==0),e>1e9){var J;for(J=0;J<O.MAX_HEADER_BUF;++J)_.header[J].write_timing-=e;e=0}return 0},this.copy_buffer=function(s,_,a,u,F){var J=l+1;if(J<=0)return 0;if(u!=0&&J>u)return-1;if(S.arraycopy(c,0,_,a,J),l=-1,I=0,F!=0){var C=k(1);if(C[0]=s.nMusicCRC,M.updateMusicCRC(C,_,a,J),s.nMusicCRC=C[0],J>0&&(s.VBR_seek_table.nBytesWritten+=J),s.decode_on_the_fly){for(var N=i1([2,1152]),e1=J,o1=-1,c1;o1!=0;)if(o1=A.hip_decode1_unclipped(s.hip,_,a,e1,N[0],N[1]),e1=0,o1==-1&&(o1=0),o1>0){if(j(o1<=1152),s.findPeakSample){for(c1=0;c1<o1;c1++)N[0][c1]>s.PeakSample?s.PeakSample=N[0][c1]:-N[0][c1]>s.PeakSample&&(s.PeakSample=-N[0][c1]);if(s.channels_out>1)for(c1=0;c1<o1;c1++)N[1][c1]>s.PeakSample?s.PeakSample=N[1][c1]:-N[1][c1]>s.PeakSample&&(s.PeakSample=-N[1][c1])}if(s.findReplayGain&&n.AnalyzeSamples(s.rgdata,N[0],0,N[1],0,o1,s.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return J},this.init_bit_stream_w=function(s){c=Z(q.LAME_MAXMP3BUFFER),s.h_ptr=s.w_ptr=0,s.header[s.h_ptr].write_timing=0,l=-1,I=0,e=0}}r1.exports=B});v1.register("65Sx2",function(r1,_1){var i=v1("3YDN3"),S=i.System;i.VbrMode,i.Float,i.ShortBlock,i.Util;var U=i.Arrays;i.new_array_n,i.new_byte,i.new_double,i.new_float,i.new_float_n;var Z=i.new_int;i.new_int_n;var i1=i.assert,k=v1("cPNKB"),j=v1("dQDcS"),g=v1("7weBo"),d=v1("84mea");function G(){var O=null;this.qupvt=null,this.setModules=function(E){this.qupvt=E,O=E};function B(E){this.bits=0|E}var q=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function s1(E,w,s,_,a,u){var F=.5946/w;for(i1(E>0),E=E>>1;E--!=0;)a[u++]=F>s[_++]?0:1,a[u++]=F>s[_++]?0:1}function h1(E,w,s,_,a,u){i1(E>0),E=E>>1;var F=E%2;for(E=E>>1;E--!=0;){var J,C,N,e1,o1,c1,N1,A1;J=s[_++]*w,C=s[_++]*w,o1=0|J,N=s[_++]*w,c1=0|C,e1=s[_++]*w,N1=0|N,J+=O.adj43[o1],A1=0|e1,C+=O.adj43[c1],a[u++]=0|J,N+=O.adj43[N1],a[u++]=0|C,e1+=O.adj43[A1],a[u++]=0|N,a[u++]=0|e1}if(F!=0){var J,C,o1,c1;J=s[_++]*w,C=s[_++]*w,o1=0|J,c1=0|C,J+=O.adj43[o1],C+=O.adj43[c1],a[u++]=0|J,a[u++]=0|C}}function r(E,w,s,_,a){var u,F,J=0,C,N=0,e1=0,o1=0,c1=w,N1=0,A1=c1,R1=0,p1=E,x1=0;for(C=a!=null&&_.global_gain==a.global_gain,_.block_type==k.SHORT_TYPE?F=38:F=21,u=0;u<=F;u++){var J1=-1;if((C||_.block_type==k.NORM_TYPE)&&(J1=_.global_gain-(_.scalefac[u]+(_.preflag!=0?O.pretab[u]:0)<<_.scalefac_scale+1)-_.subblock_gain[_.window[u]]*8),i1(_.width[u]>=0),C&&a.step[u]==J1)N!=0&&(h1(N,s,p1,x1,A1,R1),N=0),e1!=0&&(s1(e1,s,p1,x1,A1,R1),e1=0);else{var t=_.width[u];if(J+_.width[u]>_.max_nonzero_coeff){var o;o=_.max_nonzero_coeff-J+1,U.fill(w,_.max_nonzero_coeff,576,0),t=o,t<0&&(t=0),u=F+1}if(N==0&&e1==0&&(A1=c1,R1=N1,p1=E,x1=o1),a!=null&&a.sfb_count1>0&&u>=a.sfb_count1&&a.step[u]>0&&J1>=a.step[u]?(N!=0&&(h1(N,s,p1,x1,A1,R1),N=0,A1=c1,R1=N1,p1=E,x1=o1),e1+=t):(e1!=0&&(s1(e1,s,p1,x1,A1,R1),e1=0,A1=c1,R1=N1,p1=E,x1=o1),N+=t),t<=0){e1!=0&&(s1(e1,s,p1,x1,A1,R1),e1=0),N!=0&&(h1(N,s,p1,x1,A1,R1),N=0);break}}u<=F&&(N1+=_.width[u],o1+=_.width[u],J+=_.width[u])}N!=0&&(h1(N,s,p1,x1,A1,R1),N=0),e1!=0&&(s1(e1,s,p1,x1,A1,R1),e1=0)}function n(E,w,s){var _=0,a=0;do{var u=E[w++],F=E[w++];_<u&&(_=u),a<F&&(a=F)}while(w<s);return _<a&&(_=a),_}function A(E,w,s,_,a,u){var F=j.ht[_].xlen*65536+j.ht[a].xlen,J=0,C;do{var N=E[w++],e1=E[w++];N!=0&&(N>14&&(N=15,J+=F),N*=16),e1!=0&&(e1>14&&(e1=15,J+=F),N+=e1),J+=j.largetbl[N]}while(w<s);return C=J&65535,J>>=16,J>C&&(J=C,_=a),u.bits+=J,_}function p(E,w,s,_){var a=0,u=j.ht[1].hlen;do{var F=E[w+0]*2+E[w+1];w+=2,a+=u[F]}while(w<s);return _.bits+=a,1}function M(E,w,s,_,a){var u=0,F,J=j.ht[_].xlen,C;_==2?C=j.table23:C=j.table56;do{var N=E[w+0]*J+E[w+1];w+=2,u+=C[N]}while(w<s);return F=u&65535,u>>=16,u>F&&(u=F,_++),a.bits+=u,_}function c(E,w,s,_,a){var u=0,F=0,J=0,C=j.ht[_].xlen,N=j.ht[_].hlen,e1=j.ht[_+1].hlen,o1=j.ht[_+2].hlen;do{var c1=E[w+0]*C+E[w+1];w+=2,u+=N[c1],F+=e1[c1],J+=o1[c1]}while(w<s);var N1=_;return u>F&&(u=F,N1++),u>J&&(u=J,N1=_+2),a.bits+=u,N1}var e=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function l(E,w,s,_){var a=n(E,w,s);switch(a){case 0:return a;case 1:return p(E,w,s,_);case 2:case 3:return M(E,w,s,e[a-1],_);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return c(E,w,s,e[a-1],_);default:if(a>d.IXMAX_VAL)return _.bits=d.LARGE_BITS,-1;a-=15;var u;for(u=24;u<32&&!(j.ht[u].linmax>=a);u++);var F;for(F=u-8;F<24&&!(j.ht[F].linmax>=a);F++);return A(E,w,s,F,u,_)}}this.noquant_count_bits=function(E,w,s){var _=w.l3_enc,a=Math.min(576,w.max_nonzero_coeff+2>>1<<1);for(s!=null&&(s.sfb_count1=0);a>1&&!(_[a-1]|_[a-2]);a-=2);w.count1=a;for(var u=0,F=0;a>3;a-=4){var J;if(((_[a-1]|_[a-2]|_[a-3]|_[a-4])&2147483647)>1)break;J=((_[a-4]*2+_[a-3])*2+_[a-2])*2+_[a-1],u+=j.t32l[J],F+=j.t33l[J]}var C=u;if(w.count1table_select=0,u>F&&(C=F,w.count1table_select=1),w.count1bits=C,w.big_values=a,a==0)return C;if(w.block_type==k.SHORT_TYPE)u=3*E.scalefac_band.s[3],u>w.big_values&&(u=w.big_values),F=w.big_values;else if(w.block_type==k.NORM_TYPE){if(i1(a<=576),u=w.region0_count=E.bv_scf[a-2],F=w.region1_count=E.bv_scf[a-1],i1(u+F+2<k.SBPSY_l),F=E.scalefac_band.l[u+F+2],u=E.scalefac_band.l[u+1],F<a){var N=new B(C);w.table_select[2]=l(_,F,a,N),C=N.bits}}else w.region0_count=7,w.region1_count=k.SBMAX_l-1-7-1,u=E.scalefac_band.l[8],F=a,u>F&&(u=F);if(u=Math.min(u,a),F=Math.min(F,a),i1(u>=0),i1(F>=0),0<u){var N=new B(C);w.table_select[0]=l(_,0,u,N),C=N.bits}if(u<F){var N=new B(C);w.table_select[1]=l(_,u,F,N),C=N.bits}if(E.use_best_huffman==2&&(w.part2_3_length=C,best_huffman_divide(E,w),C=w.part2_3_length),s!=null&&w.block_type==k.NORM_TYPE){for(var e1=0;E.scalefac_band.l[e1]<w.big_values;)e1++;s.sfb_count1=e1}return C},this.count_bits=function(E,w,s,_){var a=s.l3_enc,u=d.IXMAX_VAL/O.IPOW20(s.global_gain);if(s.xrpow_max>u)return d.LARGE_BITS;if(r(w,a,O.IPOW20(s.global_gain),s,_),E.substep_shaping&2)for(var F=0,J=s.global_gain+s.scalefac_scale,C=.634521682242439/O.IPOW20(J),N=0;N<s.sfbmax;N++){var e1=s.width[N];if(i1(e1>=0),E.pseudohalf[N]==0)F+=e1;else{var o1;for(o1=F,F+=e1;o1<F;++o1)a[o1]=w[o1]>=C?a[o1]:0}}return this.noquant_count_bits(E,s,_)};function I(E,w,s,_,a,u,F){for(var J=w.big_values,C=0;C<=22;C++)_[C]=d.LARGE_BITS;for(var C=0;C<16;C++){var N=E.scalefac_band.l[C+1];if(N>=J)break;var e1=0,o1=new B(e1),c1=l(s,0,N,o1);e1=o1.bits;for(var N1=0;N1<8;N1++){var A1=E.scalefac_band.l[C+N1+2];if(A1>=J)break;var R1=e1;o1=new B(R1);var p1=l(s,N,A1,o1);R1=o1.bits,_[C+N1]>R1&&(_[C+N1]=R1,a[C+N1]=C,u[C+N1]=c1,F[C+N1]=p1)}}}function y(E,w,s,_,a,u,F,J){for(var C=w.big_values,N=2;N<k.SBMAX_l+1;N++){var e1=E.scalefac_band.l[N];if(e1>=C)break;var o1=a[N-2]+w.count1bits;if(s.part2_3_length<=o1)break;var c1=new B(o1),N1=l(_,e1,C,c1);o1=c1.bits,!(s.part2_3_length<=o1)&&(s.assign(w),s.part2_3_length=o1,s.region0_count=u[N-2],s.region1_count=N-2-u[N-2],s.table_select[0]=F[N-2],s.table_select[1]=J[N-2],s.table_select[2]=N1)}}this.best_huffman_divide=function(E,w){var s=new g,_=w.l3_enc,a=Z(23),u=Z(23),F=Z(23),J=Z(23);if(!(w.block_type==k.SHORT_TYPE&&E.mode_gr==1)){s.assign(w),w.block_type==k.NORM_TYPE&&(I(E,w,_,a,u,F,J),y(E,s,w,_,a,u,F,J));var C=s.big_values;if(!(C==0||(_[C-2]|_[C-1])>1)&&(C=w.count1+2,!(C>576))){s.assign(w),s.count1=C;var N=0,e1=0;for(i1(C<=576);C>s.big_values;C-=4){var o1=((_[C-4]*2+_[C-3])*2+_[C-2])*2+_[C-1];N+=j.t32l[o1],e1+=j.t33l[o1]}if(s.big_values=C,s.count1table_select=0,N>e1&&(N=e1,s.count1table_select=1),s.count1bits=N,s.block_type==k.NORM_TYPE)y(E,s,w,_,a,u,F,J);else{if(s.part2_3_length=N,N=E.scalefac_band.l[8],N>C&&(N=C),N>0){var c1=new B(s.part2_3_length);s.table_select[0]=l(_,0,N,c1),s.part2_3_length=c1.bits}if(C>N){var c1=new B(s.part2_3_length);s.table_select[1]=l(_,N,C,c1),s.part2_3_length=c1.bits}w.part2_3_length>s.part2_3_length&&w.assign(s)}}}};var $=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],Q=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],h=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],m=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];G.slen1_tab=h,G.slen2_tab=m;function Y(E,w){for(var s,_=w.tt[1][E],a=w.tt[0][E],u=0;u<j.scfsi_band.length-1;u++){for(s=j.scfsi_band[u];s<j.scfsi_band[u+1]&&!(a.scalefac[s]!=_.scalefac[s]&&_.scalefac[s]>=0);s++);if(s==j.scfsi_band[u+1]){for(s=j.scfsi_band[u];s<j.scfsi_band[u+1];s++)_.scalefac[s]=-1;w.scfsi[E][u]=1}}var F=0,J=0;for(s=0;s<11;s++)_.scalefac[s]!=-1&&(J++,F<_.scalefac[s]&&(F=_.scalefac[s]));for(var C=0,N=0;s<k.SBPSY_l;s++)_.scalefac[s]!=-1&&(N++,C<_.scalefac[s]&&(C=_.scalefac[s]));for(var u=0;u<16;u++)if(F<$[u]&&C<Q[u]){var e1=h[u]*J+m[u]*N;_.part2_length>e1&&(_.part2_length=e1,_.scalefac_compress=u)}}this.best_scalefac_store=function(E,w,s,_){var a=_.tt[w][s],u,F,J,C,N=0;for(J=0,u=0;u<a.sfbmax;u++){var e1=a.width[u];for(i1(e1>=0),J+=e1,C=-e1;C<0&&a.l3_enc[C+J]==0;C++);C==0&&(a.scalefac[u]=N=-2)}if(a.scalefac_scale==0&&a.preflag==0){var o1=0;for(u=0;u<a.sfbmax;u++)a.scalefac[u]>0&&(o1|=a.scalefac[u]);if(!(o1&1)&&o1!=0){for(u=0;u<a.sfbmax;u++)a.scalefac[u]>0&&(a.scalefac[u]>>=1);a.scalefac_scale=N=1}}if(a.preflag==0&&a.block_type!=k.SHORT_TYPE&&E.mode_gr==2){for(u=11;u<k.SBPSY_l&&!(a.scalefac[u]<O.pretab[u]&&a.scalefac[u]!=-2);u++);if(u==k.SBPSY_l){for(u=11;u<k.SBPSY_l;u++)a.scalefac[u]>0&&(a.scalefac[u]-=O.pretab[u]);a.preflag=N=1}}for(F=0;F<4;F++)_.scfsi[s][F]=0;for(E.mode_gr==2&&w==1&&_.tt[0][s].block_type!=k.SHORT_TYPE&&_.tt[1][s].block_type!=k.SHORT_TYPE&&(Y(s,_),N=0),u=0;u<a.sfbmax;u++)a.scalefac[u]==-2&&(a.scalefac[u]=0);N!=0&&(E.mode_gr==2?this.scale_bitcount(a):this.scale_bitcount_lsf(E,a))};function v(E,w){for(var s=0;s<w;++s)if(E[s]<0)return!1;return!0}var X=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],L=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],V=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(E){var w,s,_=0,a=0,u,F=E.scalefac;if(i1(v(F,E.sfbmax)),E.block_type==k.SHORT_TYPE)u=X,E.mixed_block_flag!=0&&(u=L);else if(u=V,E.preflag==0){for(s=11;s<k.SBPSY_l&&!(F[s]<O.pretab[s]);s++);if(s==k.SBPSY_l)for(E.preflag=1,s=11;s<k.SBPSY_l;s++)F[s]-=O.pretab[s]}for(s=0;s<E.sfbdivide;s++)_<F[s]&&(_=F[s]);for(;s<E.sfbmax;s++)a<F[s]&&(a=F[s]);for(E.part2_length=d.LARGE_BITS,w=0;w<16;w++)_<$[w]&&a<Q[w]&&E.part2_length>u[w]&&(E.part2_length=u[w],E.scalefac_compress=w);return E.part2_length==d.LARGE_BITS};var K=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(E,w){var s,_,a,u,F,J,C,N,e1=Z(4),o1=w.scalefac;for(w.preflag!=0?s=2:s=0,C=0;C<4;C++)e1[C]=0;if(w.block_type==k.SHORT_TYPE){_=1;var c1=O.nr_of_sfb_block[s][_];for(N=0,a=0;a<4;a++)for(u=c1[a]/3,C=0;C<u;C++,N++)for(F=0;F<3;F++)o1[N*3+F]>e1[a]&&(e1[a]=o1[N*3+F])}else{_=0;var c1=O.nr_of_sfb_block[s][_];for(N=0,a=0;a<4;a++)for(u=c1[a],C=0;C<u;C++,N++)o1[N]>e1[a]&&(e1[a]=o1[N])}for(J=!1,a=0;a<4;a++)e1[a]>K[s][a]&&(J=!0);if(!J){var N1,A1,R1,p1;for(w.sfb_partition_table=O.nr_of_sfb_block[s][_],a=0;a<4;a++)w.slen[a]=l1[e1[a]];switch(N1=w.slen[0],A1=w.slen[1],R1=w.slen[2],p1=w.slen[3],s){case 0:w.scalefac_compress=(N1*5+A1<<4)+(R1<<2)+p1;break;case 1:w.scalefac_compress=400+(N1*5+A1<<2)+R1;break;case 2:w.scalefac_compress=500+N1*3+A1;break;default:S.err.printf(`intensity stereo not implemented yet
`);break}}if(!J)for(i1(w.sfb_partition_table!=null),w.part2_length=0,a=0;a<4;a++)w.part2_length+=w.slen[a]*w.sfb_partition_table[a];return J};var l1=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(E){for(var w=2;w<=576;w+=2){for(var s=0,_;E.scalefac_band.l[++s]<w;);for(_=q[s][0];E.scalefac_band.l[_+1]>w;)_--;for(_<0&&(_=q[s][0]),E.bv_scf[w-2]=_,_=q[s][1];E.scalefac_band.l[_+E.bv_scf[w-2]+2]>w;)_--;_<0&&(_=q[s][1]),E.bv_scf[w-1]=_}}}r1.exports=G});v1.register("dQDcS",function(r1,_1){function i(U,Z,i1,k){this.xlen=U,this.linmax=Z,this.table=i1,this.hlen=k}var S={};S.t1HB=[1,1,1,0],S.t2HB=[1,2,1,3,1,1,3,2,0],S.t3HB=[3,2,1,1,1,1,3,2,0],S.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],S.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],S.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],S.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],S.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],S.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],S.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],S.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],S.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],S.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],S.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],S.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],S.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],S.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],S.t1l=[1,4,3,5],S.t2l=[1,4,7,4,5,7,6,7,8],S.t3l=[2,3,7,4,4,7,6,7,8],S.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],S.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],S.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],S.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],S.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],S.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],S.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],S.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],S.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],S.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],S.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],S.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],S.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],S.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],S.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],S.ht=[new i(0,0,null,null),new i(2,0,S.t1HB,S.t1l),new i(3,0,S.t2HB,S.t2l),new i(3,0,S.t3HB,S.t3l),new i(0,0,null,null),new i(4,0,S.t5HB,S.t5l),new i(4,0,S.t6HB,S.t6l),new i(6,0,S.t7HB,S.t7l),new i(6,0,S.t8HB,S.t8l),new i(6,0,S.t9HB,S.t9l),new i(8,0,S.t10HB,S.t10l),new i(8,0,S.t11HB,S.t11l),new i(8,0,S.t12HB,S.t12l),new i(16,0,S.t13HB,S.t13l),new i(0,0,null,S.t16_5l),new i(16,0,S.t15HB,S.t15l),new i(1,1,S.t16HB,S.t16l),new i(2,3,S.t16HB,S.t16l),new i(3,7,S.t16HB,S.t16l),new i(4,15,S.t16HB,S.t16l),new i(6,63,S.t16HB,S.t16l),new i(8,255,S.t16HB,S.t16l),new i(10,1023,S.t16HB,S.t16l),new i(13,8191,S.t16HB,S.t16l),new i(4,15,S.t24HB,S.t24l),new i(5,31,S.t24HB,S.t24l),new i(6,63,S.t24HB,S.t24l),new i(7,127,S.t24HB,S.t24l),new i(8,255,S.t24HB,S.t24l),new i(9,511,S.t24HB,S.t24l),new i(11,2047,S.t24HB,S.t24l),new i(13,8191,S.t24HB,S.t24l),new i(0,0,S.t32HB,S.t32l),new i(0,0,S.t33HB,S.t33l)],S.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],S.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],S.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],S.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],S.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],S.scfsi_band=[0,6,11,16,21],r1.exports=S});v1.register("84mea",function(r1,_1){var i=v1("7imnH"),S=v1("3YDN3");S.System;var U=S.VbrMode,Z=S.Float;S.ShortBlock;var i1=S.Util;S.Arrays,S.new_array_n,S.new_byte,S.new_double;var k=S.new_float;S.new_float_n;var j=S.new_int;S.new_int_n;var g=S.assert,d=v1("cPNKB"),G=v1("lL4Le"),O=v1("4SDnr");B.Q_MAX=257,B.Q_MAX2=116,B.LARGE_BITS=1e5,B.IXMAX_VAL=8206;function B(){var q=v1("ctaQC"),s1=null,h1=null,r=null;this.setModules=function(X,L,V){s1=X,h1=L,r=V};function n(X){return g(0<=X+B.Q_MAX2&&X<B.Q_MAX),y[X+B.Q_MAX2]}this.IPOW20=function(X){return g(0<=X&&X<B.Q_MAX),$[X]};var A=2220446049250313e-31,p=B.IXMAX_VAL,M=p+2,c=B.Q_MAX,e=B.Q_MAX2;B.LARGE_BITS;var l=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var I=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=I,this.sfBandIndex=[new i([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new i([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var y=k(c+e+1),$=k(c),Q=k(M),h=k(M);this.adj43=h;function m(X,L){var V=r.ATHformula(L,X);return V-=l,V=Math.pow(10,V/10+X.ATHlower),V}function Y(X){for(var L=X.internal_flags.ATH.l,V=X.internal_flags.ATH.psfb21,K=X.internal_flags.ATH.s,l1=X.internal_flags.ATH.psfb12,E=X.internal_flags,w=X.out_samplerate,s=0;s<d.SBMAX_l;s++){var _=E.scalefac_band.l[s],a=E.scalefac_band.l[s+1];L[s]=Z.MAX_VALUE;for(var u=_;u<a;u++){var F=u*w/1152,J=m(X,F);L[s]=Math.min(L[s],J)}}for(var s=0;s<d.PSFB21;s++){var _=E.scalefac_band.psfb21[s],a=E.scalefac_band.psfb21[s+1];V[s]=Z.MAX_VALUE;for(var u=_;u<a;u++){var F=u*w/1152,J=m(X,F);V[s]=Math.min(V[s],J)}}for(var s=0;s<d.SBMAX_s;s++){var _=E.scalefac_band.s[s],a=E.scalefac_band.s[s+1];K[s]=Z.MAX_VALUE;for(var u=_;u<a;u++){var F=u*w/384,J=m(X,F);K[s]=Math.min(K[s],J)}K[s]*=E.scalefac_band.s[s+1]-E.scalefac_band.s[s]}for(var s=0;s<d.PSFB12;s++){var _=E.scalefac_band.psfb12[s],a=E.scalefac_band.psfb12[s+1];l1[s]=Z.MAX_VALUE;for(var u=_;u<a;u++){var F=u*w/384,J=m(X,F);l1[s]=Math.min(l1[s],J)}l1[s]*=E.scalefac_band.s[13]-E.scalefac_band.s[12]}if(X.noATH){for(var s=0;s<d.SBMAX_l;s++)L[s]=1e-20;for(var s=0;s<d.PSFB21;s++)V[s]=1e-20;for(var s=0;s<d.SBMAX_s;s++)K[s]=1e-20;for(var s=0;s<d.PSFB12;s++)l1[s]=1e-20}E.ATH.floor=10*Math.log10(m(X,-1))}this.iteration_init=function(X){var L=X.internal_flags,V=L.l3_side,K;if(L.iteration_init_init==0){for(L.iteration_init_init=1,V.main_data_begin=0,Y(X),Q[0]=0,K=1;K<M;K++)Q[K]=Math.pow(K,4/3);for(K=0;K<M-1;K++)h[K]=K+1-Math.pow(.5*(Q[K]+Q[K+1]),.75);for(h[K]=.5,K=0;K<c;K++)$[K]=Math.pow(2,(K-210)*-.1875);for(K=0;K<=c+e;K++)y[K]=Math.pow(2,(K-210-e)*.25);s1.huffman_init(L);var l1,E,w,s;for(K=X.exp_nspsytune>>2&63,K>=32&&(K-=64),l1=Math.pow(10,K/4/10),K=X.exp_nspsytune>>8&63,K>=32&&(K-=64),E=Math.pow(10,K/4/10),K=X.exp_nspsytune>>14&63,K>=32&&(K-=64),w=Math.pow(10,K/4/10),K=X.exp_nspsytune>>20&63,K>=32&&(K-=64),s=w*Math.pow(10,K/4/10),K=0;K<d.SBMAX_l;K++){var _;K<=6?_=l1:K<=13?_=E:K<=20?_=w:_=s,L.nsPsy.longfact[K]=_}for(K=0;K<d.SBMAX_s;K++){var _;K<=5?_=l1:K<=10?_=E:K<=11?_=w:_=s,L.nsPsy.shortfact[K]=_}}},this.on_pe=function(X,L,V,K,l1,E){var w=X.internal_flags,s=0,_,a=j(2),u,F=new G(s),J=h1.ResvMaxBits(X,K,F,E);s=F.bits;var C=s+J;for(C>O.MAX_BITS_PER_GRANULE&&(C=O.MAX_BITS_PER_GRANULE),_=0,u=0;u<w.channels_out;++u)V[u]=Math.min(O.MAX_BITS_PER_CHANNEL,s/w.channels_out),a[u]=0|V[u]*L[l1][u]/700-V[u],a[u]>K*3/4&&(a[u]=K*3/4),a[u]<0&&(a[u]=0),a[u]+V[u]>O.MAX_BITS_PER_CHANNEL&&(a[u]=Math.max(0,O.MAX_BITS_PER_CHANNEL-V[u])),_+=a[u];if(_>J)for(u=0;u<w.channels_out;++u)a[u]=J*a[u]/_;for(u=0;u<w.channels_out;++u)V[u]+=a[u],J-=a[u];for(_=0,u=0;u<w.channels_out;++u)_+=V[u];if(_>O.MAX_BITS_PER_GRANULE){var N=0;for(u=0;u<w.channels_out;++u)V[u]*=O.MAX_BITS_PER_GRANULE,V[u]/=_,N+=V[u];g(N<=O.MAX_BITS_PER_GRANULE)}return C},this.reduce_side=function(X,L,V,K){g(K<=O.MAX_BITS_PER_GRANULE),g(X[0]+X[1]<=O.MAX_BITS_PER_GRANULE);var l1=.33*(.5-L)/.5;l1<0&&(l1=0),l1>.5&&(l1=.5);var E=0|l1*.5*(X[0]+X[1]);E>O.MAX_BITS_PER_CHANNEL-X[0]&&(E=O.MAX_BITS_PER_CHANNEL-X[0]),E<0&&(E=0),X[1]>=125&&(X[1]-E>125?(X[0]<V&&(X[0]+=E),X[1]-=E):(X[0]+=X[1]-125,X[1]=125)),E=X[0]+X[1],E>K&&(X[0]=K*X[0]/E,X[1]=K*X[1]/E),g(X[0]<=O.MAX_BITS_PER_CHANNEL),g(X[1]<=O.MAX_BITS_PER_CHANNEL),g(X[0]+X[1]<=O.MAX_BITS_PER_GRANULE)},this.athAdjust=function(X,L,V){var K=90.30873362,l1=94.82444863,E=i1.FAST_LOG10_X(L,10),w=X*X,s=0;return E-=V,w>1e-20&&(s=1+i1.FAST_LOG10_X(w,10/K)),s<0&&(s=0),E*=s,E+=V+K-l1,Math.pow(10,.1*E)},this.calc_xmin=function(X,L,V,K){var l1=0,E=X.internal_flags,w,s=0,_=0,a=E.ATH,u=V.xr,F=X.VBR==U.vbr_mtrh?1:0,J=E.masking_lower;for((X.VBR==U.vbr_mtrh||X.VBR==U.vbr_mt)&&(J=1),w=0;w<V.psy_lmax;w++){var C,N,e1,o1,c1,N1;X.VBR==U.vbr_rh||X.VBR==U.vbr_mtrh?N=athAdjust(a.adjust,a.l[w],a.floor):N=a.adjust*a.l[w],c1=V.width[w],e1=N/c1,o1=A,N1=c1>>1,C=0;do{var A1,R1;A1=u[s]*u[s],C+=A1,o1+=A1<e1?A1:e1,s++,R1=u[s]*u[s],C+=R1,o1+=R1<e1?R1:e1,s++}while(--N1>0);if(C>N&&_++,w==d.SBPSY_l){var p1=N*E.nsPsy.longfact[w];o1<p1&&(o1=p1)}if(F!=0&&(N=o1),!X.ATHonly){var x1=L.en.l[w];if(x1>0){var p1;p1=C*L.thm.l[w]*J/x1,F!=0&&(p1*=E.nsPsy.longfact[w]),N<p1&&(N=p1)}}F!=0?K[l1++]=N:K[l1++]=N*E.nsPsy.longfact[w]}var J1=575;if(V.block_type!=d.SHORT_TYPE)for(var t=576;t--!=0&&q.EQ(u[t],0);)J1=t;V.max_nonzero_coeff=J1;for(var o=V.sfb_smin;w<V.psymax;o++,w+=3){var c1,M1,B1;for(X.VBR==U.vbr_rh||X.VBR==U.vbr_mtrh?B1=athAdjust(a.adjust,a.s[o],a.floor):B1=a.adjust*a.s[o],c1=V.width[w],M1=0;M1<3;M1++){var C=0,N,e1,o1,N1=c1>>1;e1=B1/c1,o1=A;do{var A1,R1;A1=u[s]*u[s],C+=A1,o1+=A1<e1?A1:e1,s++,R1=u[s]*u[s],C+=R1,o1+=R1<e1?R1:e1,s++}while(--N1>0);if(C>B1&&_++,o==d.SBPSY_s){var p1=B1*E.nsPsy.shortfact[o];o1<p1&&(o1=p1)}if(F!=0?N=o1:N=B1,!X.ATHonly&&!X.ATHshort){var x1=L.en.s[o][M1];if(x1>0){var p1;p1=C*L.thm.s[o][M1]*J/x1,F!=0&&(p1*=E.nsPsy.shortfact[o]),N<p1&&(N=p1)}}F!=0?K[l1++]=N:K[l1++]=N*E.nsPsy.shortfact[o]}X.useTemporal&&(K[l1-3]>K[l1-3+1]&&(K[l1-3+1]+=(K[l1-3]-K[l1-3+1])*E.decay),K[l1-3+1]>K[l1-3+2]&&(K[l1-3+2]+=(K[l1-3+1]-K[l1-3+2])*E.decay))}return _};function v(X){this.s=X}this.calc_noise_core=function(X,L,V,K){var l1=0,E=L.s,w=X.l3_enc;if(E>X.count1)for(;V--!=0;){var s;s=X.xr[E],E++,l1+=s*s,s=X.xr[E],E++,l1+=s*s}else if(E>X.big_values){var _=k(2);for(_[0]=0,_[1]=K;V--!=0;){var s;s=Math.abs(X.xr[E])-_[w[E]],E++,l1+=s*s,s=Math.abs(X.xr[E])-_[w[E]],E++,l1+=s*s}}else for(;V--!=0;){var s;s=Math.abs(X.xr[E])-Q[w[E]]*K,E++,l1+=s*s,s=Math.abs(X.xr[E])-Q[w[E]]*K,E++,l1+=s*s}return L.s=E,l1},this.calc_noise=function(X,L,V,K,l1){var E=0,w=0,s,_,a=0,u=0,F=0,J=-20,C=0,N=X.scalefac,e1=0;for(K.over_SSD=0,s=0;s<X.psymax;s++){var o1=X.global_gain-(N[e1++]+(X.preflag!=0?I[s]:0)<<X.scalefac_scale+1)-X.subblock_gain[X.window[s]]*8,c1=0;if(l1!=null&&l1.step[s]==o1)c1=l1.noise[s],C+=X.width[s],V[E++]=c1/L[w++],c1=l1.noise_log[s];else{var N1=n(o1);if(_=X.width[s]>>1,C+X.width[s]>X.max_nonzero_coeff){var A1;A1=X.max_nonzero_coeff-C+1,A1>0?_=A1>>1:_=0}var R1=new v(C);c1=this.calc_noise_core(X,R1,_,N1),C=R1.s,l1!=null&&(l1.step[s]=o1,l1.noise[s]=c1),c1=V[E++]=c1/L[w++],c1=i1.FAST_LOG10(Math.max(c1,1e-20)),l1!=null&&(l1.noise_log[s]=c1)}if(l1!=null&&(l1.global_gain=X.global_gain),F+=c1,c1>0){var p1;p1=Math.max(0|c1*10+.5,1),K.over_SSD+=p1*p1,a++,u+=c1}J=Math.max(J,c1)}return K.over_count=a,K.tot_noise=F,K.over_noise=u,K.max_noise=J,a},this.set_pinfo=function(X,L,V,K,l1){var E=X.internal_flags,w,s,_,a,u,F=L.scalefac_scale==0?.5:1,J=L.scalefac,C=k(L3Side.SFBMAX),N=k(L3Side.SFBMAX),e1=new CalcNoiseResult;calc_xmin(X,V,L,C),calc_noise(L,C,N,e1,null);var o1=0;for(s=L.sfb_lmax,L.block_type!=d.SHORT_TYPE&&L.mixed_block_flag==0&&(s=22),w=0;w<s;w++){var c1=E.scalefac_band.l[w],N1=E.scalefac_band.l[w+1],A1=N1-c1;for(a=0;o1<N1;o1++)a+=L.xr[o1]*L.xr[o1];a/=A1,u=1e15,E.pinfo.en[K][l1][w]=u*a,E.pinfo.xfsf[K][l1][w]=u*C[w]*N[w]/A1,V.en.l[w]>0&&!X.ATHonly?a=a/V.en.l[w]:a=0,E.pinfo.thr[K][l1][w]=u*Math.max(a*V.thm.l[w],E.ATH.l[w]),E.pinfo.LAMEsfb[K][l1][w]=0,L.preflag!=0&&w>=11&&(E.pinfo.LAMEsfb[K][l1][w]=-F*I[w]),w<d.SBPSY_l&&(g(J[w]>=0),E.pinfo.LAMEsfb[K][l1][w]-=F*J[w])}if(L.block_type==d.SHORT_TYPE)for(s=w,w=L.sfb_smin;w<d.SBMAX_s;w++)for(var c1=E.scalefac_band.s[w],N1=E.scalefac_band.s[w+1],A1=N1-c1,R1=0;R1<3;R1++){for(a=0,_=c1;_<N1;_++)a+=L.xr[o1]*L.xr[o1],o1++;a=Math.max(a/A1,1e-20),u=1e15,E.pinfo.en_s[K][l1][3*w+R1]=u*a,E.pinfo.xfsf_s[K][l1][3*w+R1]=u*C[s]*N[s]/A1,V.en.s[w][R1]>0?a=a/V.en.s[w][R1]:a=0,(X.ATHonly||X.ATHshort)&&(a=0),E.pinfo.thr_s[K][l1][3*w+R1]=u*Math.max(a*V.thm.s[w][R1],E.ATH.s[w]),E.pinfo.LAMEsfb_s[K][l1][3*w+R1]=-2*L.subblock_gain[R1],w<d.SBPSY_s&&(E.pinfo.LAMEsfb_s[K][l1][3*w+R1]-=F*J[s]),s++}E.pinfo.LAMEqss[K][l1]=L.global_gain,E.pinfo.LAMEmainbits[K][l1]=L.part2_3_length+L.part2_length,E.pinfo.LAMEsfbits[K][l1]=L.part2_length,E.pinfo.over[K][l1]=e1.over_count,E.pinfo.max_noise[K][l1]=e1.max_noise*10,E.pinfo.over_noise[K][l1]=e1.over_noise*10,E.pinfo.tot_noise[K][l1]=e1.tot_noise*10,E.pinfo.over_SSD[K][l1]=e1.over_SSD}}r1.exports=B});var c0={};f0(c0,"Mp3Encoder",()=>Ce,r1=>Ce=r1);f0(c0,"WavHeader",()=>De,r1=>De=r1);var Ce,De,$1=v1("3YDN3");$1.System;$1.VbrMode;$1.Float;$1.ShortBlock;$1.Util;$1.Arrays;$1.new_array_n;var i0=$1.new_byte;$1.new_double;$1.new_float;$1.new_float_n;$1.new_int;$1.new_int_n;var _0=$1.assert,E0=v1("kk1yk"),m0={},$1=v1("3YDN3");$1.System;var me=$1.VbrMode;$1.Float;$1.ShortBlock;$1.Util;$1.Arrays;$1.new_array_n;$1.new_byte;$1.new_double;$1.new_float;$1.new_float_n;$1.new_int;$1.new_int_n;$1.assert;function T0(){var r1=v1("kk1yk");function _1(d,G,O,B,q,s1,h1,r,n,A,p,M,c,e,l){this.vbr_q=d,this.quant_comp=G,this.quant_comp_s=O,this.expY=B,this.st_lrm=q,this.st_s=s1,this.masking_adj=h1,this.masking_adj_short=r,this.ath_lower=n,this.ath_curve=A,this.ath_sensitivity=p,this.interch=M,this.safejoint=c,this.sfb21mod=e,this.msfix=l}function i(d,G,O,B,q,s1,h1,r,n,A,p,M,c,e){this.quant_comp=G,this.quant_comp_s=O,this.safejoint=B,this.nsmsfix=q,this.st_lrm=s1,this.st_s=h1,this.nsbass=r,this.scale=n,this.masking_adj=A,this.ath_lower=p,this.ath_curve=M,this.interch=c,this.sfscale=e}var S;this.setModules=function(d){S=d};var U=[new _1(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new _1(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new _1(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new _1(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new _1(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new _1(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new _1(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new _1(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new _1(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new _1(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new _1(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],Z=[new _1(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new _1(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new _1(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new _1(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new _1(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new _1(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new _1(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new _1(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new _1(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new _1(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new _1(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function i1(d,G,O){var B=d.VBR==me.vbr_rh?U:Z,q=d.VBR_q_frac,s1=B[G],h1=B[G+1],r=s1;s1.st_lrm=s1.st_lrm+q*(h1.st_lrm-s1.st_lrm),s1.st_s=s1.st_s+q*(h1.st_s-s1.st_s),s1.masking_adj=s1.masking_adj+q*(h1.masking_adj-s1.masking_adj),s1.masking_adj_short=s1.masking_adj_short+q*(h1.masking_adj_short-s1.masking_adj_short),s1.ath_lower=s1.ath_lower+q*(h1.ath_lower-s1.ath_lower),s1.ath_curve=s1.ath_curve+q*(h1.ath_curve-s1.ath_curve),s1.ath_sensitivity=s1.ath_sensitivity+q*(h1.ath_sensitivity-s1.ath_sensitivity),s1.interch=s1.interch+q*(h1.interch-s1.interch),s1.msfix=s1.msfix+q*(h1.msfix-s1.msfix),g(d,r.vbr_q),O!=0?d.quant_comp=r.quant_comp:Math.abs(d.quant_comp- -1)>0||(d.quant_comp=r.quant_comp),O!=0?d.quant_comp_short=r.quant_comp_s:Math.abs(d.quant_comp_short- -1)>0||(d.quant_comp_short=r.quant_comp_s),r.expY!=0&&(d.experimentalY=r.expY!=0),O!=0?d.internal_flags.nsPsy.attackthre=r.st_lrm:Math.abs(d.internal_flags.nsPsy.attackthre- -1)>0||(d.internal_flags.nsPsy.attackthre=r.st_lrm),O!=0?d.internal_flags.nsPsy.attackthre_s=r.st_s:Math.abs(d.internal_flags.nsPsy.attackthre_s- -1)>0||(d.internal_flags.nsPsy.attackthre_s=r.st_s),O!=0?d.maskingadjust=r.masking_adj:Math.abs(d.maskingadjust-0)>0||(d.maskingadjust=r.masking_adj),O!=0?d.maskingadjust_short=r.masking_adj_short:Math.abs(d.maskingadjust_short-0)>0||(d.maskingadjust_short=r.masking_adj_short),O!=0?d.ATHlower=-r.ath_lower/10:Math.abs(-d.ATHlower*10-0)>0||(d.ATHlower=-r.ath_lower/10),O!=0?d.ATHcurve=r.ath_curve:Math.abs(d.ATHcurve- -1)>0||(d.ATHcurve=r.ath_curve),O!=0?d.athaa_sensitivity=r.ath_sensitivity:Math.abs(d.athaa_sensitivity- -1)>0||(d.athaa_sensitivity=r.ath_sensitivity),r.interch>0&&(O!=0?d.interChRatio=r.interch:Math.abs(d.interChRatio- -1)>0||(d.interChRatio=r.interch)),r.safejoint>0&&(d.exp_nspsytune=d.exp_nspsytune|r.safejoint),r.sfb21mod>0&&(d.exp_nspsytune=d.exp_nspsytune|r.sfb21mod<<20),O!=0?d.msfix=r.msfix:Math.abs(d.msfix- -1)>0||(d.msfix=r.msfix),O==0&&(d.VBR_q=G,d.VBR_q_frac=q)}var k=[new i(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new i(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new i(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new i(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new i(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new i(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new i(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new i(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new i(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new i(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new i(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new i(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new i(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new i(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new i(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new i(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new i(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function j(d,G,O){var B=G,q=S.nearestBitrateFullIndex(G);if(d.VBR=me.vbr_abr,d.VBR_mean_bitrate_kbps=B,d.VBR_mean_bitrate_kbps=Math.min(d.VBR_mean_bitrate_kbps,320),d.VBR_mean_bitrate_kbps=Math.max(d.VBR_mean_bitrate_kbps,8),d.brate=d.VBR_mean_bitrate_kbps,d.VBR_mean_bitrate_kbps>320&&(d.disable_reservoir=!0),k[q].safejoint>0&&(d.exp_nspsytune=d.exp_nspsytune|2),k[q].sfscale>0&&(d.internal_flags.noise_shaping=2),Math.abs(k[q].nsbass)>0){var s1=int(k[q].nsbass*4);s1<0&&(s1+=64),d.exp_nspsytune=d.exp_nspsytune|s1<<2}return O!=0?d.quant_comp=k[q].quant_comp:Math.abs(d.quant_comp- -1)>0||(d.quant_comp=k[q].quant_comp),O!=0?d.quant_comp_short=k[q].quant_comp_s:Math.abs(d.quant_comp_short- -1)>0||(d.quant_comp_short=k[q].quant_comp_s),O!=0?d.msfix=k[q].nsmsfix:Math.abs(d.msfix- -1)>0||(d.msfix=k[q].nsmsfix),O!=0?d.internal_flags.nsPsy.attackthre=k[q].st_lrm:Math.abs(d.internal_flags.nsPsy.attackthre- -1)>0||(d.internal_flags.nsPsy.attackthre=k[q].st_lrm),O!=0?d.internal_flags.nsPsy.attackthre_s=k[q].st_s:Math.abs(d.internal_flags.nsPsy.attackthre_s- -1)>0||(d.internal_flags.nsPsy.attackthre_s=k[q].st_s),O!=0?d.scale=k[q].scale:Math.abs(d.scale- -1)>0||(d.scale=k[q].scale),O!=0?d.maskingadjust=k[q].masking_adj:Math.abs(d.maskingadjust-0)>0||(d.maskingadjust=k[q].masking_adj),k[q].masking_adj>0?O!=0?d.maskingadjust_short=k[q].masking_adj*.9:Math.abs(d.maskingadjust_short-0)>0||(d.maskingadjust_short=k[q].masking_adj*.9):O!=0?d.maskingadjust_short=k[q].masking_adj*1.1:Math.abs(d.maskingadjust_short-0)>0||(d.maskingadjust_short=k[q].masking_adj*1.1),O!=0?d.ATHlower=-k[q].ath_lower/10:Math.abs(-d.ATHlower*10-0)>0||(d.ATHlower=-k[q].ath_lower/10),O!=0?d.ATHcurve=k[q].ath_curve:Math.abs(d.ATHcurve- -1)>0||(d.ATHcurve=k[q].ath_curve),O!=0?d.interChRatio=k[q].interch:Math.abs(d.interChRatio- -1)>0||(d.interChRatio=k[q].interch),G}this.apply_preset=function(d,G,O){switch(G){case r1.R3MIX:G=r1.V3,d.VBR=me.vbr_mtrh;break;case r1.MEDIUM:G=r1.V4,d.VBR=me.vbr_rh;break;case r1.MEDIUM_FAST:G=r1.V4,d.VBR=me.vbr_mtrh;break;case r1.STANDARD:G=r1.V2,d.VBR=me.vbr_rh;break;case r1.STANDARD_FAST:G=r1.V2,d.VBR=me.vbr_mtrh;break;case r1.EXTREME:G=r1.V0,d.VBR=me.vbr_rh;break;case r1.EXTREME_FAST:G=r1.V0,d.VBR=me.vbr_mtrh;break;case r1.INSANE:return G=320,d.preset=G,j(d,G,O),d.VBR=me.vbr_off,G}switch(d.preset=G,G){case r1.V9:return i1(d,9,O),G;case r1.V8:return i1(d,8,O),G;case r1.V7:return i1(d,7,O),G;case r1.V6:return i1(d,6,O),G;case r1.V5:return i1(d,5,O),G;case r1.V4:return i1(d,4,O),G;case r1.V3:return i1(d,3,O),G;case r1.V2:return i1(d,2,O),G;case r1.V1:return i1(d,1,O),G;case r1.V0:return i1(d,0,O),G}return 8<=G&&G<=320?j(d,G,O):(d.preset=0,G)};function g(d,G){var O=0;return 0>G&&(O=-1,G=0),9<G&&(O=-1,G=9),d.VBR_q=G,d.VBR_q_frac=0,O}}m0=T0;var y0=v1("b8dhq"),$0=v1("84mea"),d0={},$1=v1("3YDN3"),Re=$1.System,l0=$1.VbrMode;$1.Float;$1.ShortBlock;var Je=$1.Util,Te=$1.Arrays;$1.new_array_n;$1.new_byte;$1.new_double;var He=$1.new_float;$1.new_float_n;$1.new_int;$1.new_int_n;var ve=$1.assert,S0={};function N0(){this.setModules=function(r1,_1){}}S0=N0;var xe={};function p0(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}xe=p0;var A0={},$1=v1("3YDN3"),v0=$1.new_float,I0=$1.new_int;$1.assert;function L0(){this.global_gain=0,this.sfb_count1=0,this.step=I0(39),this.noise=v0(39),this.noise_log=v0(39)}A0=L0;var D1=v1("cPNKB"),o0=v1("7weBo"),h0=v1("arIi9");function H0(){var r1;this.rv=null;var _1;this.qupvt=null;var i,S=new S0,U;this.setModules=function(r,n,A,p){r1=r,_1=n,this.rv=n,i=A,this.qupvt=A,U=p,S.setModules(i,U)},this.ms_convert=function(r,n){for(var A=0;A<576;++A){var p=r.tt[n][0].xr[A],M=r.tt[n][1].xr[A];r.tt[n][0].xr[A]=(p+M)*(Je.SQRT2*.5),r.tt[n][1].xr[A]=(p-M)*(Je.SQRT2*.5)}};function Z(r,n,A,p){p=0;for(var M=0;M<=A;++M){var c=Math.abs(r.xr[M]);p+=c,n[M]=Math.sqrt(c*Math.sqrt(c)),n[M]>r.xrpow_max&&(r.xrpow_max=n[M])}return p}this.init_xrpow=function(r,n,A){var p=0,M=0|n.max_nonzero_coeff;if(ve(A!=null),n.xrpow_max=0,ve(0<=M&&M<=575),Te.fill(A,M,576,0),p=Z(n,A,M,p),p>1e-20){var c=0;r.substep_shaping&2&&(c=1);for(var e=0;e<n.psymax;e++)r.pseudohalf[e]=c;return!0}return Te.fill(n.l3_enc,0,576,0),!1};function i1(r,n){var A=r.ATH,p=n.xr;if(n.block_type!=D1.SHORT_TYPE)for(var M=!1,c=D1.PSFB21-1;c>=0&&!M;c--){var e=r.scalefac_band.psfb21[c],l=r.scalefac_band.psfb21[c+1],I=i.athAdjust(A.adjust,A.psfb21[c],A.floor);r.nsPsy.longfact[21]>1e-12&&(I*=r.nsPsy.longfact[21]);for(var y=l-1;y>=e;y--)if(Math.abs(p[y])<I)p[y]=0;else{M=!0;break}}else for(var $=0;$<3;$++)for(var M=!1,c=D1.PSFB12-1;c>=0&&!M;c--){var e=r.scalefac_band.s[12]*3+(r.scalefac_band.s[13]-r.scalefac_band.s[12])*$+(r.scalefac_band.psfb12[c]-r.scalefac_band.psfb12[0]),l=e+(r.scalefac_band.psfb12[c+1]-r.scalefac_band.psfb12[c]),Q=i.athAdjust(A.adjust,A.psfb12[c],A.floor);r.nsPsy.shortfact[12]>1e-12&&(Q*=r.nsPsy.shortfact[12]);for(var y=l-1;y>=e;y--)if(Math.abs(p[y])<Q)p[y]=0;else{M=!0;break}}}this.init_outer_loop=function(r,n){n.part2_3_length=0,n.big_values=0,n.count1=0,n.global_gain=210,n.scalefac_compress=0,n.table_select[0]=0,n.table_select[1]=0,n.table_select[2]=0,n.subblock_gain[0]=0,n.subblock_gain[1]=0,n.subblock_gain[2]=0,n.subblock_gain[3]=0,n.region0_count=0,n.region1_count=0,n.preflag=0,n.scalefac_scale=0,n.count1table_select=0,n.part2_length=0,n.sfb_lmax=D1.SBPSY_l,n.sfb_smin=D1.SBPSY_s,n.psy_lmax=r.sfb21_extra?D1.SBMAX_l:D1.SBPSY_l,n.psymax=n.psy_lmax,n.sfbmax=n.sfb_lmax,n.sfbdivide=11;for(var A=0;A<D1.SBMAX_l;A++)n.width[A]=r.scalefac_band.l[A+1]-r.scalefac_band.l[A],n.window[A]=3;if(n.block_type==D1.SHORT_TYPE){var p=He(576);n.sfb_smin=0,n.sfb_lmax=0,n.mixed_block_flag!=0&&(n.sfb_smin=3,n.sfb_lmax=r.mode_gr*2+4),n.psymax=n.sfb_lmax+3*((r.sfb21_extra?D1.SBMAX_s:D1.SBPSY_s)-n.sfb_smin),n.sfbmax=n.sfb_lmax+3*(D1.SBPSY_s-n.sfb_smin),n.sfbdivide=n.sfbmax-18,n.psy_lmax=n.sfb_lmax;var M=r.scalefac_band.l[n.sfb_lmax];Re.arraycopy(n.xr,0,p,0,576);for(var A=n.sfb_smin;A<D1.SBMAX_s;A++)for(var c=r.scalefac_band.s[A],e=r.scalefac_band.s[A+1],l=0;l<3;l++)for(var I=c;I<e;I++)n.xr[M++]=p[3*I+l];for(var y=n.sfb_lmax,A=n.sfb_smin;A<D1.SBMAX_s;A++)n.width[y]=n.width[y+1]=n.width[y+2]=r.scalefac_band.s[A+1]-r.scalefac_band.s[A],n.window[y]=0,n.window[y+1]=1,n.window[y+2]=2,y+=3}n.count1bits=0,n.sfb_partition_table=i.nr_of_sfb_block[0][0],n.slen[0]=0,n.slen[1]=0,n.slen[2]=0,n.slen[3]=0,n.max_nonzero_coeff=575,Te.fill(n.scalefac,0),i1(r,n)};function k(r){this.ordinal=r}k.BINSEARCH_NONE=new k(0),k.BINSEARCH_UP=new k(1),k.BINSEARCH_DOWN=new k(2);function j(r,n,A,p,M){var c,e=r.CurrentStep[p],l=!1,I=r.OldValue[p],y=k.BINSEARCH_NONE;for(n.global_gain=I,A-=n.part2_length,ve(e!=0);;){var $;if(c=U.count_bits(r,M,n,null),e==1||c==A)break;c>A?(y==k.BINSEARCH_DOWN&&(l=!0),l&&(e/=2),y=k.BINSEARCH_UP,$=e):(y==k.BINSEARCH_UP&&(l=!0),l&&(e/=2),y=k.BINSEARCH_DOWN,$=-e),n.global_gain+=$,n.global_gain<0&&(n.global_gain=0,l=!0),n.global_gain>255&&(n.global_gain=255,l=!0)}for(ve(n.global_gain>=0),ve(n.global_gain<256);c>A&&n.global_gain<255;)n.global_gain++,c=U.count_bits(r,M,n,null);return r.CurrentStep[p]=I-n.global_gain>=4?4:2,r.OldValue[p]=n.global_gain,n.part2_3_length=c,c}this.trancate_smallspectrums=function(r,n,A,p){var M=He(h0.SFBMAX);if(!(!(r.substep_shaping&4)&&n.block_type==D1.SHORT_TYPE||r.substep_shaping&128)){i.calc_noise(n,A,M,new xe,null);for(var e=0;e<576;e++){var c=0;n.l3_enc[e]!=0&&(c=Math.abs(n.xr[e])),p[e]=c}var e=0,l=8;n.block_type==D1.SHORT_TYPE&&(l=6);do{var I,y,$,Q,h=n.width[l];if(e+=h,!(M[l]>=1)&&(Te.sort(p,e-h,h),!BitStream.EQ(p[e-1],0))){I=(1-M[l])*A[l],y=0,Q=0;do{var m;for($=1;Q+$<h&&!BitStream.NEQ(p[Q+e-h],p[Q+e+$-h]);$++);if(m=p[Q+e-h]*p[Q+e-h]*$,I<m){Q!=0&&(y=p[Q+e-h-1]);break}I-=m,Q+=$}while(Q<h);if(!BitStream.EQ(y,0))do Math.abs(n.xr[e-h])<=y&&(n.l3_enc[e-h]=0);while(--h>0)}}while(++l<n.psymax);n.part2_3_length=U.noquant_count_bits(r,n,null)}};function g(r){for(var n=0;n<r.sfbmax;n++)if(r.scalefac[n]+r.subblock_gain[r.window[n]]==0)return!1;return!0}function d(r){return Je.FAST_LOG10(.368+.632*r*r*r)}function G(r,n){for(var A=1e-37,p=0;p<n.psymax;p++)A+=d(r[p]);return Math.max(1e-20,A)}function O(r,n,A,p,M){var c;switch(r){default:case 9:n.over_count>0?(c=A.over_SSD<=n.over_SSD,A.over_SSD==n.over_SSD&&(c=A.bits<n.bits)):c=A.max_noise<0&&A.max_noise*10+A.bits<=n.max_noise*10+n.bits;break;case 0:c=A.over_count<n.over_count||A.over_count==n.over_count&&A.over_noise<n.over_noise||A.over_count==n.over_count&&BitStream.EQ(A.over_noise,n.over_noise)&&A.tot_noise<n.tot_noise;break;case 8:A.max_noise=G(M,p);case 1:c=A.max_noise<n.max_noise;break;case 2:c=A.tot_noise<n.tot_noise;break;case 3:c=A.tot_noise<n.tot_noise&&A.max_noise<n.max_noise;break;case 4:c=A.max_noise<=0&&n.max_noise>.2||A.max_noise<=0&&n.max_noise<0&&n.max_noise>A.max_noise-.2&&A.tot_noise<n.tot_noise||A.max_noise<=0&&n.max_noise>0&&n.max_noise>A.max_noise-.2&&A.tot_noise<n.tot_noise+n.over_noise||A.max_noise>0&&n.max_noise>-.05&&n.max_noise>A.max_noise-.1&&A.tot_noise+A.over_noise<n.tot_noise+n.over_noise||A.max_noise>0&&n.max_noise>-.1&&n.max_noise>A.max_noise-.15&&A.tot_noise+A.over_noise+A.over_noise<n.tot_noise+n.over_noise+n.over_noise;break;case 5:c=A.over_noise<n.over_noise||BitStream.EQ(A.over_noise,n.over_noise)&&A.tot_noise<n.tot_noise;break;case 6:c=A.over_noise<n.over_noise||BitStream.EQ(A.over_noise,n.over_noise)&&(A.max_noise<n.max_noise||BitStream.EQ(A.max_noise,n.max_noise)&&A.tot_noise<=n.tot_noise);break;case 7:c=A.over_count<n.over_count||A.over_noise<n.over_noise;break}return n.over_count==0&&(c=c&&A.bits<n.bits),c}function B(r,n,A,p,M){var c=r.internal_flags,e;n.scalefac_scale==0?e=1.2968395546510096:e=1.6817928305074292;for(var l=0,I=0;I<n.sfbmax;I++)l<A[I]&&(l=A[I]);var y=c.noise_shaping_amp;switch(y==3&&(M?y=2:y=1),y){case 2:break;case 1:l>1?l=Math.pow(l,.5):l*=.95;break;case 0:default:l>1?l=1:l*=.95;break}for(var $=0,I=0;I<n.sfbmax;I++){var Q=n.width[I],h;if($+=Q,!(A[I]<l)){if(c.substep_shaping&2&&(c.pseudohalf[I]=c.pseudohalf[I]==0?1:0,c.pseudohalf[I]==0&&c.noise_shaping_amp==2))return;for(n.scalefac[I]++,h=-Q;h<0;h++)p[$+h]*=e,p[$+h]>n.xrpow_max&&(n.xrpow_max=p[$+h]);if(c.noise_shaping_amp==2)return}}}function q(r,n){for(var A=1.2968395546510096,p=0,M=0;M<r.sfbmax;M++){var c=r.width[M],e=r.scalefac[M];if(r.preflag!=0&&(e+=i.pretab[M]),p+=c,e&1){e++;for(var l=-c;l<0;l++)n[p+l]*=A,n[p+l]>r.xrpow_max&&(r.xrpow_max=n[p+l])}r.scalefac[M]=e>>1}r.preflag=0,r.scalefac_scale=1}function s1(r,n,A){var p,M=n.scalefac;for(p=0;p<n.sfb_lmax;p++)if(M[p]>=16)return!0;for(var c=0;c<3;c++){var e=0,l=0;for(p=n.sfb_lmax+c;p<n.sfbdivide;p+=3)e<M[p]&&(e=M[p]);for(;p<n.sfbmax;p+=3)l<M[p]&&(l=M[p]);if(!(e<16&&l<8)){if(n.subblock_gain[c]>=7)return!0;n.subblock_gain[c]++;var I=r.scalefac_band.l[n.sfb_lmax];for(p=n.sfb_lmax+c;p<n.sfbmax;p+=3){var m,y=n.width[p],$=M[p];if(ve($>=0),$=$-(4>>n.scalefac_scale),$>=0){M[p]=$,I+=y*3;continue}M[p]=0;var Q=210+($<<n.scalefac_scale+1);m=i.IPOW20(Q),I+=y*(c+1);for(var h=-y;h<0;h++)A[I+h]*=m,A[I+h]>n.xrpow_max&&(n.xrpow_max=A[I+h]);I+=y*(3-c-1)}var m=i.IPOW20(202);I+=n.width[p]*(c+1);for(var h=-n.width[p];h<0;h++)A[I+h]*=m,A[I+h]>n.xrpow_max&&(n.xrpow_max=A[I+h])}}return!1}function h1(r,n,A,p,M){var c=r.internal_flags;B(r,n,A,p,M);var e=g(n);return e?!1:(c.mode_gr==2?e=U.scale_bitcount(n):e=U.scale_bitcount_lsf(c,n),e?(c.noise_shaping>1&&(Te.fill(c.pseudohalf,0),n.scalefac_scale==0?(q(n,p),e=!1):n.block_type==D1.SHORT_TYPE&&c.subblock_gain>0&&(e=s1(c,n,p)||g(n))),e||(c.mode_gr==2?e=U.scale_bitcount(n):e=U.scale_bitcount_lsf(c,n)),!e):!0)}this.outer_loop=function(r,n,A,p,M,c){var e=r.internal_flags,l=new o0,I=He(576),y=He(h0.SFBMAX),$=new xe,Q,h=new A0,m=9999999,Y=!1,v=!1,X=0;if(j(e,n,c,M,p),e.noise_shaping==0)return 100;i.calc_noise(n,A,y,$,h),$.bits=n.part2_3_length,l.assign(n);var L=0;for(Re.arraycopy(p,0,I,0,576);!Y;){do{var V=new xe,K,l1=255;if(e.substep_shaping&2?K=20:K=3,e.sfb21_extra&&(y[l.sfbmax]>1||l.block_type==D1.SHORT_TYPE&&(y[l.sfbmax+1]>1||y[l.sfbmax+2]>1))||!h1(r,l,y,p,v))break;l.scalefac_scale!=0&&(l1=254);var E=c-l.part2_length;if(E<=0)break;for(;(l.part2_3_length=U.count_bits(e,p,l,h))>E&&l.global_gain<=l1;)l.global_gain++;if(l.global_gain>l1)break;if($.over_count==0){for(;(l.part2_3_length=U.count_bits(e,p,l,h))>m&&l.global_gain<=l1;)l.global_gain++;if(l.global_gain>l1)break}if(i.calc_noise(l,A,y,V,h),V.bits=l.part2_3_length,n.block_type!=D1.SHORT_TYPE?Q=r.quant_comp:Q=r.quant_comp_short,Q=O(Q,$,V,l,y)?1:0,Q!=0)m=n.part2_3_length,$=V,n.assign(l),L=0,Re.arraycopy(p,0,I,0,576);else if(e.full_outer_loop==0&&(++L>K&&$.over_count==0||e.noise_shaping_amp==3&&v&&L>30||e.noise_shaping_amp==3&&v&&l.global_gain-X>15))break}while(l.global_gain+l.scalefac_scale<255);e.noise_shaping_amp==3?v?Y=!0:(l.assign(n),Re.arraycopy(I,0,p,0,576),L=0,X=l.global_gain,v=!0):Y=!0}return ve(n.global_gain+n.scalefac_scale<=255),r.VBR==l0.vbr_rh||r.VBR==l0.vbr_mtrh?Re.arraycopy(I,0,p,0,576):e.substep_shaping&1&&trancate_smallspectrums(e,n,A,p),$.over_count},this.iteration_finish_one=function(r,n,A){var p=r.l3_side,M=p.tt[n][A];U.best_scalefac_store(r,n,A,p),r.use_best_huffman==1&&U.best_huffman_divide(r,M),_1.ResvAdjust(r,M)},this.VBR_encode_granule=function(r,n,A,p,M,c,e){var l=r.internal_flags,I=new o0,y=He(576),$=e,Q=e+1,h=(e+c)/2,m,Y,v=0,X=l.sfb21_extra;ve($<=LameInternalFlags.MAX_BITS_PER_CHANNEL),Te.fill(I.l3_enc,0);do ve(h>=c),ve(h<=e),ve(c<=e),h>$-42?l.sfb21_extra=!1:l.sfb21_extra=X,Y=outer_loop(r,n,A,p,M,h),Y<=0?(v=1,Q=n.part2_3_length,I.assign(n),Re.arraycopy(p,0,y,0,576),e=Q-32,m=e-c,h=(e+c)/2):(c=h+32,m=e-c,h=(e+c)/2,v!=0&&(v=2,n.assign(I),Re.arraycopy(y,0,p,0,576)));while(m>12);l.sfb21_extra=X,v==2&&Re.arraycopy(I.l3_enc,0,n.l3_enc,0,576),ve(n.part2_3_length<=$)},this.get_framebits=function(r,n){var A=r.internal_flags;A.bitrate_index=A.VBR_min_bitrate;var p=r1.getframebits(r);A.bitrate_index=1,p=r1.getframebits(r);for(var M=1;M<=A.VBR_max_bitrate;M++){A.bitrate_index=M;var c=new MeanBits(p);n[M]=_1.ResvFrameBegin(r,c),p=c.bits}},this.VBR_old_prepare=function(r,n,A,p,M,c,e,l,I){var y=r.internal_flags,$,Q=0,h=1,m=0;y.bitrate_index=y.VBR_max_bitrate;var Y=_1.ResvFrameBegin(r,new MeanBits(0))/y.mode_gr;get_framebits(r,c);for(var v=0;v<y.mode_gr;v++){var X=i.on_pe(r,n,l[v],Y,v,0);y.mode_ext==D1.MPG_MD_MS_LR&&(ms_convert(y.l3_side,v),i.reduce_side(l[v],A[v],Y,X));for(var L=0;L<y.channels_out;++L){var V=y.l3_side.tt[v][L];V.block_type!=D1.SHORT_TYPE?(Q=1.28/(1+Math.exp(3.5-n[v][L]/300))-.05,$=y.PSY.mask_adjust-Q):(Q=2.56/(1+Math.exp(3.5-n[v][L]/300))-.14,$=y.PSY.mask_adjust_short-Q),y.masking_lower=Math.pow(10,$*.1),init_outer_loop(y,V),I[v][L]=i.calc_xmin(r,p[v][L],V,M[v][L]),I[v][L]!=0&&(h=0),e[v][L]=126,m+=l[v][L]}}for(var v=0;v<y.mode_gr;v++)for(var L=0;L<y.channels_out;L++)m>c[y.VBR_max_bitrate]&&(l[v][L]*=c[y.VBR_max_bitrate],l[v][L]/=m),e[v][L]>l[v][L]&&(e[v][L]=l[v][L]);return h},this.bitpressure_strategy=function(r,n,A,p){for(var M=0;M<r.mode_gr;M++)for(var c=0;c<r.channels_out;c++){for(var e=r.l3_side.tt[M][c],l=n[M][c],I=0,y=0;y<e.psy_lmax;y++)l[I++]*=1+.029*y*y/D1.SBMAX_l/D1.SBMAX_l;if(e.block_type==D1.SHORT_TYPE)for(var y=e.sfb_smin;y<D1.SBMAX_s;y++)l[I++]*=1+.029*y*y/D1.SBMAX_s/D1.SBMAX_s,l[I++]*=1+.029*y*y/D1.SBMAX_s/D1.SBMAX_s,l[I++]*=1+.029*y*y/D1.SBMAX_s/D1.SBMAX_s;p[M][c]=0|Math.max(A[M][c],.9*p[M][c])}},this.VBR_new_prepare=function(r,n,A,p,M,c){var e=r.internal_flags,l=1,I=0,y=0,$;if(r.free_format){e.bitrate_index=0;var Q=new MeanBits(I);$=_1.ResvFrameBegin(r,Q),I=Q.bits,M[0]=$}else{e.bitrate_index=e.VBR_max_bitrate;var Q=new MeanBits(I);_1.ResvFrameBegin(r,Q),I=Q.bits,get_framebits(r,M),$=M[e.VBR_max_bitrate]}for(var h=0;h<e.mode_gr;h++){i.on_pe(r,n,c[h],I,h,0),e.mode_ext==D1.MPG_MD_MS_LR&&ms_convert(e.l3_side,h);for(var m=0;m<e.channels_out;++m){var Y=e.l3_side.tt[h][m];e.masking_lower=Math.pow(10,e.PSY.mask_adjust*.1),init_outer_loop(e,Y),i.calc_xmin(r,A[h][m],Y,p[h][m])!=0&&(l=0),y+=c[h][m]}}for(var h=0;h<e.mode_gr;h++)for(var m=0;m<e.channels_out;m++)y>$&&(c[h][m]*=$,c[h][m]/=y);return l},this.calc_target_bits=function(r,n,A,p,M,c){var e=r.internal_flags,l=e.l3_side,I,y,$,Q,h=0;e.bitrate_index=e.VBR_max_bitrate;var m=new MeanBits(h);for(c[0]=_1.ResvFrameBegin(r,m),h=m.bits,e.bitrate_index=1,h=r1.getframebits(r)-e.sideinfo_len*8,M[0]=h/(e.mode_gr*e.channels_out),h=r.VBR_mean_bitrate_kbps*r.framesize*1e3,e.substep_shaping&1&&(h*=1.09),h/=r.out_samplerate,h-=e.sideinfo_len*8,h/=e.mode_gr*e.channels_out,I=.93+.07*(11-r.compression_ratio)/5.5,I<.9&&(I=.9),I>1&&(I=1),y=0;y<e.mode_gr;y++){var Y=0;for($=0;$<e.channels_out;$++){if(p[y][$]=int(I*h),n[y][$]>700){var v=int((n[y][$]-700)/1.4),X=l.tt[y][$];p[y][$]=int(I*h),X.block_type==D1.SHORT_TYPE&&v<h/2&&(v=h/2),v>h*3/2?v=h*3/2:v<0&&(v=0),p[y][$]+=v}p[y][$]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(p[y][$]=LameInternalFlags.MAX_BITS_PER_CHANNEL),Y+=p[y][$]}if(Y>LameInternalFlags.MAX_BITS_PER_GRANULE)for($=0;$<e.channels_out;++$)p[y][$]*=LameInternalFlags.MAX_BITS_PER_GRANULE,p[y][$]/=Y}if(e.mode_ext==D1.MPG_MD_MS_LR)for(y=0;y<e.mode_gr;y++)i.reduce_side(p[y],A[y],h*e.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(Q=0,y=0;y<e.mode_gr;y++)for($=0;$<e.channels_out;$++)p[y][$]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(p[y][$]=LameInternalFlags.MAX_BITS_PER_CHANNEL),Q+=p[y][$];if(Q>c[0])for(y=0;y<e.mode_gr;y++)for($=0;$<e.channels_out;$++)p[y][$]*=c[0],p[y][$]/=Q}}d0=H0;var V0=v1("65Sx2"),M0={},$1=v1("3YDN3"),Xe=$1.assert;function O0(){var r1;this.setModules=function(_1){r1=_1},this.ResvFrameBegin=function(_1,i){var S=_1.internal_flags,U,Z=S.l3_side,i1=r1.getframebits(_1);i.bits=(i1-S.sideinfo_len*8)/S.mode_gr;var k=2048*S.mode_gr-8;_1.brate>320?U=8*int(_1.brate*1e3/(_1.out_samplerate/1152)/8+.5):(U=11520,_1.strict_ISO&&(U=8*int(32e4/(_1.out_samplerate/1152)/8+.5))),S.ResvMax=U-i1,S.ResvMax>k&&(S.ResvMax=k),(S.ResvMax<0||_1.disable_reservoir)&&(S.ResvMax=0);var j=i.bits*S.mode_gr+Math.min(S.ResvSize,S.ResvMax);return j>U&&(j=U),Xe(S.ResvMax%8==0),Xe(S.ResvMax>=0),Z.resvDrain_pre=0,S.pinfo!=null&&(S.pinfo.mean_bits=i.bits/2,S.pinfo.resvsize=S.ResvSize),j},this.ResvMaxBits=function(_1,i,S,U){var Z=_1.internal_flags,i1,k=Z.ResvSize,j=Z.ResvMax;U!=0&&(k+=i),Z.substep_shaping&1&&(j*=.9),S.bits=i,k*10>j*9?(i1=k-j*9/10,S.bits+=i1,Z.substep_shaping|=128):(i1=0,Z.substep_shaping&=127,!_1.disable_reservoir&&!(Z.substep_shaping&1)&&(S.bits-=.1*i));var g=k<Z.ResvMax*6/10?k:Z.ResvMax*6/10;return g-=i1,g<0&&(g=0),g},this.ResvAdjust=function(_1,i){_1.ResvSize-=i.part2_3_length+i.part2_length},this.ResvFrameEnd=function(_1,i){var S,U=_1.l3_side;_1.ResvSize+=i*_1.mode_gr;var Z=0;U.resvDrain_post=0,U.resvDrain_pre=0,(S=_1.ResvSize%8)!=0&&(Z+=S),S=_1.ResvSize-Z-_1.ResvMax,S>0&&(Xe(S%8==0),Xe(S>=0),Z+=S);var i1=Math.min(U.main_data_begin*8,Z)/8;U.resvDrain_pre+=8*i1,Z-=8*i1,_1.ResvSize-=8*i1,U.main_data_begin-=i1,U.resvDrain_post+=Z,_1.ResvSize-=Z}}M0=O0;var k0=v1("jL6I1"),Y0=v1("ctaQC");v1("cPNKB");var R0={};function X0(){var r1="http://www.mp3dev.org/",_1=3,i=98,S=4,U=0,Z=93;this.getLameVersion=function(){return _1+"."+i+"."+S},this.getLameShortVersion=function(){return _1+"."+i+"."+S},this.getLameVeryShortVersion=function(){return"LAME"+_1+"."+i+"r"},this.getPsyVersion=function(){return U+"."+Z},this.getLameUrl=function(){return r1},this.getLameOsBitness=function(){return"32bits"}}R0=X0;var B0={},$1=v1("3YDN3"),F0=$1.System,ge=$1.VbrMode;$1.Float;var u0=$1.ShortBlock;$1.Util;var x0=$1.Arrays;$1.new_array_n;var Fe=$1.new_byte;$1.new_double;$1.new_float;$1.new_float_n;$1.new_int;$1.new_int_n;var C0=$1.assert;Ve.NUMTOCENTRIES=100;Ve.MAXFRAMESIZE=2880;function Ve(){var r1,_1,i;this.setModules=function(h,m,Y){r1=h,_1=m,i=Y};var S=1,U=2,Z=4,i1=8,k=Ve.NUMTOCENTRIES,j=Ve.MAXFRAMESIZE,g=k+4+4+4+4+4,d=g+9+1+1+8+1+1+3+1+1+2+4+2+2,G=128,O=64,B=32,q=null,s1="Xing",h1="Info",r=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function n(h,m){if(h.nVbrNumFrames++,h.sum+=m,h.seen++,!(h.seen<h.want)&&(h.pos<h.size&&(h.bag[h.pos]=h.sum,h.pos++,h.seen=0),h.pos==h.size)){for(var Y=1;Y<h.size;Y+=2)h.bag[Y/2]=h.bag[Y];h.want*=2,h.pos/=2}}function A(h,m){if(!(h.pos<=0))for(var Y=1;Y<k;++Y){var v=Y/k,X,L,V=0|Math.floor(v*h.pos);V>h.pos-1&&(V=h.pos-1),X=h.bag[V],L=h.sum;var K=0|256*X/L;K>255&&(K=255),m[Y]=255&K}}this.addVbrFrame=function(h){var m=h.internal_flags,Y=Tables.bitrate_table[h.version][m.bitrate_index];C0(m.VBR_seek_table.bag!=null),n(m.VBR_seek_table,Y)};function p(h,m){var Y=h[m+0]&255;return Y<<=8,Y|=h[m+1]&255,Y<<=8,Y|=h[m+2]&255,Y<<=8,Y|=h[m+3]&255,Y}function M(h,m,Y){h[m+0]=255&(Y>>24&255),h[m+1]=255&(Y>>16&255),h[m+2]=255&(Y>>8&255),h[m+3]=255&(Y&255)}function c(h,m,Y){h[m+0]=255&(Y>>8&255),h[m+1]=255&(Y&255)}function e(h,m){return new String(h,m,s1.length(),q).equals(s1)||new String(h,m,h1.length(),q).equals(h1)}function l(h,m,Y){return 255&(h<<m|Y&~(-1<<m))}function I(h,m){var Y=h.internal_flags;m[0]=l(m[0],8,255),m[1]=l(m[1],3,7),m[1]=l(m[1],1,h.out_samplerate<16e3?0:1),m[1]=l(m[1],1,h.version),m[1]=l(m[1],2,1),m[1]=l(m[1],1,h.error_protection?0:1),m[2]=l(m[2],4,Y.bitrate_index),m[2]=l(m[2],2,Y.samplerate_index),m[2]=l(m[2],1,0),m[2]=l(m[2],1,h.extension),m[3]=l(m[3],2,h.mode.ordinal()),m[3]=l(m[3],2,Y.mode_ext),m[3]=l(m[3],1,h.copyright),m[3]=l(m[3],1,h.original),m[3]=l(m[3],2,h.emphasis),m[0]=255;var v=255&(m[1]&241),X;h.version==1?X=G:h.out_samplerate<16e3?X=B:X=O,h.VBR==ge.vbr_off&&(X=h.brate);var L;h.free_format?L=0:L=255&16*r1.BitrateIndex(X,h.version,h.out_samplerate),h.version==1?(m[1]=255&(v|10),v=255&(m[2]&13),m[2]=255&(L|v)):(m[1]=255&(v|2),v=255&(m[2]&13),m[2]=255&(L|v))}this.getVbrTag=function(h){var m=new VBRTagData,Y=0;m.flags=0;var v=h[Y+1]>>3&1,X=h[Y+2]>>2&3,L=h[Y+3]>>6&3,V=h[Y+2]>>4&15;if(V=Tables.bitrate_table[v][V],h[Y+1]>>4==14?m.samprate=Tables.samplerate_table[2][X]:m.samprate=Tables.samplerate_table[v][X],v!=0?L!=3?Y+=36:Y+=21:L!=3?Y+=21:Y+=13,!e(h,Y))return null;Y+=4,m.hId=v;var K=m.flags=p(h,Y);if(Y+=4,K&S&&(m.frames=p(h,Y),Y+=4),K&U&&(m.bytes=p(h,Y),Y+=4),K&Z){if(m.toc!=null)for(var l1=0;l1<k;l1++)m.toc[l1]=h[Y+l1];Y+=k}m.vbrScale=-1,K&i1&&(m.vbrScale=p(h,Y),Y+=4),m.headersize=(v+1)*72e3*V/m.samprate,Y+=21;var E=h[Y+0]<<4;E+=h[Y+1]>>4;var w=(h[Y+1]&15)<<8;return w+=h[Y+2]&255,(E<0||E>3e3)&&(E=-1),(w<0||w>3e3)&&(w=-1),m.encDelay=E,m.encPadding=w,m},this.InitVbrTag=function(h){var m=h.internal_flags,Y;h.version==1?Y=G:h.out_samplerate<16e3?Y=B:Y=O,h.VBR==ge.vbr_off&&(Y=h.brate);var v=(h.version+1)*72e3*Y/h.out_samplerate,X=m.sideinfo_len+d;if(m.VBR_seek_table.TotalFrameSize=v,v<X||v>j){h.bWriteVbrTag=!1;return}m.VBR_seek_table.nVbrNumFrames=0,m.VBR_seek_table.nBytesWritten=0,m.VBR_seek_table.sum=0,m.VBR_seek_table.seen=0,m.VBR_seek_table.want=1,m.VBR_seek_table.pos=0,m.VBR_seek_table.bag==null&&(m.VBR_seek_table.bag=new int[400],m.VBR_seek_table.size=400);var L=Fe(j);I(h,L);for(var V=m.VBR_seek_table.TotalFrameSize,K=0;K<V;++K)_1.add_dummy_byte(h,L[K]&255,1)};function y(h,m){var Y=m^h;return m=m>>8^r[Y&255],m}this.updateMusicCRC=function(h,m,Y,v){for(var X=0;X<v;++X)h[0]=y(m[Y+X],h[0])};function $(h,m,Y,v,X){var L=h.internal_flags,V=0,K=h.encoder_delay,l1=h.encoder_padding,E=100-10*h.VBR_q-h.quality,w=i.getLameVeryShortVersion(),s,_=0,a,u=[1,5,3,2,4,0,3],F=0|(h.lowpassfreq/100+.5>255?255:h.lowpassfreq/100+.5),J=0,C=0,N=0,e1=h.internal_flags.noise_shaping,o1=0,c1=0,N1=0,A1=0,R1=0,p1=(h.exp_nspsytune&1)!=0,x1=(h.exp_nspsytune&2)!=0,J1=!1,t=!1,o=h.internal_flags.nogap_total,M1=h.internal_flags.nogap_current,B1=h.ATHtype,k1=0,L1;switch(h.VBR){case vbr_abr:L1=h.VBR_mean_bitrate_kbps;break;case vbr_off:L1=h.brate;break;default:L1=h.VBR_min_bitrate_kbps}switch(h.VBR.ordinal()<u.length?s=u[h.VBR.ordinal()]:s=0,a=16*_+s,L.findReplayGain&&(L.RadioGain>510&&(L.RadioGain=510),L.RadioGain<-510&&(L.RadioGain=-510),C=8192,C|=3072,L.RadioGain>=0?C|=L.RadioGain:(C|=512,C|=-L.RadioGain)),L.findPeakSample&&(J=Math.abs(0|L.PeakSample/32767*Math.pow(2,23)+.5)),o!=-1&&(M1>0&&(t=!0),M1<o-1&&(J1=!0)),k1=B1+((p1?1:0)<<4)+((x1?1:0)<<5)+((J1?1:0)<<6)+((t?1:0)<<7),E<0&&(E=0),h.mode){case MONO:o1=0;break;case STEREO:o1=1;break;case DUAL_CHANNEL:o1=2;break;case JOINT_STEREO:h.force_ms?o1=4:o1=3;break;case NOT_SET:default:o1=7;break}h.in_samplerate<=32e3?N1=0:h.in_samplerate==48e3?N1=2:h.in_samplerate>48e3?N1=3:N1=1,(h.short_blocks==u0.short_block_forced||h.short_blocks==u0.short_block_dispensed||h.lowpassfreq==-1&&h.highpassfreq==-1||h.scale_left<h.scale_right||h.scale_left>h.scale_right||h.disable_reservoir&&h.brate<320||h.noATH||h.ATHonly||B1==0||h.in_samplerate<=32e3)&&(c1=1),A1=e1+(o1<<2)+(c1<<5)+(N1<<6),R1=L.nMusicCRC,M(Y,v+V,E),V+=4;for(var y1=0;y1<9;y1++)Y[v+V+y1]=255&w.charAt(y1);V+=9,Y[v+V]=255&a,V++,Y[v+V]=255&F,V++,M(Y,v+V,J),V+=4,c(Y,v+V,C),V+=2,c(Y,v+V,N),V+=2,Y[v+V]=255&k1,V++,L1>=255?Y[v+V]=255:Y[v+V]=255&L1,V++,Y[v+V]=255&K>>4,Y[v+V+1]=255&(K<<4)+(l1>>8),Y[v+V+2]=255&l1,V+=3,Y[v+V]=255&A1,V++,Y[v+V++]=0,c(Y,v+V,h.preset),V+=2,M(Y,v+V,m),V+=4,c(Y,v+V,R1),V+=2;for(var T1=0;T1<V;T1++)X=y(Y[v+T1],X);return c(Y,v+V,X),V+=2,V}function Q(h){h.seek(0);var m=Fe(10);h.readFully(m);var Y;return new String(m,"ISO-8859-1").startsWith("ID3")?Y=0:Y=((m[6]&127)<<21|(m[7]&127)<<14|(m[8]&127)<<7|m[9]&127)+m.length,Y}this.getLameTagFrame=function(h,m){var Y=h.internal_flags;if(!h.bWriteVbrTag||Y.Class_ID!=Lame.LAME_ID||Y.VBR_seek_table.pos<=0)return 0;if(m.length<Y.VBR_seek_table.TotalFrameSize)return Y.VBR_seek_table.TotalFrameSize;x0.fill(m,0,Y.VBR_seek_table.TotalFrameSize,0),I(h,m);var v=Fe(k);if(h.free_format)for(var X=1;X<k;++X)v[X]=255&255*X/100;else A(Y.VBR_seek_table,v);var L=Y.sideinfo_len;h.error_protection&&(L-=2),h.VBR==ge.vbr_off?(m[L++]=255&h1.charAt(0),m[L++]=255&h1.charAt(1),m[L++]=255&h1.charAt(2),m[L++]=255&h1.charAt(3)):(m[L++]=255&s1.charAt(0),m[L++]=255&s1.charAt(1),m[L++]=255&s1.charAt(2),m[L++]=255&s1.charAt(3)),M(m,L,S+U+Z+i1),L+=4,M(m,L,Y.VBR_seek_table.nVbrNumFrames),L+=4;var V=Y.VBR_seek_table.nBytesWritten+Y.VBR_seek_table.TotalFrameSize;M(m,L,0|V),L+=4,F0.arraycopy(v,0,m,L,v.length),L+=v.length,h.error_protection&&_1.CRC_writeheader(Y,m);for(var K=0,X=0;X<L;X++)K=y(m[X],K);return L+=$(h,V,m,L,K),Y.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(h,m){var Y=h.internal_flags;if(Y.VBR_seek_table.pos<=0||(m.seek(m.length()),m.length()==0))return-1;var v=Q(m);m.seek(v);var X=Fe(j),L=getLameTagFrame(h,X);return L>X.length?-1:(L<1||m.write(X,0,L),0)}}B0=Ve;function D0(){this.setModules=function(r1,_1){}}function q0(){this.setModules=function(r1,_1,i){}}function G0(){}function P0(){this.setModules=function(r1,_1){}}function K0(r1,_1,i){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),r1=1,_1=44100,i=128);var S=new E0,U=new D0,Z=new y0,i1=new Y0,k=new m0,j=new $0,g=new d0,d=new B0,G=new R0,O=new P0,B=new M0,q=new V0,s1=new q0,h1=new G0;S.setModules(Z,i1,k,j,g,d,G,O,h1),i1.setModules(Z,h1,G,d),O.setModules(i1,G),k.setModules(S),g.setModules(i1,B,j,q),j.setModules(q,B,S.enc.psy),B.setModules(i1),q.setModules(j),d.setModules(S,i1,G),U.setModules(s1,h1),s1.setModules(G,O,k);var r=S.lame_init();r.num_channels=r1,r.in_samplerate=_1,r.brate=i,r.mode=k0.STEREO,r.quality=3,r.bWriteVbrTag=!1,r.disable_reservoir=!0,r.write_id3tag_automatic=!1;var n=S.lame_init_params(r);_0(n==0);var A=1152,p=0|1.25*A+7200,M=i0(p);this.encodeBuffer=function(c,e){r1==1&&(e=c),_0(c.length==e.length),c.length>A&&(A=c.length,p=0|1.25*A+7200,M=i0(p));var l=S.lame_encode_buffer(r,c,e,c.length,M,0,p);return new Int8Array(M.subarray(0,l))},this.flush=function(){var c=S.lame_encode_flush(r,M,0,p);return new Int8Array(M.subarray(0,c))}}function be(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function qe(r1){return r1.charCodeAt(0)<<24|r1.charCodeAt(1)<<16|r1.charCodeAt(2)<<8|r1.charCodeAt(3)}be.RIFF=qe("RIFF");be.WAVE=qe("WAVE");be.fmt_=qe("fmt ");be.data=qe("data");be.readHeader=function(r1){var _1=new be,i=r1.getUint32(0,!1);if(be.RIFF==i&&(r1.getUint32(4,!0),be.WAVE==r1.getUint32(8,!1)&&be.fmt_==r1.getUint32(12,!1))){var S=r1.getUint32(16,!0),U=20;switch(S){case 16:case 18:_1.channels=r1.getUint16(U+2,!0),_1.sampleRate=r1.getUint32(U+4,!0);break;default:throw"extended fmt chunk not implemented"}U+=S;for(var Z=be.data,i1=0;Z!=i&&(i=r1.getUint32(U,!1),i1=r1.getUint32(U+4,!0),Z!=i);)U+=i1+8;return _1.dataLen=i1,_1.dataOffset=U+8,_1}};Ce=K0;De=be;function Z0(r1){const _1=De.readHeader(new DataView(r1)),i=new Int16Array(r1,_1.dataOffset,_1.dataLen/2),S=new Ce(_1.channels,_1.sampleRate,128),U=1152,Z=_1.channels===1?i:new Int16Array(_1.dataLen/(2*_1.channels)),i1=_1.channels===2?new Int16Array(_1.dataLen/(2*_1.channels)):void 0;if(_1.channels>1)for(let d=0;d<Z.length;d++)Z[d]=i[d*2],i1[d]=i[d*2+1];const k=[];let j=Z.length;for(let d=0;j>=U;d+=U){const G=Z.subarray(d,d+U);let O;i1&&(O=i1.subarray(d,d+U));const B=S.encodeBuffer(G,O);k.push(new Int8Array(B)),j-=U}const g=S.flush();return k.push(new Int8Array(g)),k}function Q0(r1,_1){const i=new AudioContext,S=new FileReader;S.onload=function(U){i.decodeAudioData(U.target.result,Z=>{const i1=!window.OfflineAudioContext,k=new OfflineAudioContext(1,16e3*Z.duration,16e3),j=k.createBufferSource();j.buffer=Z,j.connect(k.destination);const g=new FileReader;g.onload=function(){const d=G=>{const O=i1?G.renderedBuffer:G,B=U0(O,O.length);_1&&_1(B)};i1?(k.oncomplete=d,k.startRendering()):k.startRendering().then(d).catch(G=>console.warn(G))},g.readAsArrayBuffer(r1),j.start(0)})},S.readAsArrayBuffer(r1)}function U0(r1,_1){const i=r1.numberOfChannels,S=_1*i*2+44,U=new ArrayBuffer(S),Z=new DataView(U),i1=[];let k=0,j,g=0,d=0;for(O(1179011410),O(S-8),O(1163280727),O(544501094),O(16),G(1),G(i),O(r1.sampleRate),O(r1.sampleRate*2*i),G(i*2),G(16),O(1635017060),O(S-d-4),k=0;k<r1.numberOfChannels;k++)i1.push(r1.getChannelData(k));for(;d<S;){for(k=0;k<i;k++)j=Math.max(-1,Math.min(1,i1[k][g])),j=(.5+j<0?j*32768:j*32767)|0,Z.setInt16(d,j,!0),d+=2;g++}return U;function G(B){Z.setUint16(d,B,!0),d+=2}function O(B){Z.setUint32(d,B,!0),d+=4}}export{Q0 as downsampleToWav,Z0 as encodeMp3};
